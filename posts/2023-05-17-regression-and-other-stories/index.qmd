---
title: "Regression and Other Stories - Notes and Excerpts"
author: "Vishal Bakshi"
editor: visual
categories: 
  - R
  - statistics
---

In this blog post, I will work through the textbook [Regression and Other Stories](https://users.aalto.fi/~ave/ROS.pdf) by Andrew Gelman, Jennifer Hill, and Aki Vehtari.

Before I get into the reading, I'll note that I have not posted my solutions to exercises to honor the request of one of the authors, Aki Vehtari:

[![](aki_vehtari_tweet_thread.png){fig-alt="A tweet thread of Aki Vehtari explaining why they do not want solutions to the exercises published." width="438"}](https://twitter.com/avehtari/status/1486683277297598476?s=20)

However, to learn by writing, I will write about the process of doing the exercises, the results I got, and what I learned from it all.

# Installation

The data for this textbook is available in the `rosdata` package.

A couple of errors I had to resolve that I'm documenting here.

If you get the following error when installing a package:

```         
Error in file(filename, "r", encoding = encoding) : 
  cannot open the connection
Calls: source -> file
In addition: Warning message:
In file(filename, "r", encoding = encoding) :
  cannot open file 'renv/activate.R': No such file or directory
Execution halted
```

remove the line `source("renv/activate.R")` from both the project directory and home directory `.Rprofile` files.

When running `quarto render` if you get the following error:

`there is no package called …`

the issue might be that Quarto is not pointing towards the right `.libPaths()`. In your home directory's `.Rprofile`, add `.libPaths("path/to/lib", "path/to/lib", …)` and it will show up in `quarto check` and may resolve this issue.

```{r}
#| echo: false
#| include: false
library(tidyverse)
library(rosdata)
library(ggplot2)
library(knitr)
library(bayesplot)
library(rstanarm)
library(rstan)
library(loo)
library(survey)
library(arm)
library(rprojroot)
```

# Preface

-   After reading this book and working through the exercises, you should be able to simulate regression models on the computer and build, critically evaluate, and use them for applied problems.
-   The other special feature of this book is its broad coverage: basics of statistics and measurement, linear regression, multiple regression, Bayesian inference, logistic regression and generalized linear models, extrapolation from sample to population, and causal inference.
-   After completing Part 1 you should have access to the tools of mathematics, statistics, and computing that will allow you to work with regression models.
-   Part 1 Goals
    -   displaying and exploring data
    -   computing and graphing linear relations
    -   understanding basic probability distributions and statistical inferences
    -   simulation of random processes to represent inferential and forecast uncertainty
-   After completing Part 2 you should be able to build, fit, understand, use, and assess the fit of linear regression models.
-   After completing Part 3, you should be able to similarly work with logistic regression and other generalized linear models.
-   Part 4 covers data collection and extrapolation from sample to population.
-   Part 5 covers casual inference.
-   Part 6 introduces more advanced regression models.

## What you should be able to do after reading and working through this book

-   Part 1: Review key tools and concepts in mathematics, statistics and computing

    -   *Chapter 1*: Have a sense of the goals and challenges of regression

    -   *Chapter 2*: Explore data and be aware of issues of measurement and adjustment

    -   *Chapter 3*: Graph a straight line and know some basic mathematical tools and probability distributions

    -   *Chapter 4*: Understand statistical estimation and uncertainty assessment, along with the problems of hypothesis testing in applied statistics

    -   *Chapter 5*: Simulate probability models and uncertainty about inferences and predictions

-   Part 2: Build linear regression models, use them in real problems, and evaluate their assumptions and fit to data

    -   *Chapter 6*: Distinguish between descriptive and causal interpretations of regression, understanding these in historical context

    -   *Chapter 7*: Understand and work with simple linear regression with one predictor

    -   *Chapter 8*: Gain a conceptual understanding of least squares fitting and be able to perform these fits on the computer

    -   *Chapter 9*: Perform and understand probabilistic and simple Bayesian information aggregation, and be introduced to prior distributions and Bayesian inference

    -   *Chapter 10*: Build, fit, and understand linear models with multiple predictors

    -   *Chapter 11*: Understand the relative importance of different assumptions of regression models and be able to check models and evaluate their fit to data

    -   *Chapter 12*: Apply linear regression more effectively by transforming and combining predictors

-   Part 3: Build and work with logistic regression and generalized linear models

    -   *Chapter 13*: Fit, understand, and display logistic regression models for binary data

    -   *Chapter 14*: Build, understand and evaluate logistic regressions with interactions and other complexities

    -   *Chapter 15*: Fit, understand, and display generalized linear models, including the Poisson and negative binomial regression, ordered logistic regression, and other models

-   Part 4: Design studies and use data more effectively in applied settings

    -   *Chapter 16*: Use probability theory and simulation to guide data-collection decisions, without falling into the trap of demanding unrealistic levels of certainty

    -   *Chapter 17*: Use poststratification to generalize from sample to population, and use regression models to impute missing data

-   Part 5

    -   *Chapter 18*: Understand assumptions underlying causal inference with a focus on randomized experiments

    -   *Chapter 19*: Perform causal inference in simple setting using regressions to estimate treatments and interactions

    -   *Chapter 20*: Understand the challenges of causal inference from observational data and statistical tools for adjusting for differences between treatment and control groups

    -   *Chapter 21*: Understand the assumptions underlying more advanced methods that use auxiliary variables or particular data structures to identify causal effects, and be able to fit these models to data

-   Part 6

    -   *Chapter 22*: Get a sense of the directions in which linear and generalized linear models can be extended to attack various classes of applied problems

-   Appendixes

    -   *Appendix A*: Get started in the statistical software R, with a focus on data manipulation, statistical graphics, and fitting using regressions

    -   *Appendix B*: Become aware of some important ideas in regression workflow

After working through the book, you should be able to fit, graph, understand, and evaluate linear and generalized linear models and use these model fits to make predictions and inferences about quantities of interest, including causal effects of treatments and exposures.
