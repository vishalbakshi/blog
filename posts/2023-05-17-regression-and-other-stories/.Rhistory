axis.text = element_text(size = 10)
) +
ggtitle("Party Identification by Income Levels")
ggplot(ideo_weighted_estimates, aes(x=inc, y=weighted_estimate)) +
geom_area(aes(group = ideology, fill = ideology), position = position_stack(reverse = TRUE), show.legend = FALSE) +
annotate("text", x=5, y=.05, label="Very Liberal", color="white", size=3) +
annotate("text", x=5, y=.425, label="Lean Dem.", color="white") +
annotate("text", x=5, y=.55, label="Independent", color="white") +
annotate("text", x=5, y=.68, label="Lean Rep.") +
annotate("text", x=5, y=.87, label="Republican") +
scale_x_continuous("Average Income Level", breaks=c(1,5,9), labels = c("Low Income", "Middle Income", "High Income"), , expand = c(0, 0)) +
scale_y_continuous("Proportion of Sample", breaks=c(0,.5, 1), labels = c("0%", "50%", "100%"), expand = c(0, 0)) +
theme(
plot.margin = margin(3, 3, 2.5, 1, "lines"),
panel.border = element_rect(colour = "black", fill=NA, size=1),
plot.title = element_text(size=14,hjust = 0.5),
axis.text = element_text(size = 10)
) +
ggtitle("Party Identification by Income Levels")
ggplot(ideo_weighted_estimates, aes(x=inc, y=weighted_estimate)) +
geom_area(aes(group = ideology, fill = ideology), position = position_stack(reverse = TRUE), show.legend = FALSE) +
annotate("text", x=5, y=.01, label="Very Liberal", color="white", size=3) +
annotate("text", x=5, y=.425, label="Lean Dem.", color="white") +
annotate("text", x=5, y=.55, label="Independent", color="white") +
annotate("text", x=5, y=.68, label="Lean Rep.") +
annotate("text", x=5, y=.87, label="Republican") +
scale_x_continuous("Average Income Level", breaks=c(1,5,9), labels = c("Low Income", "Middle Income", "High Income"), , expand = c(0, 0)) +
scale_y_continuous("Proportion of Sample", breaks=c(0,.5, 1), labels = c("0%", "50%", "100%"), expand = c(0, 0)) +
theme(
plot.margin = margin(3, 3, 2.5, 1, "lines"),
panel.border = element_rect(colour = "black", fill=NA, size=1),
plot.title = element_text(size=14,hjust = 0.5),
axis.text = element_text(size = 10)
) +
ggtitle("Party Identification by Income Levels")
ggplot(ideo_weighted_estimates, aes(x=inc, y=weighted_estimate)) +
geom_area(aes(group = ideology, fill = ideology), position = position_stack(reverse = TRUE), show.legend = FALSE) +
annotate("text", x=5, y=.02, label="Very Liberal", color="white", size=3) +
annotate("text", x=5, y=.425, label="Lean Dem.", color="white") +
annotate("text", x=5, y=.55, label="Independent", color="white") +
annotate("text", x=5, y=.68, label="Lean Rep.") +
annotate("text", x=5, y=.87, label="Republican") +
scale_x_continuous("Average Income Level", breaks=c(1,5,9), labels = c("Low Income", "Middle Income", "High Income"), , expand = c(0, 0)) +
scale_y_continuous("Proportion of Sample", breaks=c(0,.5, 1), labels = c("0%", "50%", "100%"), expand = c(0, 0)) +
theme(
plot.margin = margin(3, 3, 2.5, 1, "lines"),
panel.border = element_rect(colour = "black", fill=NA, size=1),
plot.title = element_text(size=14,hjust = 0.5),
axis.text = element_text(size = 10)
) +
ggtitle("Party Identification by Income Levels")
ggplot(ideo_weighted_estimates, aes(x=inc, y=weighted_estimate)) +
geom_area(aes(group = ideology, fill = ideology), position = position_stack(reverse = TRUE), show.legend = FALSE) +
annotate("text", x=5, y=.025, label="Very Liberal", color="white", size=3) +
annotate("text", x=5, y=.425, label="Lean Dem.", color="white") +
annotate("text", x=5, y=.55, label="Independent", color="white") +
annotate("text", x=5, y=.68, label="Lean Rep.") +
annotate("text", x=5, y=.87, label="Republican") +
scale_x_continuous("Average Income Level", breaks=c(1,5,9), labels = c("Low Income", "Middle Income", "High Income"), , expand = c(0, 0)) +
scale_y_continuous("Proportion of Sample", breaks=c(0,.5, 1), labels = c("0%", "50%", "100%"), expand = c(0, 0)) +
theme(
plot.margin = margin(3, 3, 2.5, 1, "lines"),
panel.border = element_rect(colour = "black", fill=NA, size=1),
plot.title = element_text(size=14,hjust = 0.5),
axis.text = element_text(size = 10)
) +
ggtitle("Party Identification by Income Levels")
ggplot(ideo_weighted_estimates, aes(x=inc, y=weighted_estimate)) +
geom_area(aes(group = ideology, fill = ideology), position = position_stack(reverse = TRUE), show.legend = FALSE) +
annotate("text", x=5, y=.026, label="Very Liberal", color="white", size=3) +
annotate("text", x=5, y=.425, label="Lean Dem.", color="white") +
annotate("text", x=5, y=.55, label="Independent", color="white") +
annotate("text", x=5, y=.68, label="Lean Rep.") +
annotate("text", x=5, y=.87, label="Republican") +
scale_x_continuous("Average Income Level", breaks=c(1,5,9), labels = c("Low Income", "Middle Income", "High Income"), , expand = c(0, 0)) +
scale_y_continuous("Proportion of Sample", breaks=c(0,.5, 1), labels = c("0%", "50%", "100%"), expand = c(0, 0)) +
theme(
plot.margin = margin(3, 3, 2.5, 1, "lines"),
panel.border = element_rect(colour = "black", fill=NA, size=1),
plot.title = element_text(size=14,hjust = 0.5),
axis.text = element_text(size = 10)
) +
ggtitle("Party Identification by Income Levels")
ggplot(ideo_weighted_estimates, aes(x=inc, y=weighted_estimate)) +
geom_area(aes(group = ideology, fill = ideology), position = position_stack(reverse = TRUE), show.legend = FALSE) +
annotate("text", x=5, y=.027, label="Very Liberal", color="white", size=3) +
annotate("text", x=5, y=.425, label="Lean Dem.", color="white") +
annotate("text", x=5, y=.55, label="Independent", color="white") +
annotate("text", x=5, y=.68, label="Lean Rep.") +
annotate("text", x=5, y=.87, label="Republican") +
scale_x_continuous("Average Income Level", breaks=c(1,5,9), labels = c("Low Income", "Middle Income", "High Income"), , expand = c(0, 0)) +
scale_y_continuous("Proportion of Sample", breaks=c(0,.5, 1), labels = c("0%", "50%", "100%"), expand = c(0, 0)) +
theme(
plot.margin = margin(3, 3, 2.5, 1, "lines"),
panel.border = element_rect(colour = "black", fill=NA, size=1),
plot.title = element_text(size=14,hjust = 0.5),
axis.text = element_text(size = 10)
) +
ggtitle("Party Identification by Income Levels")
ggplot(ideo_weighted_estimates, aes(x=inc, y=weighted_estimate)) +
geom_area(aes(group = ideology, fill = ideology), position = position_stack(reverse = TRUE), show.legend = FALSE) +
annotate("text", x=5, y=.027, label="Very Liberal", color="white", size=3) +
annotate("text", x=5, y=.425, label="Lean Dem.", color="white") +
annotate("text", x=5, y=.55, label="Independent", color="white") +
annotate("text", x=5, y=.68, label="Lean Rep.") +
annotate("text", x=5, y=.87, label="Republican") +
scale_x_continuous("Average Income Level", breaks=c(1,5,9), labels = c("Low Income", "Middle Income", "High Income"), , expand = c(0, 0)) +
scale_y_continuous("Proportion of Sample", breaks=c(0,.5, 1), labels = c("0%", "50%", "100%"), expand = c(0, 0)) +
theme(
plot.margin = margin(3, 3, 2.5, 1, "lines"),
panel.border = element_rect(colour = "black", fill=NA, size=1),
plot.title = element_text(size=14,hjust = 0.5),
axis.text = element_text(size = 10)
) +
ggtitle("Party Identification by Income Levels")
ggplot(ideo_weighted_estimates, aes(x=inc, y=weighted_estimate)) +
geom_area(aes(group = ideology, fill = ideology), position = position_stack(reverse = TRUE), show.legend = FALSE) +
annotate("text", x=5, y=.03, label="Very Liberal", color="white", size=3) +
annotate("text", x=5, y=.425, label="Lean Dem.", color="white") +
annotate("text", x=5, y=.55, label="Independent", color="white") +
annotate("text", x=5, y=.68, label="Lean Rep.") +
annotate("text", x=5, y=.87, label="Republican") +
scale_x_continuous("Average Income Level", breaks=c(1,5,9), labels = c("Low Income", "Middle Income", "High Income"), , expand = c(0, 0)) +
scale_y_continuous("Proportion of Sample", breaks=c(0,.5, 1), labels = c("0%", "50%", "100%"), expand = c(0, 0)) +
theme(
plot.margin = margin(3, 3, 2.5, 1, "lines"),
panel.border = element_rect(colour = "black", fill=NA, size=1),
plot.title = element_text(size=14,hjust = 0.5),
axis.text = element_text(size = 10)
) +
ggtitle("Party Identification by Income Levels")
ggplot(ideo_weighted_estimates, aes(x=inc, y=weighted_estimate)) +
geom_area(aes(group = ideology, fill = ideology), position = position_stack(reverse = TRUE), show.legend = FALSE) +
annotate("text", x=5, y=.03, label="Very Liberal", color="white", size=3) +
annotate("text", x=5, y=.25, label="Liberal", color="white", size=3) +
annotate("text", x=5, y=.4, label="Moderate", color="white", size=3) +
annotate("text", x=5, y=.68, label="Conservative", size=3) +
annotate("text", x=5, y=.87, label="Very Conservative", size=3) +
scale_x_continuous("Average Income Level", breaks=c(1,5,9), labels = c("Low Income", "Middle Income", "High Income"), , expand = c(0, 0)) +
scale_y_continuous("Proportion of Sample", breaks=c(0,.5, 1), labels = c("0%", "50%", "100%"), expand = c(0, 0)) +
theme(
plot.margin = margin(3, 3, 2.5, 1, "lines"),
panel.border = element_rect(colour = "black", fill=NA, size=1),
plot.title = element_text(size=14,hjust = 0.5),
axis.text = element_text(size = 10)
) +
ggtitle("Party Identification by Income Levels")
ggplot(ideo_weighted_estimates, aes(x=inc, y=weighted_estimate)) +
geom_area(aes(group = ideology, fill = ideology), position = position_stack(reverse = TRUE), show.legend = FALSE) +
annotate("text", x=5, y=.03, label="Very Liberal", color="white", size=3) +
annotate("text", x=5, y=.25, label="Liberal", color="white", size=3) +
annotate("text", x=5, y=.4, label="Moderate", color="white", size=3) +
annotate("text", x=5, y=.68, label="Conservative", size=3) +
annotate("text", x=5, y=.95, label="Very Conservative", size=3) +
scale_x_continuous("Average Income Level", breaks=c(1,5,9), labels = c("Low Income", "Middle Income", "High Income"), , expand = c(0, 0)) +
scale_y_continuous("Proportion of Sample", breaks=c(0,.5, 1), labels = c("0%", "50%", "100%"), expand = c(0, 0)) +
theme(
plot.margin = margin(3, 3, 2.5, 1, "lines"),
panel.border = element_rect(colour = "black", fill=NA, size=1),
plot.title = element_text(size=14,hjust = 0.5),
axis.text = element_text(size = 10)
) +
ggtitle("Party Identification by Income Levels")
ggplot(ideo_weighted_estimates, aes(x=inc, y=weighted_estimate)) +
geom_area(aes(group = ideology, fill = ideology), position = position_stack(reverse = TRUE), show.legend = FALSE) +
annotate("text", x=5, y=.03, label="Very Liberal", color="white", size=3) +
annotate("text", x=5, y=.25, label="Liberal", color="white", size=3) +
annotate("text", x=5, y=.4, label="Moderate", color="white", size=3) +
annotate("text", x=5, y=.8, label="Conservative", size=3) +
annotate("text", x=5, y=.95, label="Very Conservative", size=3) +
scale_x_continuous("Average Income Level", breaks=c(1,5,9), labels = c("Low Income", "Middle Income", "High Income"), , expand = c(0, 0)) +
scale_y_continuous("Proportion of Sample", breaks=c(0,.5, 1), labels = c("0%", "50%", "100%"), expand = c(0, 0)) +
theme(
plot.margin = margin(3, 3, 2.5, 1, "lines"),
panel.border = element_rect(colour = "black", fill=NA, size=1),
plot.title = element_text(size=14,hjust = 0.5),
axis.text = element_text(size = 10)
) +
ggtitle("Party Identification by Income Levels")
ggplot(ideo_weighted_estimates, aes(x=inc, y=weighted_estimate)) +
geom_area(aes(group = ideology, fill = ideology), position = position_stack(reverse = TRUE), show.legend = FALSE) +
annotate("text", x=5, y=.03, label="Very Liberal", color="white", size=3) +
annotate("text", x=5, y=.25, label="Liberal", color="white", size=3) +
annotate("text", x=5, y=.4, label="Moderate", color="white", size=3) +
annotate("text", x=5, y=.7, label="Conservative", size=3) +
annotate("text", x=5, y=.95, label="Very Conservative", size=3) +
scale_x_continuous("Average Income Level", breaks=c(1,5,9), labels = c("Low Income", "Middle Income", "High Income"), , expand = c(0, 0)) +
scale_y_continuous("Proportion of Sample", breaks=c(0,.5, 1), labels = c("0%", "50%", "100%"), expand = c(0, 0)) +
theme(
plot.margin = margin(3, 3, 2.5, 1, "lines"),
panel.border = element_rect(colour = "black", fill=NA, size=1),
plot.title = element_text(size=14,hjust = 0.5),
axis.text = element_text(size = 10)
) +
ggtitle("Party Identification by Income Levels")
ggplot(ideo_weighted_estimates, aes(x=inc, y=weighted_estimate)) +
geom_area(aes(group = ideology, fill = ideology), position = position_stack(reverse = TRUE), show.legend = FALSE) +
annotate("text", x=5, y=.03, label="Very Liberal", color="white", size=3) +
annotate("text", x=5, y=.25, label="Liberal", color="white", size=3) +
annotate("text", x=5, y=.4, label="Moderate", color="white", size=3) +
annotate("text", x=5, y=.75, label="Conservative", size=3) +
annotate("text", x=5, y=.95, label="Very Conservative", size=3) +
scale_x_continuous("Average Income Level", breaks=c(1,5,9), labels = c("Low Income", "Middle Income", "High Income"), , expand = c(0, 0)) +
scale_y_continuous("Proportion of Sample", breaks=c(0,.5, 1), labels = c("0%", "50%", "100%"), expand = c(0, 0)) +
theme(
plot.margin = margin(3, 3, 2.5, 1, "lines"),
panel.border = element_rect(colour = "black", fill=NA, size=1),
plot.title = element_text(size=14,hjust = 0.5),
axis.text = element_text(size = 10)
) +
ggtitle("Party Identification by Income Levels")
ggplot(ideo_weighted_estimates, aes(x=inc, y=weighted_estimate)) +
geom_area(aes(group = ideology, fill = ideology), position = position_stack(reverse = TRUE), show.legend = FALSE) +
annotate("text", x=5, y=.03, label="Very Liberal", color="white", size=3) +
annotate("text", x=5, y=.2, label="Liberal", color="white", size=3) +
annotate("text", x=5, y=.4, label="Moderate", color="white", size=3) +
annotate("text", x=5, y=.75, label="Conservative", size=3) +
annotate("text", x=5, y=.95, label="Very Conservative", size=3) +
scale_x_continuous("Average Income Level", breaks=c(1,5,9), labels = c("Low Income", "Middle Income", "High Income"), , expand = c(0, 0)) +
scale_y_continuous("Proportion of Sample", breaks=c(0,.5, 1), labels = c("0%", "50%", "100%"), expand = c(0, 0)) +
theme(
plot.margin = margin(3, 3, 2.5, 1, "lines"),
panel.border = element_rect(colour = "black", fill=NA, size=1),
plot.title = element_text(size=14,hjust = 0.5),
axis.text = element_text(size = 10)
) +
ggtitle("Party Identification by Income Levels")
ggplot(ideo_weighted_estimates, aes(x=inc, y=weighted_estimate)) +
geom_area(aes(group = ideology, fill = ideology), position = position_stack(reverse = TRUE), show.legend = FALSE) +
annotate("text", x=5, y=.03, label="Very Liberal", color="white", size=3) +
annotate("text", x=5, y=.15, label="Liberal", color="white", size=3) +
annotate("text", x=5, y=.4, label="Moderate", color="white", size=3) +
annotate("text", x=5, y=.75, label="Conservative", size=3) +
annotate("text", x=5, y=.95, label="Very Conservative", size=3) +
scale_x_continuous("Average Income Level", breaks=c(1,5,9), labels = c("Low Income", "Middle Income", "High Income"), , expand = c(0, 0)) +
scale_y_continuous("Proportion of Sample", breaks=c(0,.5, 1), labels = c("0%", "50%", "100%"), expand = c(0, 0)) +
theme(
plot.margin = margin(3, 3, 2.5, 1, "lines"),
panel.border = element_rect(colour = "black", fill=NA, size=1),
plot.title = element_text(size=14,hjust = 0.5),
axis.text = element_text(size = 10)
) +
ggtitle("Party Identification by Income Levels")
ggplot(ideo_weighted_estimates, aes(x=inc, y=weighted_estimate)) +
geom_area(aes(group = ideology, fill = ideology), position = position_stack(reverse = TRUE), show.legend = FALSE) +
annotate("text", x=5, y=.03, label="Very Liberal", color="white", size=3) +
annotate("text", x=5, y=.13, label="Liberal", color="white", size=3) +
annotate("text", x=5, y=.4, label="Moderate", color="white", size=3) +
annotate("text", x=5, y=.75, label="Conservative", size=3) +
annotate("text", x=5, y=.95, label="Very Conservative", size=3) +
scale_x_continuous("Average Income Level", breaks=c(1,5,9), labels = c("Low Income", "Middle Income", "High Income"), , expand = c(0, 0)) +
scale_y_continuous("Proportion of Sample", breaks=c(0,.5, 1), labels = c("0%", "50%", "100%"), expand = c(0, 0)) +
theme(
plot.margin = margin(3, 3, 2.5, 1, "lines"),
panel.border = element_rect(colour = "black", fill=NA, size=1),
plot.title = element_text(size=14,hjust = 0.5),
axis.text = element_text(size = 10)
) +
ggtitle("Party Identification by Income Levels")
ggplot(ideo_weighted_estimates, aes(x=inc, y=weighted_estimate)) +
geom_area(aes(group = ideology, fill = ideology), position = position_stack(reverse = TRUE), show.legend = FALSE) +
annotate("text", x=5, y=.03, label="Very Liberal", color="white", size=3) +
annotate("text", x=5, y=.13, label="Liberal", color="white", size=3) +
annotate("text", x=5, y=.4, label="Moderate", color="white", size=3) +
annotate("text", x=5, y=.75, label="Conservative", size=3) +
annotate("text", x=5, y=.95, label="Very Conservative", size=3) +
scale_x_continuous("Average Income Level", breaks=c(1,5,9), labels = c("Low Income", "Middle Income", "High Income"), , expand = c(0, 0)) +
scale_y_continuous("Proportion of Sample", breaks=c(0,.5, 1), labels = c("0%", "50%", "100%"), expand = c(0, 0)) +
theme(
plot.margin = margin(3, 3, 2.5, 1, "lines"),
panel.border = element_rect(colour = "black", fill=NA, size=1),
plot.title = element_text(size=14,hjust = 0.5),
axis.text = element_text(size = 10)
) +
ggtitle("Ideology by Income Levels")
pew_pre <- read.dta("../../../ROS_data/Pew/data/pew_research_center_june_elect_wknd_data.dta")
n <- nrow(pew_pre)
DT::datatable(head(pew_pre))
pew_pre <- read.dta("../../../ROS_data/Pew/data/pew_research_center_june_elect_wknd_data.dta")
n <- nrow(pew_pre)
DT::datatable(head(pew_pre), options=list(scrollX=TRUE))
health <- read.table("../../../ROS_data/HealthExpenditure/data/healthexpenditure.txt", header=TRUE)
health <- read.table("../../../ROS_data/HealthExpenditure/data/healthdata.txt", header=TRUE)
country <- rownames(health)
plot(health$spending, health$lifespan, type="n")
text(health$spending, health$lifespan, country)
head(health)
health <- read.table("../../../ROS_data/HealthExpenditure/data/healthdata.txt", header=TRUE)
plot(health$spending, health$lifespan, type="n")
text(health$spending, health$lifespan, health$country)
par(mgp=c(1.7,.5,0), tck=-.01, mar=c(3,3,.1,.1))
health <- read.table("../../../ROS_data/HealthExpenditure/data/healthdata.txt", header=TRUE)
plot(health$spending, health$lifespan, type="n")
text(health$spending, health$lifespan, health$country)
par(mgp=c(1.7,.5,0), tck=-.01, mar=c(3,3,.1,.1))
ggplot(data=health, aes(x=spending, y=lifespan, label=country)) +
labs(x="Health care spending (PPP US$)",
y="Life expectancy (years)")
par(mgp=c(1.7,.5,0), tck=-.01, mar=c(3,3,.1,.1))
ggplot(data=health, aes(x=spending, y=lifespan, label=country)) +
geom_text() +
labs(x="Health care spending (PPP US$)",
y="Life expectancy (years)")
par(mgp=c(1.7,.5,0), tck=-.01, mar=c(3,3,.1,.1))
ggplot(data=health, aes(x=spending, y=lifespan, label=country)) +
geom_text() +
labs(x="Health care spending (PPP US$)",y="Life expectancy (years)") +
theme(
plot.margin = margin(3, 3, 2.5, 1, "lines"),
panel.border = element_rect(colour = "black", fill=NA, size=1),
panel.background = element_rect(fill = 'white'),
aspect.ratio = 1
) +
par(mgp=c(1.7,.5,0), tck=-.01, mar=c(3,3,.1,.1))
ggplot(data=health, aes(x=spending, y=lifespan, label=country)) +
geom_text() +
labs(x="Health care spending (PPP US$)",y="Life expectancy (years)") +
theme(
plot.margin = margin(3, 3, 2.5, 1, "lines"),
panel.border = element_rect(colour = "black", fill=NA, size=1),
panel.background = element_rect(fill = 'white'),
aspect.ratio = 1
)
par(mgp=c(1.7,.5,0), tck=-.01, mar=c(3,3,.1,.1))
ggplot(data=health, aes(x=spending, y=lifespan, label=country)) +
geom_text() +
labs(x="Health care spending (PPP US$)",y="Life expectancy (years)") +
theme(
plot.margin = margin(2, 2, 2.5, 1, "lines"),
panel.border = element_rect(colour = "black", fill=NA, size=1),
panel.background = element_rect(fill = 'white'),
aspect.ratio = 1
)
par(mgp=c(1.7,.5,0), tck=-.01, mar=c(3,3,.1,.1))
ggplot(data=health, aes(x=spending, y=lifespan, label=country)) +
geom_text() +
labs(x="Health care spending (PPP US$)",y="Life expectancy (years)") +
theme(
panel.border = element_rect(colour = "black", fill=NA, size=1),
panel.background = element_rect(fill = 'white'),
aspect.ratio = 1
)
par(mgp=c(1.7,.5,0), tck=-.01, mar=c(3,3,.1,.1))
ggplot(data=health, aes(x=spending, y=lifespan, label=country)) +
geom_text() +
labs(x="Health care spending (PPP US$)",y="Life expectancy (years)") +
theme(
panel.border = element_rect(colour = "black", fill=NA, size=1),
panel.background = element_rect(fill = 'white'),
aspect.ratio = 1.2
)
par(mgp=c(1.7,.5,0), tck=-.01, mar=c(3,3,.1,.1))
ggplot(data=health, aes(x=spending, y=lifespan, label=country)) +
geom_text() +
labs(x="Health care spending (PPP US$)",y="Life expectancy (years)") +
theme(
panel.border = element_rect(colour = "black", fill=NA, size=1),
panel.background = element_rect(fill = 'white'),
aspect.ratio = 0.75
)
par(mgp=c(1.7,.5,0), tck=-.01, mar=c(3,3,.1,.1))
ggplot(data=health, aes(x=spending, y=lifespan, label=country)) +
geom_text() +
labs(x="Health care spending (PPP US$)",y="Life expectancy (years)") +
theme(
panel.border = element_rect(colour = "black", fill=NA, size=1),
panel.background = element_rect(fill = 'white'),
aspect.ratio = 0.5
)
data_base_path <- "../../../ROS_data"
pew_data_path <- file.path(data_base_path, "Pew/data/pew_research_center_june_elect_wknd_data.dta")
pew_pre <- read.dta(pew_data_path)
n <- nrow(pew_pre)
DT::datatable(head(pew_pre), options=list(scrollX=TRUE))
par(mgp=c(1.7,.5,0), tck=-.01, mar=c(3,3,.1,.1))
ggplot(data=health, aes(x=spending, y=lifespan, label=country)) +
geom_text() +
labs(x="Health care spending (PPP US$)",y="Life expectancy (years)") +
theme(
panel.border = element_rect(colour = "black", fill=NA, size=1),
panel.background = element_rect(fill = 'white'),
aspect.ratio = 0.5
)
health
data_root_path <- "../../../ROS_data"
pew_data_path <- file.path(data_base_path, "Pew/data/pew_research_center_june_elect_wknd_data.dta")
pew_pre <- read.dta(pew_data_path)
n <- nrow(pew_pre)
DT::datatable(head(pew_pre), options=list(scrollX=TRUE))
data_root_path <- "../../../ROS_data"
pew_data_path <- file.path(data_root_path, "Pew/data/pew_research_center_june_elect_wknd_data.dta")
pew_pre <- read.dta(pew_data_path)
n <- nrow(pew_pre)
DT::datatable(head(pew_pre), options=list(scrollX=TRUE))
health_data_path = file.path(data_root_path, "HealthExpenditure/data/healthdata.txt")
health <- read.table(health_data_path, header=TRUE)
health_data_path = file.path(data_root_path, "HealthExpenditure/data/healthdata.txt")
health <- read.table(health_data_path, header=TRUE)
DT::datatable(head(health))
par(mgp=c(1.7,.5,0), tck=-.01, mar=c(3,3,.1,.1))
ggplot(data=health, aes(x=spending, y=lifespan, label=country)) +
geom_text() +
labs(x="Health care spending (PPP US$)",y="Life expectancy (years)") +
theme(
panel.border = element_rect(colour = "black", fill=NA, size=1),
panel.background = element_rect(fill = 'white'),
aspect.ratio = 0.5
)
allnames_path = file.path(data_root_path, "Names/data/allnames_clean.csv")
allnames <- read.csv(allnames_path)
DT::datatable(head(allnames))
allnames_path = file.path(data_root_path, "Names/data/allnames_clean.csv")
allnames <- read.csv(allnames_path)
DT::datatable(head(allnames), options=list(scrollX=TRUE))
#| echo: false
#| include: false
library(tidyverse)
library(rosdata)
library(ggplot2)
library(knitr)
library(bayesplot)
library(rstanarm)
library(rstan)
library(loo)
library(survey)
library(arm)
library(rprojroot)
library(foreign)
allnames_path = file.path(data_root_path, "Names/data/allnames_clean.csv")
#| echo: false
#| include: false
library(tidyverse)
library(rosdata)
library(ggplot2)
library(knitr)
library(bayesplot)
library(rstanarm)
library(rstan)
library(loo)
library(survey)
library(arm)
library(rprojroot)
library(foreign)
data_root_path <- "../../../ROS_data"
allnames_path = file.path(data_root_path, "Names/data/allnames_clean.csv")
allnames <- read.csv(allnames_path)
DT::datatable(head(allnames), options=list(scrollX=TRUE))
# reshape the data to make it longer
allnames_long <- allnames %>% rename(
id = 'X'
) %>% pivot_longer(
starts_with("X"),
names_to = "year",
values_to = "name_n"
) %>% mutate(
# remove X at start of the four-digit year
year = str_remove(year, "X"),
# extract last letter of each name
last_letter = str_sub(name, -1)
)
DT::datatable(head(allnames_long))
allnames_agg <- allnames_long %>% group_by(
year,
sex,
last_letter
) %>% summarise(
last_letter_n = sum(name_n)
) %>% mutate(
total_n = sum(last_letter_n),
last_letter_pct = last_letter_n / total_n
)
DT::datatable(head(allnames_agg, n=30))
DT::datatable(head(allnames_long))
DT::datatable(head(allnames_long))
allnames_topten_names <- allnames_long %>% group_by(
year,
sex,
name
) %>% mutate(
name_pct = name_n, sum(name_n)
)
allnames_topten_names <- allnames_long %>% group_by(
year,
sex,
name
) %>% mutate(
name_pct = name_n / sum(name_n)
)
DT::datatable(head(allnames_topten_names, n = 50))
DT::datatable(head(allnames_topten_names, n = 50))
DT::datatable(head(allnames_topten_names))
DT::datatable(head(allnames_topten_names))
allnames_topten_names <- allnames_long %>% group_by(
year,
sex
) %>% mutate(
name_pct = name_n / sum(name_n)
)
DT::datatable(head(allnames_topten_names))
DT::datatable(head(allnames_topten_names %>% arrange(year, sex)))
allnames_long %>% group_by(
year,
sex
) %>% summarise(
total_n = sum(name_n)
) %>% arrange(
year,
sex
)
7065/90787
DT::datatable(head(allnames_topten_names %>% arrange(year, sex, name_pct)))
DT::datatable(head(allnames_topten_names %>% arrange(year, sex, desc(name_pct))))
