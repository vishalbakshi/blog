<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Vishal Bakshi">

<title>vishal bakshi - Regression and Other Stories - Notes and Excerpts</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script src="../../site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<link href="../../site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="../../site_libs/datatables-binding-0.27/datatables.js"></script>
<script src="../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../../site_libs/dt-core-1.12.1/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="../../site_libs/dt-core-1.12.1/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="../../site_libs/dt-core-1.12.1/js/jquery.dataTables.min.js"></script>
<link href="../../site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="../../site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">vishal bakshi</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#installation" id="toc-installation" class="nav-link active" data-scroll-target="#installation">Installation</a></li>
  <li><a href="#preface" id="toc-preface" class="nav-link" data-scroll-target="#preface">Preface</a>
  <ul class="collapse">
  <li><a href="#what-you-should-be-able-to-do-after-reading-and-working-through-this-book" id="toc-what-you-should-be-able-to-do-after-reading-and-working-through-this-book" class="nav-link" data-scroll-target="#what-you-should-be-able-to-do-after-reading-and-working-through-this-book">What you should be able to do after reading and working through this book</a></li>
  </ul></li>
  <li><a href="#part-1-fundamentals" id="toc-part-1-fundamentals" class="nav-link" data-scroll-target="#part-1-fundamentals">Part 1: Fundamentals</a>
  <ul class="collapse">
  <li><a href="#chapter-1-overview" id="toc-chapter-1-overview" class="nav-link" data-scroll-target="#chapter-1-overview">Chapter 1: Overview</a>
  <ul class="collapse">
  <li><a href="#the-three-challenges-of-statistics" id="toc-the-three-challenges-of-statistics" class="nav-link" data-scroll-target="#the-three-challenges-of-statistics">1.1 The three challenges of statistics</a></li>
  <li><a href="#why-learn-regression" id="toc-why-learn-regression" class="nav-link" data-scroll-target="#why-learn-regression">1.2 Why learn regression?</a></li>
  <li><a href="#some-examples-of-regression" id="toc-some-examples-of-regression" class="nav-link" data-scroll-target="#some-examples-of-regression">1.3 Some examples of regression</a></li>
  <li><a href="#challenges-in-building-understanding-and-interpreting-regressions" id="toc-challenges-in-building-understanding-and-interpreting-regressions" class="nav-link" data-scroll-target="#challenges-in-building-understanding-and-interpreting-regressions">1.4 Challenges in building, understanding, and interpreting regressions</a></li>
  <li><a href="#classical-and-bayesian-inference" id="toc-classical-and-bayesian-inference" class="nav-link" data-scroll-target="#classical-and-bayesian-inference">1.5 Classical and Bayesian Inference</a></li>
  <li><a href="#computing-least-squares-and-bayesian-regression" id="toc-computing-least-squares-and-bayesian-regression" class="nav-link" data-scroll-target="#computing-least-squares-and-bayesian-regression">1.6 Computing least squares and Bayesian regression</a></li>
  <li><a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises">1.8 Exercises</a></li>
  </ul></li>
  <li><a href="#chapter-2-data-and-measurement" id="toc-chapter-2-data-and-measurement" class="nav-link" data-scroll-target="#chapter-2-data-and-measurement">Chapter 2: Data and Measurement</a>
  <ul class="collapse">
  <li><a href="#examining-where-data-comes-from" id="toc-examining-where-data-comes-from" class="nav-link" data-scroll-target="#examining-where-data-comes-from">2.1 Examining where data comes from</a></li>
  <li><a href="#validity-and-reliability" id="toc-validity-and-reliability" class="nav-link" data-scroll-target="#validity-and-reliability">2.2 Validity and reliability</a></li>
  <li><a href="#all-graphs-are-comparisons" id="toc-all-graphs-are-comparisons" class="nav-link" data-scroll-target="#all-graphs-are-comparisons">2.3 All graphs are comparisons</a></li>
  <li><a href="#data-and-adjustment-trends-in-mortality-rates" id="toc-data-and-adjustment-trends-in-mortality-rates" class="nav-link" data-scroll-target="#data-and-adjustment-trends-in-mortality-rates">2.4 Data and adjustment: trends in mortality rates</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Regression and Other Stories - Notes and Excerpts</h1>
  <div class="quarto-categories">
    <div class="quarto-category">R</div>
    <div class="quarto-category">statistics</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Vishal Bakshi </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<p>In this blog post, I will work through the textbook <a href="https://users.aalto.fi/~ave/ROS.pdf"><em>Regression and Other Stories</em></a> by Andrew Gelman, Jennifer Hill, and Aki Vehtari. I’ll be posting excerpts (sometimes verbatim), notes (paraphrased excerpts) and my thoughts about the content (and any other related reading that I come across while understanding the textbook topics).</p>
<p>Starting in Chapter 2, I recreate the plots shown in the textbook first by following their provided code on the <a href="https://avehtari.github.io/ROS-Examples/examples.html#Examples_by_chapters">supplemental website</a>, and then by recreating it using tidyverse and ggplot. This process gives me practice reading and understanding other people’s code, as well as practice applying tidyverse and ggplot syntax and principles to produce a similar result with different code.</p>
<p>Before I get into the reading, I’ll note that I have not posted my solutions to exercises to honor the request of one of the authors, Aki Vehtari:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://twitter.com/avehtari/status/1486683277297598476?s=20"><img src="aki_vehtari_tweet_thread.png" class="img-fluid figure-img" alt="A tweet thread of Aki Vehtari explaining why they do not want solutions to the exercises published." width="438"></a></p>
</figure>
</div>
<p>However, to learn by writing, I will write about the process of doing the exercises, the results I got, and what I learned from it all.</p>
<section id="installation" class="level1">
<h1>Installation</h1>
<p>The data for this textbook is available in the <code>rosdata</code> package.</p>
<p>A couple of errors I had to resolve that I’m documenting here.</p>
<p>If you get the following error when installing a package:</p>
<pre><code>Error in file(filename, "r", encoding = encoding) : 
  cannot open the connection
Calls: source -&gt; file
In addition: Warning message:
In file(filename, "r", encoding = encoding) :
  cannot open file 'renv/activate.R': No such file or directory
Execution halted</code></pre>
<p>remove the line <code>source("renv/activate.R")</code> from both the project directory and home directory <code>.Rprofile</code> files.</p>
<p>When running <code>quarto render</code> if you get the following error:</p>
<p><code>there is no package called …</code></p>
<p>the issue might be that Quarto is not pointing towards the right <code>.libPaths()</code>. In your home directory’s <code>.Rprofile</code>, add <code>.libPaths("path/to/lib", "path/to/lib", …)</code> and it will show up in <code>quarto check</code> and may resolve this issue.</p>
</section>
<section id="preface" class="level1">
<h1>Preface</h1>
<ul>
<li>After reading this book and working through the exercises, you should be able to simulate regression models on the computer and build, critically evaluate, and use them for applied problems.</li>
<li>The other special feature of this book is its broad coverage: basics of statistics and measurement, linear regression, multiple regression, Bayesian inference, logistic regression and generalized linear models, extrapolation from sample to population, and causal inference.</li>
<li>After completing Part 1 you should have access to the tools of mathematics, statistics, and computing that will allow you to work with regression models.</li>
<li>Part 1 Goals
<ul>
<li>displaying and exploring data</li>
<li>computing and graphing linear relations</li>
<li>understanding basic probability distributions and statistical inferences</li>
<li>simulation of random processes to represent inferential and forecast uncertainty</li>
</ul></li>
<li>After completing Part 2 you should be able to build, fit, understand, use, and assess the fit of linear regression models.</li>
<li>After completing Part 3, you should be able to similarly work with logistic regression and other generalized linear models.</li>
<li>Part 4 covers data collection and extrapolation from sample to population.</li>
<li>Part 5 covers casual inference.</li>
<li>Part 6 introduces more advanced regression models.</li>
</ul>
<section id="what-you-should-be-able-to-do-after-reading-and-working-through-this-book" class="level2">
<h2 class="anchored" data-anchor-id="what-you-should-be-able-to-do-after-reading-and-working-through-this-book">What you should be able to do after reading and working through this book</h2>
<ul>
<li><p>Part 1: Review key tools and concepts in mathematics, statistics and computing</p>
<ul>
<li><p><em>Chapter 1</em>: Have a sense of the goals and challenges of regression</p></li>
<li><p><em>Chapter 2</em>: Explore data and be aware of issues of measurement and adjustment</p></li>
<li><p><em>Chapter 3</em>: Graph a straight line and know some basic mathematical tools and probability distributions</p></li>
<li><p><em>Chapter 4</em>: Understand statistical estimation and uncertainty assessment, along with the problems of hypothesis testing in applied statistics</p></li>
<li><p><em>Chapter 5</em>: Simulate probability models and uncertainty about inferences and predictions</p></li>
</ul></li>
<li><p>Part 2: Build linear regression models, use them in real problems, and evaluate their assumptions and fit to data</p>
<ul>
<li><p><em>Chapter 6</em>: Distinguish between descriptive and causal interpretations of regression, understanding these in historical context</p></li>
<li><p><em>Chapter 7</em>: Understand and work with simple linear regression with one predictor</p></li>
<li><p><em>Chapter 8</em>: Gain a conceptual understanding of least squares fitting and be able to perform these fits on the computer</p></li>
<li><p><em>Chapter 9</em>: Perform and understand probabilistic and simple Bayesian information aggregation, and be introduced to prior distributions and Bayesian inference</p></li>
<li><p><em>Chapter 10</em>: Build, fit, and understand linear models with multiple predictors</p></li>
<li><p><em>Chapter 11</em>: Understand the relative importance of different assumptions of regression models and be able to check models and evaluate their fit to data</p></li>
<li><p><em>Chapter 12</em>: Apply linear regression more effectively by transforming and combining predictors</p></li>
</ul></li>
<li><p>Part 3: Build and work with logistic regression and generalized linear models</p>
<ul>
<li><p><em>Chapter 13</em>: Fit, understand, and display logistic regression models for binary data</p></li>
<li><p><em>Chapter 14</em>: Build, understand and evaluate logistic regressions with interactions and other complexities</p></li>
<li><p><em>Chapter 15</em>: Fit, understand, and display generalized linear models, including the Poisson and negative binomial regression, ordered logistic regression, and other models</p></li>
</ul></li>
<li><p>Part 4: Design studies and use data more effectively in applied settings</p>
<ul>
<li><p><em>Chapter 16</em>: Use probability theory and simulation to guide data-collection decisions, without falling into the trap of demanding unrealistic levels of certainty</p></li>
<li><p><em>Chapter 17</em>: Use poststratification to generalize from sample to population, and use regression models to impute missing data</p></li>
</ul></li>
<li><p>Part 5: Implement and understand basic statistical designs and analyses for causal inference</p>
<ul>
<li><p><em>Chapter 18</em>: Understand assumptions underlying causal inference with a focus on randomized experiments</p></li>
<li><p><em>Chapter 19</em>: Perform causal inference in simple setting using regressions to estimate treatments and interactions</p></li>
<li><p><em>Chapter 20</em>: Understand the challenges of causal inference from observational data and statistical tools for adjusting for differences between treatment and control groups</p></li>
<li><p><em>Chapter 21</em>: Understand the assumptions underlying more advanced methods that use auxiliary variables or particular data structures to identify causal effects, and be able to fit these models to data</p></li>
</ul></li>
<li><p>Part 6: Become aware of more advanced regression models</p>
<ul>
<li><em>Chapter 22</em>: Get a sense of the directions in which linear and generalized linear models can be extended to attack various classes of applied problems</li>
</ul></li>
<li><p>Appendixes</p>
<ul>
<li><p><em>Appendix A</em>: Get started in the statistical software R, with a focus on data manipulation, statistical graphics, and fitting using regressions</p></li>
<li><p><em>Appendix B</em>: Become aware of some important ideas in regression workflow</p></li>
</ul></li>
</ul>
<p>After working through the book, you should be able to fit, graph, understand, and evaluate linear and generalized linear models and use these model fits to make predictions and inferences about quantities of interest, including causal effects of treatments and exposures.</p>
</section>
</section>
<section id="part-1-fundamentals" class="level1">
<h1>Part 1: Fundamentals</h1>
<section id="chapter-1-overview" class="level2">
<h2 class="anchored" data-anchor-id="chapter-1-overview">Chapter 1: Overview</h2>
<p>Alternate title: <em>Prediction as a unifying theme in statistics and causal inference</em></p>
<section id="the-three-challenges-of-statistics" class="level3">
<h3 class="anchored" data-anchor-id="the-three-challenges-of-statistics">1.1 The three challenges of statistics</h3>
<ol type="1">
<li><em>Generalizing from sample to population</em></li>
<li><em>Generalizing from treatment to support group</em></li>
<li><em>Generalizing from observed measurements to the underlying constructs of interest</em></li>
</ol>
<p><strong>Prediction</strong>: for new people or new items that are not in the sample, future outcomes under differently potentially assigned treatments, and underlying constructs of interest, if they could be measured exactly.</p>
<p>Key skills you should learn from this book:</p>
<ul>
<li><p><em>Understanding regression models:</em> mathematical models for predicting an outcome variable from a set of predictors, starting with straight-line fits and moving to various nonlinear generalizations</p></li>
<li><p><em>Constructing regression models:</em> with many options involving the choice of what variables to include and how to transform and constrain them</p></li>
<li><p><em>Fitting regression models to data</em></p></li>
<li><p><em>Displaying and interpreting the results</em></p></li>
</ul>
<p><strong>Inference</strong>: using mathematical models to make general claims from particular data.</p>
</section>
<section id="why-learn-regression" class="level3">
<h3 class="anchored" data-anchor-id="why-learn-regression">1.2 Why learn regression?</h3>
<p><strong>Regression</strong>: a method that allows researchers to summarize how predictions or average values of an <em>outcome</em> vary across individuals defined by a set of <em>predictors</em>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load the data</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(hibbs)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># make a scatterplot</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  hibbs<span class="sc">$</span>growth, </span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  hibbs<span class="sc">$</span>vote, </span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlab =</span> <span class="st">"Average recent growth in personal income"</span>,</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">ylab =</span> <span class="st">"Incumbent party's vote share"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># estimate the regression: y = a + bx + error</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>M1 <span class="ot">&lt;-</span> <span class="fu">stan_glm</span>(vote <span class="sc">~</span> growth, <span class="at">data=</span>hibbs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># make a scatter plot</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  hibbs<span class="sc">$</span>growth, </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  hibbs<span class="sc">$</span>vote, </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlab =</span> <span class="st">"Average recent growth in personal income"</span>,</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">ylab =</span> <span class="st">"Incumbent party's vote share"</span>)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co"># add fitted line to the graph</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="fu">coef</span>(M1), <span class="at">col =</span> <span class="st">'gray'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># display the fitted model</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(M1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>stan_glm
 family:       gaussian [identity]
 formula:      vote ~ growth
 observations: 16
 predictors:   2
------
            Median MAD_SD
(Intercept) 46.3    1.7  
growth       3.1    0.7  

Auxiliary parameter(s):
      Median MAD_SD
sigma 3.9    0.7   

------
* For help interpreting the printed output see ?print.stanreg
* For info on the priors used see ?prior_summary.stanreg</code></pre>
</div>
</div>
<p><em>y</em> = 46.3 + 3.0<em>x</em></p>
<p><strong>MAD</strong>: Median Absolute Deviations.</p>
<p><strong>sigma</strong>: the scale of the variation in the data explained by the regression model (the scatter of points above and below the regression line). The linear model predicts vote share roughly to an accuracy of 3.9 percentage points.</p>
<p>Some of the most important uses of regression:</p>
<ul>
<li><p><em>Prediction</em>: Modeling existing observations or forecasting new data.</p></li>
<li><p><em>Exploring associations</em>: Summarizing how well one variable, or set of variables, predicts the outcome. One can use a model to explore associations, stratifications, or structural relationships between variables.</p></li>
<li><p><em>Extrapolation</em>: Adjusting for known differences between the <em>sample</em> (observed data) and a population of interest.</p></li>
<li><p><em>Causal inference</em>: Estimating treatment effects. A key challenge of causal inference is ensuring that treatment and control groups are similar, on average, before exposure to treatment, or else adjusting for differences between these groups.</p></li>
</ul>
</section>
<section id="some-examples-of-regression" class="level3">
<h3 class="anchored" data-anchor-id="some-examples-of-regression">1.3 Some examples of regression</h3>
<section id="estimating-public-opinion-from-an-opt-in-internet-survey" class="level4">
<h4 class="anchored" data-anchor-id="estimating-public-opinion-from-an-opt-in-internet-survey">Estimating public opinion from an opt-in internet survey</h4>
<ul>
<li>A characteristic problem of big data: a very large sample, relatively inexpensive to collect, but not immediately representative of the larger population</li>
</ul>
</section>
<section id="a-randomized-experiment-on-the-effect-of-an-educational-television-program" class="level4">
<h4 class="anchored" data-anchor-id="a-randomized-experiment-on-the-effect-of-an-educational-television-program">A randomized experiment on the effect of an educational television program</h4>
</section>
<section id="estimating-the-effects-of-united-nations-peacekeeping-using-pre-treatment-variables-to-adjust-for-differences-between-treatment-and-control-groups" class="level4">
<h4 class="anchored" data-anchor-id="estimating-the-effects-of-united-nations-peacekeeping-using-pre-treatment-variables-to-adjust-for-differences-between-treatment-and-control-groups">Estimating the effects of United Nations peacekeeping, using pre-treatment variables to adjust for differences between treatment and control groups</h4>
<ul>
<li><p>Selection bias: perhaps peacekeepers chose the easy cases, which would explain the difference in outcomes. The treatment–peacekeeping–was not randomly assigned. They had an <em>observational study</em> rather than an <em>experiment</em>, where we must do our best to adjust for pre-treatment differences between the treatment and control groups.</p></li>
<li><p>Censoring: certain ranges of data cannot be observed (e.g.&nbsp;countries where civil war had not yet returned by the time data collection ended)</p></li>
<li><p>When adjusting for badness, peacekeeping was performed in tougher conditions, on average. As a result, the adjustment increases the estimated beneficial effects of peacekeeping, at least during the study.</p></li>
</ul>
</section>
<section id="estimating-the-effects-of-gun-laws-and-the-difficulty-of-inference-using-regression-with-a-large-number-of-predictors" class="level4">
<h4 class="anchored" data-anchor-id="estimating-the-effects-of-gun-laws-and-the-difficulty-of-inference-using-regression-with-a-large-number-of-predictors">Estimating the effects of gun laws, and the difficulty of inference using regression with a large number of predictors</h4>
<ul>
<li><p>In this sort of regression with 50 data points and 30 predictors and no prior information to guide the inference, the coefficient estimates will be hopelessly noisy and compromised by dependence among predictors.</p></li>
<li><p>The treatments are observational and not externally applied. There is no reason to believe that the big differences in gun-related deaths between states are mostly attributable to particular policies.</p></li>
</ul>
</section>
<section id="comparing-the-peacekeeping-and-gun-control-studies" class="level4">
<h4 class="anchored" data-anchor-id="comparing-the-peacekeeping-and-gun-control-studies">Comparing the peacekeeping and gun-control studies</h4>
<ul>
<li><p>In both cases, policy conclusions have been drawn from observational data, using regression modeling to adjust for differences between treatment and control groups.</p></li>
<li><p>It is more practical to perform adjustments when there is a single goal (peacekeeping study)</p>
<ul>
<li><p>particular concern that the UN might be more likely to step in when the situation on the ground was not so bad</p></li>
<li><p>the data analysis found the opposite</p></li>
<li><p>the measure of badness is constructed based on particular measured variables and so it is possible that there are important unmeasured characteristics that would cause adjustments to go the other way</p></li>
</ul></li>
<li><p>The gun-control model adjusts for many potential causal variables at once</p>
<ul>
<li><p>The effect of each law is estimated conditional on all others being held constant (not realistic—no particular reason for their effects to add up in a simple manner)</p></li>
<li><p>The comparison is between states, which vary in systematic ways (it is not at all clear that a simple model can hope to adjust for the relevant differences)</p></li>
<li><p>Regression analysis was taken naively to be able to control for variation and give valid causal inference from observational data</p></li>
</ul></li>
</ul>
</section>
</section>
<section id="challenges-in-building-understanding-and-interpreting-regressions" class="level3">
<h3 class="anchored" data-anchor-id="challenges-in-building-understanding-and-interpreting-regressions">1.4 Challenges in building, understanding, and interpreting regressions</h3>
<p>Two different ways in which regression is used for causal inference: estimating a relationship and adjusting for background variables.</p>
<section id="regression-to-estimate-a-relationship-of-interest" class="level4">
<h4 class="anchored" data-anchor-id="regression-to-estimate-a-relationship-of-interest">Regression to estimate a relationship of interest</h4>
<p><strong>Randomization:</strong> a design in which people—or, more generally, experimental units—are randomly assigned to treatment or control groups.</p>
<p>There are various ways to attain approximate comparability of treatment and control groups, and to adjust for known or modeled differences between the groups.</p>
<p>We assume the comparability of the groups assigned to different treatments so that a regression analysis predicting the outcome given the treatment gives us a direct estimate of the causal effect.</p>
<p>It is always possible to estimate a linear model, even if it does not fit the data.</p>
<p><strong>Interactions</strong>: treatment effects that vary as a function of other predictors in a model.</p>
<ul>
<li>Example: the relation between cancer rate and radon is different for smokers and nonsmokers. The effect of radon is assumed to be linear but with an interaction with smoking.</li>
</ul>
</section>
<section id="regression-to-adjust-for-differences-between-treatment-and-control-groups" class="level4">
<h4 class="anchored" data-anchor-id="regression-to-adjust-for-differences-between-treatment-and-control-groups">Regression to adjust for differences between treatment and control groups</h4>
<p>In most real-world causal inference problems, there are systematic differences between experimental units that receive treatment and control. In such settings it is important to <em>adjust</em> for pre-treatment differences between the groups, and we can use regression to do this.</p>
<p>Adjusting for background variables is particularly important when there is <em>imbalance</em> so that the treated and control groups differ on key pre-treatment predictors.</p>
<p>The estimated treatment effect is necessarily model based.</p>
</section>
<section id="interpreting-coefficients-in-a-predictive-model" class="level4">
<h4 class="anchored" data-anchor-id="interpreting-coefficients-in-a-predictive-model">Interpreting coefficients in a predictive model</h4>
<p>A model fit to survey data: earnings = 11000 + 1500 * (height - 60) + error, with errors in the range of mean of 0 and standard deviation of 22000.</p>
<ul>
<li><p><em>Prediction</em>: useless for forecasting because errors are too large</p></li>
<li><p><em>Exploring an association</em>: best fit for this example, as the estimated slope is positive, can lead to further research to study reasons taller people earn more than shorter people</p></li>
<li><p><em>Sampling inference</em>: the regression coefficients can be interpreted directly to the extent that people in the survey are a representative sample of the population of interest</p></li>
<li><p><em>Causal inference</em>: height is not a randomly assigned treatment. Tall and short people may differ in many other ways.</p></li>
</ul>
</section>
<section id="building-interpreting-and-checking-regression-models" class="level4">
<h4 class="anchored" data-anchor-id="building-interpreting-and-checking-regression-models">Building, interpreting and checking regression models</h4>
<p>Statistical analysis cycles through four steps:</p>
<ol type="1">
<li>Model building</li>
<li>Model fitting</li>
<li>Understanding model fits</li>
<li>Criticism</li>
</ol>
<p>Accept that we can learn from statistical analysis—we can generalize from sample to population, from treatment to control, and from observed measurements to underlying constructs of interest—even while these inferences can be flawed.</p>
<p><em>Overinterpretation of noisy data</em>: the gun control study took existing variations among states and too eagerly attributed it to available factors.</p>
<p>No study is perfect.</p>
<p>We should <em>recognize</em> challenges in extrapolation and then work to <em>adjust</em> for them.</p>
</section>
</section>
<section id="classical-and-bayesian-inference" class="level3">
<h3 class="anchored" data-anchor-id="classical-and-bayesian-inference">1.5 Classical and Bayesian Inference</h3>
<p>Three concerns related to fitting models to data and using models to make predictions:</p>
<ol type="1">
<li>what <em>information</em> is being used in the estimation process</li>
<li>what <em>assumptions</em> are being made</li>
<li>how estimates and predictions are <em>interpreted</em>, in a classical or Bayesian framework</li>
</ol>
<section id="information" class="level4">
<h4 class="anchored" data-anchor-id="information">Information</h4>
<ul>
<li><p>The starting point for any regression problem is data on an outcome variable <em>y</em> and one or more predictors <em>x</em>.</p></li>
<li><p>Information should be available on what data were observed at all</p></li>
<li><p>We typically have prior knowledge coming from sources other than the data at hand. Where local data are weak it would be foolish to draw conclusions without using prior knowledge</p></li>
</ul>
</section>
<section id="assumptions" class="level4">
<h4 class="anchored" data-anchor-id="assumptions">Assumptions</h4>
<ul>
<li><p>Three sorts of assumptions that are essential to any regression model of an outcome <em>y</em> given predictors <em>x</em>.</p>
<ul>
<li><p>The functional form of the relation between <em>x</em> and <em>y</em></p></li>
<li><p>Where the data comes from (strongest assumptions tend to be simple and easy to understand, weaker assumptions, being more general, can also be more complicated)</p></li>
<li><p>Real-world relevance of the measured data</p>
<ul>
<li>The interpretation of a regression of <em>y</em> on <em>x</em> depends also on the relation between the measured <em>x</em> and the underlying predictors of interest, and on the relation between the measured <em>y</em> and the underlying outcomes of interest</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="classical-inference" class="level4">
<h4 class="anchored" data-anchor-id="classical-inference">Classical inference</h4>
<p>The traditional approach to statistical analysis is based on summarizing the information in the data, not using prior information, but getting estimates and predictions that have well-understood statistical properties, low bias and low variance.</p>
<p><strong>Unbiasedness:</strong> estimates should be true on average</p>
<p><strong>Coverage:</strong> confidence intervals should cover the true parameter value 95% of the time</p>
<p><strong>Conservatism:</strong> sometimes data are weak and we can’t make strong statements, but we’d like to be able to say, at least approximately, that our estimates are unbiased and our intervals have the advertised coverage.</p>
<p>In classical statistics there should be a clear and unambiguous (“objective”) path from data to inferences, which in turn should be checkable, at least in theory, based on their frequency properties.</p>
</section>
<section id="bayesian-inference" class="level4">
<h4 class="anchored" data-anchor-id="bayesian-inference">Bayesian inference</h4>
<p>Incorporates prior information into inferences, going beyond the goal of merely summarizing existing data. The analysis gives more reasonable results and can be used to make direct predictions about future outcomes and about the results of future experiments.</p>
<p>The prior distribution represents the arena over which any predictions will be evaluated.</p>
<p>We have a choice: classical inference, leading to pure summaries of data which can have limited value as predictions; or Bayesian inference, which in theory can yield valid predictions even with weak data, but relies on additional assumptions.</p>
<p>All Bayesian inferences are probabilistic and thus can be represented by random simulations. For this reason, whenever we want to summarize uncertainty in estimation beyond simple confidence intervals, and whenever we want to use regression models for predictions, we go Bayesian.</p>
</section>
</section>
<section id="computing-least-squares-and-bayesian-regression" class="level3">
<h3 class="anchored" data-anchor-id="computing-least-squares-and-bayesian-regression">1.6 Computing least squares and Bayesian regression</h3>
<p>In general, we recommend using Bayesian inference for regression</p>
<ul>
<li><p>If prior information is available, you can use it</p></li>
<li><p>if not, Bayesian regression with weakly informative default priors still has the advantage of yielding stable estimates and producing simulations that enable you to express inferential and predictive uncertainty (estimates with uncertainties and probabilistic predictions or forecasts)</p></li>
</ul>
<p>Bayesian regression in R:</p>
<pre><code>fit &lt;- stan_glm(y ~ x, data=mydata)

# stan_glm can run slow for large datasets, make it faster by running in optimizing mode
fit &lt;- stan_glm(y ~ x, data=mydata, algorithm="optimizing")</code></pre>
<p>least squares regression (classical statistics)</p>
<pre><code>fit &lt;- lm(y ~ x, data=mydata)</code></pre>
<p>Bayesian and simulation approaches become more important when fitting regularized regression and multilevel models.</p>
</section>
<section id="exercises" class="level3">
<h3 class="anchored" data-anchor-id="exercises">1.8 Exercises</h3>
<p>It took me 8-9 days to complete the 10 exercises at the end of this chapter. A few observations:</p>
<ul>
<li><p>Experiment design, even with simple paper helicopters, still requires time, effort and attention to detail. Even then, a well thought out and executed plan can still end up with uninspiring results. It is therefore the process of experimentation and not the result where I learned the most. It was important to continue experimentation (as it resulted in finding a high-performing copter) even after my initial approach didn’t seem to work as I had thought it would.</p></li>
<li><p>Finding good and bad examples of research is hard on your own! I relied on others existing work where they explicitly called out (and explained) good and bad research, sometimes with great detail, in order to answer exercises 1.7 and 1.8.</p></li>
<li><p>Think about the problem in real life! I don’t know if my answer to 1.9 is correct, but it helped to think about the physical phenomenon that was taking place (a helicopter falling through air, pulled by gravity) in order to come up with a better model fit than the example provided. I found that thinking of physical constraints of the real world problem helped narrow the theoretical model form.</p></li>
<li><p>Pick something you’re interested in and is worth your while! For exercise 1.10, the dataset I have chosen is the <a href="https://github.com/nflverse/nflverse-data/releases/tag/pbp">NFL Play-by-Play dataset</a>, as I’m already working on <a href="http://vishalbakshi.com/blog/posts/2023-02-11-nflverse/2023-02-11-nflverse.html">a separate project where I’ll be practicing writing SQL queries to analyze the data</a>. Play-by-play data going back to 1999 will provide me with ample opportunities to pursue different modeling choices. My interest in football will keep me dedicated through the tough times.</p></li>
</ul>
</section>
</section>
<section id="chapter-2-data-and-measurement" class="level2">
<h2 class="anchored" data-anchor-id="chapter-2-data-and-measurement">Chapter 2: Data and Measurement</h2>
<p>In this book we will be:</p>
<ul>
<li><p>fitting lines and curves to data.</p></li>
<li><p>making comparisons and predictions and assessing our uncertainties in the resulting inferences.</p></li>
<li><p>discuss the assumptions underlying regression models, methods for checking these assumptions, and directions for improving fitted models.</p></li>
<li><p>discussing the challenges of extrapolating from available data to make causal inferences and predictions for new data.</p></li>
<li><p>using computer simulations to summarize the uncertainties in our estimates and predictions.</p></li>
</ul>
<section id="examining-where-data-comes-from" class="level3">
<h3 class="anchored" data-anchor-id="examining-where-data-comes-from">2.1 Examining where data comes from</h3>
<p>I’ll recreate the charts shown in the textbook by following the code provided in the website supplement to the book, using tidyverse where it makes sense:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load the Human Development Index data</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># start using DT to produce better table outputs</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>hdi <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">"../../../ROS_data/HDI/data/hdi.dat"</span>, <span class="at">header=</span><span class="cn">TRUE</span>)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="fu">head</span>(hdi))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-b5891ff8f2047eaf5f5e" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-b5891ff8f2047eaf5f5e">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6"],[1,2,3,4,5,6],["Connecticut","Massachusetts","New Jersey","Washington, D.C.","Maryland","Hawaii"],[0.962,0.961,0.961,0.96,0.96,0.959],[2,2,2,4,3,2]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>rank<\/th>\n      <th>state<\/th>\n      <th>hdi<\/th>\n      <th>canada.dist<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,3,4]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load income data via the votes data</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(foreign)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>votes <span class="ot">&lt;-</span> <span class="fu">read.dta</span>(<span class="st">"../../../ROS_data/HDI/data/state vote and income, 68-00.dta"</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="fu">head</span>(votes), <span class="at">options=</span><span class="fu">list</span>(<span class="at">scrollX=</span><span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-bb44e838533679ec97aa" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-bb44e838533679ec97aa">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6"],[1,2,4,5,6,8],[1968,1968,1968,1968,1968,1968],["Alabama","Alaska","Arizona","Arkansas","California","Colorado"],["AL","AK","AZ","AR","CA","CO"],[1050,83,487,610,7252,811],[197,35,171,185,3244,335],[147,38,267,189,3468,409],[0.427325576543808,0.520547926425934,0.609589040279388,0.505347609519958,0.51668655872345,0.549731194972992],[0.57267439365387,0.479452043771744,0.390410959720612,0.494652420282364,0.483313471078873,0.450268805027008],[11662.7568359375,20388.44921875,14864.884765625,11124.0810546875,19362.400390625,15724.201171875],[1.1662757396698,2.03884482383728,1.48648846149445,1.11240816116333,1.93624007701874,1.57242012023926]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>st_fips<\/th>\n      <th>st_year<\/th>\n      <th>st_state<\/th>\n      <th>st_stateabb<\/th>\n      <th>st_total<\/th>\n      <th>st_dem<\/th>\n      <th>st_rep<\/th>\n      <th>st_repshare<\/th>\n      <th>st_demshare<\/th>\n      <th>st_income<\/th>\n      <th>st_inc10k<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,2,5,6,7,8,9,10,11]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># preprocess</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>income2000 <span class="ot">&lt;-</span> votes[votes[,<span class="st">"st_year"</span>]<span class="sc">==</span><span class="dv">2000</span>, <span class="st">"st_income"</span>]</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># it seems like the income dataset doesn't have DC</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co"># whereas HDI does</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co"># so we're placing an NA for DC in the income list</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>state.income <span class="ot">&lt;-</span> <span class="fu">c</span>(income2000[<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>], <span class="cn">NA</span>, income2000[<span class="dv">9</span><span class="sc">:</span><span class="dv">50</span>])</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>state.abb.long <span class="ot">&lt;-</span> <span class="fu">c</span>(state.abb[<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>], <span class="st">"DC"</span>, state.abb[<span class="dv">9</span><span class="sc">:</span><span class="dv">50</span>])</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>state.name.long <span class="ot">&lt;-</span> <span class="fu">c</span>(state.name[<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>], <span class="st">"Washington, D.C."</span>, state.name[<span class="dv">9</span><span class="sc">:</span><span class="dv">50</span>])</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>hdi.ordered <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="dv">51</span>)</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>can <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="dv">51</span>)</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">51</span>) {</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>  ok <span class="ot">&lt;-</span> hdi[,<span class="st">"state"</span>]<span class="sc">==</span>state.name.long[i]</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  hdi.ordered[i] <span class="ot">&lt;-</span> hdi[ok, <span class="st">"hdi"</span>]</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  can[i] <span class="ot">&lt;-</span> hdi[ok, <span class="st">"canada.dist"</span>]</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>no.dc <span class="ot">&lt;-</span> state.abb.long <span class="sc">!=</span> <span class="st">"DC"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot average state income and Human Development Index</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">3</span>, <span class="fl">2.5</span>, <span class="dv">1</span>), <span class="at">mgp=</span><span class="fu">c</span>(<span class="fl">1.5</span>, .<span class="dv">2</span>, <span class="dv">0</span>), <span class="at">tck=</span><span class="sc">-</span><span class="fl">0.01</span>, <span class="at">pty=</span><span class="st">'s'</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  state.income, </span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  hdi.ordered, </span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlab=</span><span class="st">"Average state income in 2020"</span>,</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">ylab=</span><span class="st">"Human Development Index"</span>,</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">type=</span><span class="st">"n"</span>)</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(state.income, hdi.ordered, state.abb.long)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The pattern between HDI numbers and average state income is strong and nonlinear. If anyone is interested in following up on this, we suggest looking into South Carolina and Kentucky, which are so close in average income and so far apart on HDI.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot rank of average state income and Human Development Index</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">3</span>, <span class="fl">2.5</span>, <span class="dv">1</span>), <span class="at">mgp=</span><span class="fu">c</span>(<span class="fl">1.5</span>, <span class="fl">0.2</span>, <span class="dv">0</span>), <span class="at">tck=</span><span class="sc">-</span><span class="fl">0.01</span>, <span class="at">pty=</span><span class="st">'s'</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rank</span>(state.income[no.dc]), </span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rank</span>(hdi.ordered[no.dc]),</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlab=</span><span class="st">"Rank of average state income in 2000"</span>,</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">ylab=</span><span class="st">"Rank of Human Development Index"</span>, </span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">type=</span><span class="st">"n"</span>)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="fu">rank</span>(state.income[no.dc]), <span class="fu">rank</span>(hdi.ordered[no.dc]), state.abb)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>There is a high correlation between the ranking of HDI and state income.</p>
<p>I will redo the above data processing and plotting with tidyverse and ggplot for practice:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot average state income and Human Development Index</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co"># using tidyverse and ggplot</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>merged_data <span class="ot">&lt;-</span> hdi <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">left_join</span>(</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  votes <span class="sc">%&gt;%</span> <span class="fu">filter</span>(st_year<span class="sc">==</span><span class="dv">2000</span>),</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"state"</span> <span class="ot">=</span> <span class="st">"st_state"</span>)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  merged_data,</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> st_income, <span class="at">y =</span> hdi, <span class="at">label =</span>  st_stateabb)</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>) <span class="sc">+</span> <span class="fu">theme</span>(</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">3</span>, <span class="dv">3</span>, <span class="fl">2.5</span>, <span class="dv">1</span>, <span class="st">"lines"</span>),</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">fill=</span><span class="cn">NA</span>, <span class="at">size=</span><span class="dv">1</span>),</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">'white'</span>),</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">aspect.ratio =</span> <span class="dv">1</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Average state income in 2020"</span>,</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Human Development Index"</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: The `size` argument of `element_rect()` is deprecated as of ggplot2 3.4.0.
ℹ Please use the `linewidth` argument instead.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_text</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 rows containing missing values (`geom_text()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>None of the tidyverse methods I found (<code>row_number</code>, <code>min_rank</code>, <code>dense_rank</code>, <code>percent_rank</code>, <code>cume_dist</code>, or <code>ntile</code>) work quite like rank (where “ties” are averaged), so I continued using <code>rank</code> for this plot:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot rank of average state income and Human Development Index</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  merged_data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(state <span class="sc">!=</span> <span class="st">'Washington, D.C.'</span>), </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">rank</span>(st_income), <span class="at">y =</span> <span class="fu">rank</span>(hdi), <span class="at">label =</span> st_stateabb),</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> <span class="fu">theme</span>(</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">3</span>, <span class="dv">3</span>, <span class="fl">2.5</span>, <span class="dv">1</span>, <span class="st">"lines"</span>),</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">fill=</span><span class="cn">NA</span>, <span class="at">size=</span><span class="dv">1</span>),</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">'white'</span>),</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">aspect.ratio =</span> <span class="dv">1</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Rank of average state income in 2000"</span>,</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Rank of Human Development Index"</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_text</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The relevance of this example is that we were better able to understand the data by plotting them in different ways.</p>
<section id="details-of-measurement-can-be-important" class="level4">
<h4 class="anchored" data-anchor-id="details-of-measurement-can-be-important">Details of measurement can be important</h4>
<p>In the code chunks below, I will recreate the plots in Figure 2.3 in the text (distribution of political ideology by income and distribution of party identification by income)., using <a href="https://avehtari.github.io/ROS-Examples/HealthExpenditure/healthexpenditure.html">their code provided on the supplemental website.</a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>pew_data_path <span class="ot">&lt;-</span> <span class="fu">file.path</span>(data_root_path, <span class="st">"Pew/data/pew_research_center_june_elect_wknd_data.dta"</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>pew_pre <span class="ot">&lt;-</span> <span class="fu">read.dta</span>(pew_data_path)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">nrow</span>(pew_pre)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="fu">head</span>(pew_pre), <span class="at">options=</span><span class="fu">list</span>(<span class="at">scrollX=</span><span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-290b0ae557dffa919411" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-290b0ae557dffa919411">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6"],["june08voter","aug08relig","aug08relig","aug08relig","june08voter","july08poli-econ"],[1720,668,50,50533,30091,60],[62708,80208,73108,80208,62108,72708],["landline","landline","landline","cell","18-29 oversample (landline)","landline"],["dual-all or almost all calls on home phone","dual-all or almost all calls on home phone","dual-some calls on cell phone, some on home phone","dual-some calls on cell phone, some on home phone","dual-all or almost all calls on cell phone","no cell phone sample"],["01007","01010","01013","01013","01020","01020"],[44140,44140,44140,44140,44140,44140],["S","2","2","","S","S"],["form 2","form 1","form 1","form 2","form 1","form 2"],[null,null,null,null,null,null],["registered","registered","registered","registered","registered","registered"],["absolutely certain","absolutely certain","absolutely certain","absolutely certain","absolutely certain","absolutely certain"],["democrat","republican","independent","independent","democrat","democrat"],[null,null,"lean democrat","other/dk",null,null],["male","female","male","male","female","female"],[58,35,59,32,23,55],["post-graduate","college graduate","some college","some college","college graduate","some college"],["no","no","no","yes","no","no"],[1,1,1,9,3,1],["divorced","married","married","living with a partner","never married","widowed"],[null,null,null,null,null,null],["roman catholic","no religion/atheist","roman catholic","protestant","other","roman catholic"],["roman catholic","nothing in particular","roman catholic","christian","buddhist","roman catholic"],[2,null,2,2,null,2],["a few times a year","never","once a week","once or twice a month","more than once a week","a few times a year"],["$50,000-$74,999","$100,000-$149,999","dk/refused","$30,000-$39,999","$75,000-$99,999","$30,000-$39,999"],["own",null,null,null,"rent","own"],["liberal","moderate","conservative","liberal","moderate","moderate"],[null,null,null,null,null,"full-time"],[null,null,null,null,null,null],[1.32692313194275,0.822000026702881,0.493000000715256,0.492000013589859,2,1.79999995231628],[2,3,3,3,3,3],[9,null,null,null,3,7],[80624,null,null,null,80621,80723],["quite a lot","quite a lot","quite a lot","quite a lot","quite a lot","little"],["dem","dk","dem","dem","dem","rep"],[null,"dk",null,null,null,null],["female",null,null,null,"male","female"],[2,null,null,null,1,1],[413,null,null,null,413,413],["very closely",null,null,null,"very closely",null],["strongly",null,"only moderately","strongly","strongly","only moderately"],["decided not to vote for republican","dk/refused","chance might vote for republican","decided not to vote for republican","chance might vote for republican",null],[null,"dk/refused",null,null,null,"chance might vote for democrat"],["yes","yes","yes","yes","yes","yes"],["absolutely certain",null,null,null,"absolutely certain",null],["democrat",null,null,null,"democrat",null],[null,null,null,null,null,null],[null,"yes","yes","yes",null,"yes"],[null,"nearly always","always","always",null,"always"],[null,10,10,10,null,10],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[15,13,13,13,13,13],["massachusetts","massachusetts","massachusetts","massachusetts","massachusetts","massachusetts"],["east","east","east","east","east","east"],["democrat/lean democrat","republican/lean republican","democrat/lean democrat","refused to lean","democrat/lean democrat","democrat/lean democrat"],[5,10,5,4,9,5],["dem/lean dem","other-dk","dem/lean dem","dem/lean dem","dem/lean dem","rep/lean rep"],["dem/lean dem",null,null,null,"dem/lean dem",null],["50-64","30-49","50-64","30-49","18-29","50-64"],["college graduate","college graduate","some college","some college","college graduate","some college"],["$50,000 to $74,999","$75,000+",null,"$30,000 to $49,999","$75,000+","$30,000 to $49,999"],["democrat","republican","independent","independent","democrat","democrat"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>survey<\/th>\n      <th>rid<\/th>\n      <th>date<\/th>\n      <th>sample<\/th>\n      <th>phoneuse<\/th>\n      <th>zipcode<\/th>\n      <th>msa<\/th>\n      <th>usr<\/th>\n      <th>form<\/th>\n      <th>thoughtpres<\/th>\n      <th>regist<\/th>\n      <th>regicert<\/th>\n      <th>party<\/th>\n      <th>partyln<\/th>\n      <th>sex<\/th>\n      <th>age<\/th>\n      <th>educ<\/th>\n      <th>hisp<\/th>\n      <th>race<\/th>\n      <th>marital<\/th>\n      <th>parent<\/th>\n      <th>relig<\/th>\n      <th>relig2<\/th>\n      <th>born<\/th>\n      <th>attend<\/th>\n      <th>income<\/th>\n      <th>ownrent<\/th>\n      <th>ideo<\/th>\n      <th>employ<\/th>\n      <th>labor<\/th>\n      <th>weight<\/th>\n      <th>density<\/th>\n      <th>attempt<\/th>\n      <th>fcall<\/th>\n      <th>thought<\/th>\n      <th>heat2a<\/th>\n      <th>heat2b<\/th>\n      <th>intsex<\/th>\n      <th>intrace<\/th>\n      <th>area<\/th>\n      <th>niicamp<\/th>\n      <th>heat2c<\/th>\n      <th>chancer<\/th>\n      <th>chanced<\/th>\n      <th>planto1<\/th>\n      <th>planto2<\/th>\n      <th>cheata<\/th>\n      <th>cheatb<\/th>\n      <th>precinct<\/th>\n      <th>oftvote<\/th>\n      <th>scale10<\/th>\n      <th>pvote08<\/th>\n      <th>inthisp<\/th>\n      <th>where<\/th>\n      <th>heat4<\/th>\n      <th>pvote04<\/th>\n      <th>heat4a<\/th>\n      <th>heat4b<\/th>\n      <th>heat4c<\/th>\n      <th>fips<\/th>\n      <th>state<\/th>\n      <th>cregion<\/th>\n      <th>partysum<\/th>\n      <th>relign<\/th>\n      <th>heat2<\/th>\n      <th>cheat<\/th>\n      <th>age2<\/th>\n      <th>educ2<\/th>\n      <th>income2<\/th>\n      <th>party4<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[2,3,7,16,19,24,31,32,33,34,39,40,48,51,56,60,64]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># weight</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>pop.weight0 <span class="ot">&lt;-</span> pew_pre<span class="sc">$</span>weight</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">unique</span>(pop.weight0))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.326923 0.822000 0.493000 0.492000 2.000000 1.800000</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># income (1-9 scale)</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>inc <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(pew_pre<span class="sc">$</span>income)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="co"># remove "dk/refused" income level</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>inc[inc<span class="sc">==</span><span class="dv">10</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(pew_pre<span class="sc">$</span>income)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "less than $10,000" "$10,000-$19,999"   "$20,000-$29,999"  
 [4] "$30,000-$39,999"   "$40,000-$49,000"   "$50,000-$74,999"  
 [7] "$75,000-$99,999"   "$100,000-$149,999" "$150,000+"        
[10] "dk/refused"       </code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(inc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  6  8 NA  4  7  5  9  1  3  2</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># I believe these are the midpoints of the income levels</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>value.inc <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">15</span>,<span class="dv">25</span>,<span class="dv">35</span>,<span class="dv">45</span>,<span class="fl">62.5</span>,<span class="fl">87.5</span>,<span class="dv">125</span>,<span class="dv">200</span>)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="co"># maximum income value</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>n.inc <span class="ot">&lt;-</span> <span class="fu">max</span>(inc, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>n.inc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 9</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># party id</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>pid0 <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(pew_pre[,<span class="st">"party"</span>])</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>lean0 <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(pew_pre[,<span class="st">"partyln"</span>])</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(pew_pre[,<span class="st">"party"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "missing/not asked" "republican"        "democrat"         
[4] "independent"       "no preference"     "other"            
[7] "dk"               </code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(pew_pre[,<span class="st">"partyln"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "missing/not asked" "lean republican"   "lean democrat"    
[4] "other/dk"         </code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(pid0)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  3  2  4  7  5  6 NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(lean0)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA  3  4  2</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># assigning new integers for party id</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>pid <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(pid0<span class="sc">==</span><span class="dv">2</span>, <span class="dv">5</span>,  <span class="co"># Republican</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>         <span class="fu">ifelse</span>(pid0<span class="sc">==</span><span class="dv">3</span>, <span class="dv">1</span>,  <span class="co"># Democrat</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>         <span class="fu">ifelse</span>(lean0<span class="sc">==</span><span class="dv">2</span>, <span class="dv">4</span>, <span class="co"># Lean Republican</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>         <span class="fu">ifelse</span>(lean0<span class="sc">==</span><span class="dv">4</span>, <span class="dv">2</span>, <span class="co"># Lean Democrat</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>         <span class="dv">3</span>)))) <span class="co"># Independent</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>pid.label <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Democrat"</span>, <span class="st">"Lean Dem."</span>, <span class="st">"Independent"</span>, <span class="st">"Lean Rep."</span>, <span class="st">"Republican"</span>)</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>n.pid <span class="ot">&lt;-</span> <span class="fu">max</span>(pid, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ideology</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>ideology0 <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(pew_pre[,<span class="st">"ideo"</span>])</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(pew_pre[,<span class="st">"ideo"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "missing/not asked" "very conservative" "conservative"     
[4] "moderate"          "liberal"           "very liberal"     
[7] "dk/refused"       </code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(ideology0)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  5  4  3  6  2  7 NA</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># assign new integers for ideology</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>ideology <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(ideology0<span class="sc">==</span><span class="dv">2</span>, <span class="dv">5</span>, <span class="co"># Very conservative</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>              <span class="fu">ifelse</span>(ideology0<span class="sc">==</span><span class="dv">3</span>, <span class="dv">4</span>, <span class="co"># Conservative</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>              <span class="fu">ifelse</span>(ideology0<span class="sc">==</span><span class="dv">6</span>, <span class="dv">1</span>, <span class="co"># Very liberal</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>              <span class="fu">ifelse</span>(ideology0<span class="sc">==</span><span class="dv">5</span>, <span class="dv">2</span>, <span class="co"># Liberal</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>              <span class="dv">3</span>)))) <span class="co"># Moderate</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>ideology.label <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Very liberal"</span>, <span class="st">"Liberal"</span>, <span class="st">"Moderate"</span>, <span class="st">"Conservative"</span>, <span class="st">"Very conservative"</span>)</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>n.ideology <span class="ot">&lt;-</span> <span class="fu">max</span>(ideology, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot settings</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">2</span>,<span class="fl">2.5</span>,<span class="dv">1</span>), <span class="at">mgp=</span><span class="fu">c</span>(<span class="fl">1.5</span>, .<span class="dv">7</span>, <span class="dv">0</span>), <span class="at">tck=</span><span class="sc">-</span><span class="fl">0.01</span>)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="co"># this creates an empty plot</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">c</span>(<span class="dv">1</span>,n.inc), <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>), <span class="at">xaxs=</span><span class="st">"i"</span>, <span class="at">yaxs=</span><span class="st">"i"</span>, <span class="at">type=</span><span class="st">"n"</span>, <span class="at">xlab=</span><span class="st">""</span>, <span class="at">ylab=</span><span class="st">""</span>, <span class="at">xaxt=</span><span class="st">"n"</span>, <span class="at">yaxt=</span><span class="st">"n"</span>)</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="co"># add x-axis tick marks with empty string labels</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">1</span>, <span class="dv">1</span><span class="sc">:</span>n.inc, <span class="fu">rep</span>(<span class="st">""</span>, n.inc))</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a><span class="co"># add x-axis labels</span></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">1</span>, <span class="fu">seq</span>(<span class="fl">1.5</span>, n.inc<span class="fl">-.5</span>, <span class="at">length=</span><span class="dv">3</span>), <span class="fu">c</span>(<span class="st">"Low income"</span>, <span class="st">"Middle income"</span>, <span class="st">"High income"</span>), <span class="at">tck=</span><span class="dv">0</span>)</span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a><span class="co"># add y-axis tick marks and labels</span></span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">2</span>, <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.5</span>, <span class="dv">1</span>), <span class="fu">c</span>(<span class="dv">0</span>, <span class="st">"50%"</span>, <span class="st">"100%"</span>))</span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a>center <span class="ot">&lt;-</span> <span class="fu">floor</span>((<span class="dv">1</span> <span class="sc">+</span> n.inc) <span class="sc">/</span> <span class="dv">2</span>)</span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-18"><a href="#cb42-18" aria-hidden="true" tabindex="-1"></a>incprop <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="cn">NA</span>, <span class="fu">c</span>(n.pid <span class="sc">+</span> <span class="dv">1</span>, n.inc))</span>
<span id="cb42-19"><a href="#cb42-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-20"><a href="#cb42-20" aria-hidden="true" tabindex="-1"></a>incprop[n.pid <span class="sc">+</span> <span class="dv">1</span>,] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb42-21"><a href="#cb42-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-22"><a href="#cb42-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-23"><a href="#cb42-23" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n.pid) {</span>
<span id="cb42-24"><a href="#cb42-24" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n.inc) {</span>
<span id="cb42-25"><a href="#cb42-25" aria-hidden="true" tabindex="-1"></a>    incprop[i, j] <span class="ot">&lt;-</span> <span class="fu">weighted.mean</span>((pid<span class="sc">&lt;</span>i)[inc<span class="sc">==</span>j], pop.weight0[inc<span class="sc">==</span>j], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb42-26"><a href="#cb42-26" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb42-27"><a href="#cb42-27" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb42-28"><a href="#cb42-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-29"><a href="#cb42-29" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n.pid){</span>
<span id="cb42-30"><a href="#cb42-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">polygon</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span>n.inc, n.inc<span class="sc">:</span><span class="dv">1</span>), <span class="fu">c</span>(incprop[i,], <span class="fu">rev</span>(incprop[i<span class="sc">+</span><span class="dv">1</span>,])), <span class="at">col=</span><span class="fu">paste</span>(<span class="st">"gray"</span>, <span class="dv">40</span><span class="sc">+</span><span class="dv">10</span><span class="sc">*</span>i, <span class="at">sep=</span><span class="st">""</span>))</span>
<span id="cb42-31"><a href="#cb42-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lines</span>(<span class="dv">1</span><span class="sc">:</span>n.inc, incprop[i,])</span>
<span id="cb42-32"><a href="#cb42-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">text</span>(center, <span class="fu">mean</span>(incprop[<span class="fu">c</span>(i,i<span class="sc">+</span><span class="dv">1</span>),center]), pid.label[i])</span>
<span id="cb42-33"><a href="#cb42-33" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb42-34"><a href="#cb42-34" aria-hidden="true" tabindex="-1"></a><span class="fu">mtext</span>(<span class="st">"Self-declared party identification, by income"</span>, <span class="at">side=</span><span class="dv">3</span>, <span class="at">line=</span><span class="dv">1</span>, <span class="at">cex=</span><span class="fl">1.2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">2</span>,<span class="fl">2.5</span>,<span class="dv">1</span>), <span class="at">mgp=</span><span class="fu">c</span>(<span class="fl">1.5</span>,.<span class="dv">7</span>,<span class="dv">0</span>), <span class="at">tck=</span><span class="sc">-</span>.<span class="dv">01</span>)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">c</span>(<span class="dv">1</span>,n.inc), <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>), <span class="at">xaxs=</span><span class="st">"i"</span>, <span class="at">yaxs=</span><span class="st">"i"</span>, <span class="at">type=</span><span class="st">"n"</span>, <span class="at">xlab=</span><span class="st">""</span>, <span class="at">ylab=</span><span class="st">""</span>, <span class="at">xaxt=</span><span class="st">"n"</span>, <span class="at">yaxt=</span><span class="st">"n"</span>)</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">1</span>, <span class="dv">1</span><span class="sc">:</span>n.inc, <span class="fu">rep</span>(<span class="st">""</span>,n.inc))</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">1</span>, <span class="fu">seq</span>(<span class="fl">1.5</span>,n.inc<span class="fl">-.5</span>,<span class="at">length=</span><span class="dv">3</span>), <span class="fu">c</span>(<span class="st">"Low income"</span>, <span class="st">"Middle income"</span>, <span class="st">"High income"</span>), <span class="at">tck=</span><span class="dv">0</span>)</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">2</span>, <span class="fu">c</span>(<span class="dv">0</span>,.<span class="dv">5</span>,<span class="dv">1</span>), <span class="fu">c</span>(<span class="dv">0</span>,<span class="st">"50%"</span>,<span class="st">"100%"</span>))</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>center <span class="ot">&lt;-</span> <span class="fu">floor</span>((<span class="dv">1</span><span class="sc">+</span>n.inc)<span class="sc">/</span><span class="dv">2</span>)</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>incprop <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="cn">NA</span>, <span class="fu">c</span>(n.ideology<span class="sc">+</span><span class="dv">1</span>,n.inc))</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>incprop[n.ideology<span class="sc">+</span><span class="dv">1</span>,] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n.ideology){</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n.inc){</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>    incprop[i,j] <span class="ot">&lt;-</span> <span class="fu">weighted.mean</span>((ideology<span class="sc">&lt;</span>i)[inc<span class="sc">==</span>j], pop.weight0[inc<span class="sc">==</span>j], <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n.ideology){</span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">polygon</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span>n.inc, n.inc<span class="sc">:</span><span class="dv">1</span>), <span class="fu">c</span>(incprop[i,], <span class="fu">rev</span>(incprop[i<span class="sc">+</span><span class="dv">1</span>,])), <span class="at">col=</span><span class="fu">paste</span>(<span class="st">"gray"</span>, <span class="dv">40</span><span class="sc">+</span><span class="dv">10</span><span class="sc">*</span>i, <span class="at">sep=</span><span class="st">""</span>))</span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lines</span>(<span class="dv">1</span><span class="sc">:</span>n.inc, incprop[i,])</span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">text</span>(center, <span class="fu">mean</span>(incprop[<span class="fu">c</span>(i,i<span class="sc">+</span><span class="dv">1</span>),center]), ideology.label[i])</span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a><span class="fu">mtext</span>(<span class="st">"Self-declared political ideology, by income"</span>, <span class="at">side=</span><span class="dv">3</span>, <span class="at">line=</span><span class="dv">1</span>, <span class="at">cex=</span><span class="fl">1.2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>I’ll recreate the two plots using tidyverse and ggplot. I referenced <a href="https://www.pewresearch.org/decoded/2019/06/12/using-tidy-verse-tools-with-pew-research-center-survey-data-in-r/">this article by the Pew Research Center which shows how to calculated weighted estimates.</a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>pew_pre <span class="ot">&lt;-</span> pew_pre <span class="sc">%&gt;%</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># create an integer column for income levels</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">inc =</span> <span class="fu">as.numeric</span>(income),</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># remove "dk/refuse" value for income</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">inc =</span> <span class="fu">case_when</span>(</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>      inc <span class="sc">==</span> <span class="dv">10</span> <span class="sc">~</span> <span class="cn">NA</span>,</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> inc</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># set political party integer column</span></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">pid0 =</span> <span class="fu">as.numeric</span>(party),</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># set lean integer column</span></span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">lean0 =</span> <span class="fu">as.numeric</span>(partyln),</span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># set ideology integer column</span></span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">ideology0 =</span> <span class="fu">as.numeric</span>(ideo),</span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># re-assign party values</span></span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">pid =</span> <span class="fu">case_when</span>(</span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a>      pid0 <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="dv">5</span>, <span class="co"># Repubican</span></span>
<span id="cb44-19"><a href="#cb44-19" aria-hidden="true" tabindex="-1"></a>      pid0 <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="dv">1</span>, <span class="co"># Democrat</span></span>
<span id="cb44-20"><a href="#cb44-20" aria-hidden="true" tabindex="-1"></a>      lean0 <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="dv">4</span>, <span class="co"># Lean Republican</span></span>
<span id="cb44-21"><a href="#cb44-21" aria-hidden="true" tabindex="-1"></a>      lean0 <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="dv">2</span>, <span class="co"># Lean Democrat</span></span>
<span id="cb44-22"><a href="#cb44-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(pid0) <span class="sc">~</span> <span class="cn">NA</span>,</span>
<span id="cb44-23"><a href="#cb44-23" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">3</span> <span class="co"># Independent</span></span>
<span id="cb44-24"><a href="#cb44-24" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb44-25"><a href="#cb44-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># reassign ideology values</span></span>
<span id="cb44-26"><a href="#cb44-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">ideology =</span> <span class="fu">case_when</span>(</span>
<span id="cb44-27"><a href="#cb44-27" aria-hidden="true" tabindex="-1"></a>      ideology0 <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="dv">5</span>, <span class="co"># Very conservative</span></span>
<span id="cb44-28"><a href="#cb44-28" aria-hidden="true" tabindex="-1"></a>      ideology0 <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="dv">4</span>, <span class="co"># Conservative</span></span>
<span id="cb44-29"><a href="#cb44-29" aria-hidden="true" tabindex="-1"></a>      ideology0 <span class="sc">==</span> <span class="dv">6</span> <span class="sc">~</span> <span class="dv">1</span>, <span class="co"># Very liberal</span></span>
<span id="cb44-30"><a href="#cb44-30" aria-hidden="true" tabindex="-1"></a>      ideology0 <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="dv">2</span>, <span class="co"># Liberal</span></span>
<span id="cb44-31"><a href="#cb44-31" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(ideology0) <span class="sc">~</span> <span class="cn">NA</span>,</span>
<span id="cb44-32"><a href="#cb44-32" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">3</span> <span class="co"># Moderate</span></span>
<span id="cb44-33"><a href="#cb44-33" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb44-34"><a href="#cb44-34" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb44-35"><a href="#cb44-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-36"><a href="#cb44-36" aria-hidden="true" tabindex="-1"></a><span class="co"># constants</span></span>
<span id="cb44-37"><a href="#cb44-37" aria-hidden="true" tabindex="-1"></a>n_inc <span class="ot">&lt;-</span> <span class="fu">max</span>(pew_pre<span class="sc">$</span>inc, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb44-38"><a href="#cb44-38" aria-hidden="true" tabindex="-1"></a>n_pid <span class="ot">&lt;-</span> <span class="fu">max</span>(pew_pre<span class="sc">$</span>pid, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb44-39"><a href="#cb44-39" aria-hidden="true" tabindex="-1"></a>n_ideology <span class="ot">&lt;-</span> <span class="fu">max</span>(pew_pre<span class="sc">$</span>ideology, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate income proportions using population weight</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>inc_totals <span class="ot">&lt;-</span> pew_pre <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  inc</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">total_inc =</span> <span class="fu">n</span>()</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>pid_weighted_estimates <span class="ot">&lt;-</span> pew_pre <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">left_join</span>(</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>  inc_totals</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(</span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>  inc,</span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>  pid</span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(</span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">weighted_n =</span> <span class="fu">sum</span>(weight)</span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">weighted_group_size =</span> <span class="fu">sum</span>(weighted_n),</span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">weighted_estimate =</span> weighted_n <span class="sc">/</span> weighted_group_size</span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(</span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a>  inc</span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining with `by = join_by(inc)`
`summarise()` has grouped output by 'inc'. You can override using the `.groups`
argument.</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(pid_weighted_estimates)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-ddb569c3144e7ca885f6" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ddb569c3144e7ca885f6">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51"],[1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,4,4,4,4,4,5,5,5,5,5,6,6,6,6,6,7,7,7,7,7,8,8,8,8,8,9,9,9,9,9,null,null,null,null,null,null],[1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,null],[2403.19853150845,826.009273409843,1093.18763238192,379.047113418579,835.018689990044,2950.85597187281,972.71940779686,1230.73430585861,731.296069562435,1301.34720093012,3376.2469638586,995.494455635548,1311.79579865932,872.377527236938,1867.6408379674,3055.34852004051,879.489837110043,1264.95251643658,863.45338344574,1748.48806339502,2806.11198705435,568.677466630936,1106.61939299107,902.815177559853,1883.94564253092,4023.13219285011,908.135586678982,1651.8250464201,1363.22051680088,3266.01514834166,2734.40059924126,591.487080812454,1272.96747416258,1069.35707330704,2742.24823850393,2302.50956577063,532.595253765583,943.381314396858,919.559205055237,2476.806825459,1447.66047602892,421.399701476097,704.388168394566,812.443274259567,1826.85968393087,3201.82026928663,2342.34510356188,1286.23500674963,1136.24503147602,2599.3011033535,1642.47617375851],[5536.46124070883,5536.46124070883,5536.46124070883,5536.46124070883,5536.46124070883,7186.95295602083,7186.95295602083,7186.95295602083,7186.95295602083,7186.95295602083,8423.55558335781,8423.55558335781,8423.55558335781,8423.55558335781,8423.55558335781,7811.73232042789,7811.73232042789,7811.73232042789,7811.73232042789,7811.73232042789,7268.16966676712,7268.16966676712,7268.16966676712,7268.16966676712,7268.16966676712,11212.3284910917,11212.3284910917,11212.3284910917,11212.3284910917,11212.3284910917,8410.46046602726,8410.46046602726,8410.46046602726,8410.46046602726,8410.46046602726,7174.85216444731,7174.85216444731,7174.85216444731,7174.85216444731,7174.85216444731,5212.75130409002,5212.75130409002,5212.75130409002,5212.75130409002,5212.75130409002,12208.4226881862,12208.4226881862,12208.4226881862,12208.4226881862,12208.4226881862,12208.4226881862],[0.434067615941761,0.149194447047929,0.19745241316671,0.0684637888605629,0.150821734983037,0.410585124172928,0.135345175312713,0.171245632660997,0.10175328460301,0.181070783250351,0.400810195937801,0.118179840541721,0.155729464319201,0.103564049480539,0.221716449720738,0.39112304348303,0.11258576216317,0.16192983381275,0.110532894373222,0.223828466167828,0.386082344759366,0.0782421837551686,0.152255580665784,0.124214928785699,0.259204962033983,0.358813264884856,0.0809943793031485,0.14732221302047,0.121582284882571,0.291287857908955,0.325119012245101,0.0703275502217356,0.151355265184889,0.127146079293344,0.32605209305493,0.320913868745614,0.0742308331319618,0.131484425431298,0.128164202408493,0.345206670282634,0.277715239338784,0.0808401699780803,0.135127906033401,0.155856902979835,0.3504597816699,0.262263221962733,0.191863041064962,0.105356362537668,0.0930705841775565,0.212910477441839,0.134536312815242]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>inc<\/th>\n      <th>pid<\/th>\n      <th>weighted_n<\/th>\n      <th>weighted_group_size<\/th>\n      <th>weighted_estimate<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(pid_weighted_estimates, <span class="fu">aes</span>(<span class="at">x=</span>inc, <span class="at">y=</span>weighted_estimate)) <span class="sc">+</span> </span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_area</span>(<span class="fu">aes</span>(<span class="at">group =</span> pid, <span class="at">fill =</span> pid), <span class="at">position =</span> <span class="fu">position_stack</span>(<span class="at">reverse =</span> <span class="cn">TRUE</span>), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x=</span><span class="dv">5</span>, <span class="at">y=</span>.<span class="dv">2</span>, <span class="at">label=</span><span class="st">"Democrat"</span>, <span class="at">color=</span><span class="st">"white"</span>) <span class="sc">+</span> </span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x=</span><span class="dv">5</span>, <span class="at">y=</span>.<span class="dv">425</span>, <span class="at">label=</span><span class="st">"Lean Dem."</span>, <span class="at">color=</span><span class="st">"white"</span>) <span class="sc">+</span> </span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x=</span><span class="dv">5</span>, <span class="at">y=</span>.<span class="dv">55</span>, <span class="at">label=</span><span class="st">"Independent"</span>, <span class="at">color=</span><span class="st">"white"</span>) <span class="sc">+</span> </span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x=</span><span class="dv">5</span>, <span class="at">y=</span>.<span class="dv">68</span>, <span class="at">label=</span><span class="st">"Lean Rep."</span>) <span class="sc">+</span> </span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x=</span><span class="dv">5</span>, <span class="at">y=</span>.<span class="dv">87</span>, <span class="at">label=</span><span class="st">"Republican"</span>) <span class="sc">+</span> </span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="st">"Average Income Level"</span>, <span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">9</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Low Income"</span>, <span class="st">"Middle Income"</span>, <span class="st">"High Income"</span>), , <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">"Proportion of Sample"</span>, <span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">0</span>,.<span class="dv">5</span>, <span class="dv">1</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"0%"</span>, <span class="st">"50%"</span>, <span class="st">"100%"</span>), <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">3</span>, <span class="dv">3</span>, <span class="fl">2.5</span>, <span class="dv">1</span>, <span class="st">"lines"</span>),</span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">fill=</span><span class="cn">NA</span>, <span class="at">size=</span><span class="dv">1</span>),</span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">14</span>,<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>)</span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Party Identification by Income Levels"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 6 rows containing non-finite values (`stat_align()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ideology data prep</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>ideo_weighted_estimates <span class="ot">&lt;-</span> pew_pre <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">left_join</span>(</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  inc_totals</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>  inc,</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>  ideology</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">weighted_n =</span> <span class="fu">sum</span>(weight)</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">weighted_group_size =</span> <span class="fu">sum</span>(weighted_n),</span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">weighted_estimate =</span> weighted_n <span class="sc">/</span> weighted_group_size</span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(</span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a>  inc</span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining with `by = join_by(inc)`
`summarise()` has grouped output by 'inc'. You can override using the `.groups`
argument.</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(ideo_weighted_estimates)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-9b6357396b34de713591" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-9b6357396b34de713591">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51"],[1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,4,4,4,4,4,5,5,5,5,5,6,6,6,6,6,7,7,7,7,7,8,8,8,8,8,9,9,9,9,9,null,null,null,null,null,null],[1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,null],[594.397074222565,855.260970234871,2094.69520837069,1520.30970966816,471.798278212547,512.739577174187,1070.47817879915,2975.67588692904,2090.53008031845,537.529232800007,459.806406974792,1324.63206928968,3417.37142962217,2633.45312058926,588.292556881905,434.676952183247,1159.55623406172,3152.47861659527,2412.1071985364,652.913319051266,346.376710951328,1125.77451628447,2789.36224150658,2434.11161720753,572.544580817223,515.87586337328,1752.00076574087,4413.27660095692,3599.51455169916,931.660709321499,351.529057621956,1358.52458548546,3540.76593947411,2587.79143965244,571.849443793297,333.044668614864,1204.57177853584,2952.64933151007,2255.17092758417,429.415458202362,238.662191689014,867.376865208149,2375.2662268281,1373.10650676489,358.339513599873,509.660866856575,1200.60520887375,4772.18638288975,3234.54084080458,848.953215003014,1642.47617375851],[5536.46124070883,5536.46124070883,5536.46124070883,5536.46124070883,5536.46124070883,7186.95295602083,7186.95295602083,7186.95295602083,7186.95295602083,7186.95295602083,8423.55558335781,8423.55558335781,8423.55558335781,8423.55558335781,8423.55558335781,7811.73232042789,7811.73232042789,7811.73232042789,7811.73232042789,7811.73232042789,7268.16966676712,7268.16966676712,7268.16966676712,7268.16966676712,7268.16966676712,11212.3284910917,11212.3284910917,11212.3284910917,11212.3284910917,11212.3284910917,8410.46046602726,8410.46046602726,8410.46046602726,8410.46046602726,8410.46046602726,7174.85216444731,7174.85216444731,7174.85216444731,7174.85216444731,7174.85216444731,5212.75130409002,5212.75130409002,5212.75130409002,5212.75130409002,5212.75130409002,12208.4226881862,12208.4226881862,12208.4226881862,12208.4226881862,12208.4226881862,12208.4226881862],[0.107360468786821,0.154477911620921,0.378345502171799,0.274599539953343,0.0852165774671157,0.0713431102599109,0.148947430900096,0.414038592591062,0.290878497899046,0.0747923683498853,0.0545857865392637,0.157253318528191,0.405692275168669,0.31262963656251,0.0698389832013667,0.055644117636565,0.148437783899667,0.403556917631631,0.308780063063435,0.0835811177687028,0.0476566627957375,0.154891061697685,0.383777810562213,0.334900219561085,0.0787742453832796,0.0460096993932301,0.156256639032013,0.393609285035066,0.32103184941103,0.0830925271286611,0.0417966482384529,0.161527967579541,0.420995491718495,0.307687248528832,0.0679926439346803,0.0464183318320008,0.167888027645324,0.411527549813636,0.314316013193826,0.0598500775152126,0.0457843042505702,0.16639521331616,0.455664597880282,0.26341300911239,0.0687428754405975,0.0417466596524187,0.0983423689970654,0.390892951921438,0.26494338567869,0.0695383209351465,0.134536312815242]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>inc<\/th>\n      <th>ideology<\/th>\n      <th>weighted_n<\/th>\n      <th>weighted_group_size<\/th>\n      <th>weighted_estimate<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ideo_weighted_estimates, <span class="fu">aes</span>(<span class="at">x=</span>inc, <span class="at">y=</span>weighted_estimate)) <span class="sc">+</span> </span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_area</span>(<span class="fu">aes</span>(<span class="at">group =</span> ideology, <span class="at">fill =</span> ideology), <span class="at">position =</span> <span class="fu">position_stack</span>(<span class="at">reverse =</span> <span class="cn">TRUE</span>), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x=</span><span class="dv">5</span>, <span class="at">y=</span>.<span class="dv">03</span>, <span class="at">label=</span><span class="st">"Very Liberal"</span>, <span class="at">color=</span><span class="st">"white"</span>, <span class="at">size=</span><span class="dv">3</span>) <span class="sc">+</span> </span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x=</span><span class="dv">5</span>, <span class="at">y=</span>.<span class="dv">13</span>, <span class="at">label=</span><span class="st">"Liberal"</span>, <span class="at">color=</span><span class="st">"white"</span>, <span class="at">size=</span><span class="dv">3</span>) <span class="sc">+</span> </span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x=</span><span class="dv">5</span>, <span class="at">y=</span>.<span class="dv">4</span>, <span class="at">label=</span><span class="st">"Moderate"</span>, <span class="at">color=</span><span class="st">"white"</span>, <span class="at">size=</span><span class="dv">3</span>) <span class="sc">+</span> </span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x=</span><span class="dv">5</span>, <span class="at">y=</span>.<span class="dv">75</span>, <span class="at">label=</span><span class="st">"Conservative"</span>, <span class="at">size=</span><span class="dv">3</span>) <span class="sc">+</span> </span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x=</span><span class="dv">5</span>, <span class="at">y=</span>.<span class="dv">95</span>, <span class="at">label=</span><span class="st">"Very Conservative"</span>, <span class="at">size=</span><span class="dv">3</span>) <span class="sc">+</span> </span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="st">"Average Income Level"</span>, <span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">9</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Low Income"</span>, <span class="st">"Middle Income"</span>, <span class="st">"High Income"</span>), , <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">"Proportion of Sample"</span>, <span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">0</span>,.<span class="dv">5</span>, <span class="dv">1</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"0%"</span>, <span class="st">"50%"</span>, <span class="st">"100%"</span>), <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">3</span>, <span class="dv">3</span>, <span class="fl">2.5</span>, <span class="dv">1</span>, <span class="st">"lines"</span>),</span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">fill=</span><span class="cn">NA</span>, <span class="at">size=</span><span class="dv">1</span>),</span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">14</span>,<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>)</span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Ideology by Income Levels"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 6 rows containing non-finite values (`stat_align()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Overall, I think the plots I made look pretty similar to the textbook’s. The main bottleneck was learning how to calculate proportions based on weighted estimates. Once that took shape, I was able to figure out how to present the data visually in a way that resembles the authors’ approach.</p>
<p>The figure “Ideology by Income Levels” shows that the proportion of political liberals, moderates, and conservatives is about the same for all income levels. The figure “Party Identification by Income Levels” shows a strong relation between income and Republican partisanship, at least as of 2008. The partisanship and ideology example is a reminder that even very similar measures can answer quite different questions.</p>
</section>
</section>
<section id="validity-and-reliability" class="level3">
<h3 class="anchored" data-anchor-id="validity-and-reliability">2.2 Validity and reliability</h3>
<p>Data analysis reaches a dead end if we have poor data.</p>
<p>Two reasons for discussing measurement:</p>
<ul>
<li><p>we need to understand what our data actually mean, otherwise we cannot extract the right information</p></li>
<li><p>learning about accuracy, reliability and validity will set a foundation for understanding variance, correlation, and error, which will be useful in setting up linear models in the forthcoming chapters</p></li>
</ul>
<p>The property of being precise enough is a combination of the properties of the scale and what we are trying to use it for.</p>
<p>In social science, the way to measure what we are trying to measure is not as transparent as it is in everyday life.</p>
<p>Other times, the thing we are trying to measure is pretty straightforward, but a little bit fuzzy, and the ways to tally it up aren’t obvious.</p>
<p>Sometimes we are trying to measure something that we all agree has meaning, but which is subjective for every person and does not correspond to a “thing” we can count or measure with a ruler.</p>
<p>Attitudes are private; you can’t just weigh them or measure their widths.</p>
<p>It can be helpful to take multiple measurements on an underlying construct of interest.</p>
<section id="validity" class="level4">
<h4 class="anchored" data-anchor-id="validity">Validity</h4>
<p>A measure is <em>valid</em> to the degree that it represents what you are trying to measure. Asking people how satisfied they are with some government service might not be considered a valid measure of the effectiveness of that service.</p>
<p>Valid measures are ones in which there is general agreement that the observations are closely related to the intended construct.</p>
<p><strong>validity:</strong> the property of giving the right answer on average across a wide range of plausible scenarios. To study validity in an empirical way, ideally you want settings in which there is an observable true value and multiple measurements can be taken.</p>
</section>
<section id="reliability" class="level4">
<h4 class="anchored" data-anchor-id="reliability">Reliability</h4>
<p>A <em>reliable</em> measure is one that is precise and stable. We would hope the variability in our sample is due to real differences among people or things, and not due to random error incurred during the measurement process.</p>
</section>
<section id="sample-selection" class="level4">
<h4 class="anchored" data-anchor-id="sample-selection">Sample selection</h4>
<p><strong>selection:</strong> the idea that the data you see may be a nonrepresentative sample of a larger population you will not see.</p>
<p>In addition to selection bias, there are also biases from nonresponse to particular survey items, partially observed measurements, and choices in coding and interpretation of data.</p>
</section>
</section>
<section id="all-graphs-are-comparisons" class="level3">
<h3 class="anchored" data-anchor-id="all-graphs-are-comparisons">2.3 All graphs are comparisons</h3>
<section id="simple-scatterplots" class="level4">
<h4 class="anchored" data-anchor-id="simple-scatterplots">Simple scatterplots</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>health_data_path <span class="ot">=</span> <span class="fu">file.path</span>(data_root_path, <span class="st">"HealthExpenditure/data/healthdata.txt"</span>)</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>health <span class="ot">&lt;-</span> <span class="fu">read.table</span>(health_data_path, <span class="at">header=</span><span class="cn">TRUE</span>)</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="fu">head</span>(health))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-7c8c7cb2085a623e4650" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-7c8c7cb2085a623e4650">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6"],["Australia","Austria","Belgium","Canada","Czech","Denmark"],[3357,3763,3595,3895,1626,3512],[81.4,80.1,79.8,80.7,77,78.4]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>country<\/th>\n      <th>spending<\/th>\n      <th>lifespan<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mgp=</span><span class="fu">c</span>(<span class="fl">1.7</span>,.<span class="dv">5</span>,<span class="dv">0</span>), <span class="at">tck=</span><span class="sc">-</span>.<span class="dv">01</span>, <span class="at">mar=</span><span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">3</span>,.<span class="dv">1</span>,.<span class="dv">1</span>))</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>health, <span class="fu">aes</span>(<span class="at">x=</span>spending, <span class="at">y=</span>lifespan, <span class="at">label=</span>country)) <span class="sc">+</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>() <span class="sc">+</span> </span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Health care spending (PPP US$)"</span>,<span class="at">y=</span><span class="st">"Life expectancy (years)"</span>) <span class="sc">+</span> </span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">fill=</span><span class="cn">NA</span>, <span class="at">size=</span><span class="dv">1</span>),</span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">'white'</span>),</span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">aspect.ratio =</span> <span class="fl">0.5</span></span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>  ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The graph shows the exceptional position of the United States (highest health care spending, low life expectancy) and also shows the relation between spending and lifespan in other countries.</p>
</section>
<section id="displaying-more-information-on-the-graph" class="level4">
<h4 class="anchored" data-anchor-id="displaying-more-information-on-the-graph">Displaying more information on the graph</h4>
<p>At least in theory, you can display five variables easily with a scatterplot:</p>
<ul>
<li><p>x position</p></li>
<li><p>y position</p></li>
<li><p>symbol</p></li>
<li><p>symbol size</p></li>
<li><p>symbol color</p></li>
</ul>
<p>We prefer clearly distinguishable colors or symbols such as open circles, solid circles, crosses and dots. When a graph has multiple lines, label them directly.</p>
</section>
<section id="multiple-plots" class="level4">
<h4 class="anchored" data-anchor-id="multiple-plots">Multiple plots</h4>
<p>Looking at data in unexpected ways can lead to discovery.</p>
<p>We can learn by putting multiple related graphs in a single display.</p>
<p>There is no single best way to display a dataset.</p>
<p>In the code chunks below I’ll recreate plots 2.6, 2.7, 2.8 and 2.9 using <a href="https://avehtari.github.io/ROS-Examples/Names/lastletters.html">their code provided in the supplemental website</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>allnames_path <span class="ot">=</span> <span class="fu">file.path</span>(data_root_path, <span class="st">"Names/data/allnames_clean.csv"</span>)</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>allnames <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(allnames_path)</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="fu">head</span>(allnames), <span class="at">options=</span><span class="fu">list</span>(<span class="at">scrollX=</span><span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-64bb281aee26ae72e909" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-64bb281aee26ae72e909">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6"],[1,2,3,4,5,6],["Mary","Anna","Emma","Elizabeth","Minnie","Margaret"],["F","F","F","F","F","F"],[7065,2604,2003,1939,1746,1578],[6919,2698,2034,1852,1653,1658],[8149,3143,2303,2187,2004,1821],[8012,3306,2367,2255,2035,1881],[9217,3860,2587,2549,2243,2143],[9128,3994,2728,2582,2178,2204],[9891,4283,2764,2680,2372,2275],[9888,4227,2647,2681,2215,2419],[11754,4982,3087,3224,2654,2904],[11649,5062,2884,3058,2624,2917],[12078,5233,2980,3112,2650,3100],[11704,5099,2884,3059,2428,3066],[13174,5542,3128,3461,2609,3435],[12784,5695,2968,3361,2510,3565],[13151,5565,2937,3425,2592,3701],[13446,5949,2952,3603,2567,3931],[13811,5860,2872,3471,2530,4051],[13412,5429,2698,3442,2284,4145],[14406,5773,2788,3659,2409,4696],[13172,5115,2445,3287,2036,4249],[16710,6115,3095,4097,2673,5305],[13137,4923,2374,3216,2026,4424],[14485,5288,2514,3694,2055,5011],[14275,5098,2308,3723,1846,5046],[14962,5330,2313,3833,1885,5302],[16067,5424,2298,4122,1950,5690],[16371,5502,2224,4321,1777,6096],[17579,5575,2357,4623,1907,6713],[18664,5858,2357,4904,1817,6976],[19256,5803,2338,5175,1777,7358],[22840,6434,2606,5799,1982,8226],[24385,6752,2614,6296,1899,9276],[32295,8585,3357,8525,2295,12532],[36631,9681,3469,9501,2332,14484],[45341,11864,3970,11363,2716,17756],[58184,15122,5044,14098,3269,23052],[61428,15225,5217,14938,3275,24954],[64270,15161,5118,15129,3262,25561],[67375,15668,5323,15855,3178,27136],[65839,14498,5088,15286,3271,26240],[70974,14576,5238,15910,3245,27998],[73980,14475,5072,15804,2998,28462],[72156,13406,5013,15237,3119,26858],[71636,12857,4971,15462,2782,26131],[73505,13083,4899,14949,2884,26551],[70594,12246,4708,13925,2734,24461],[67830,11704,4477,12839,2451,23061],[70594,11212,4329,12528,2469,21972],[66867,10567,4018,11758,2226,20290],[63502,9740,3806,11245,1992,19196],[64110,9078,3557,10993,2007,18353],[60303,8427,3306,10289,1770,17324],[59859,7921,3327,9996,1806,16537],[55477,7067,3152,9015,1604,15238],[56898,6675,2935,9342,1663,15143],[55055,6162,2803,9071,1582,14719],[54356,5725,2830,8864,1429,14590],[55635,5446,2747,9383,1377,15144],[56199,5140,2669,9799,1361,15328],[54903,4933,2684,9705,1269,14948],[56203,4717,2606,9956,1224,15058],[58025,4430,2544,10269,1356,15691],[63236,4487,2603,11179,1447,16552],[66156,4235,2422,11646,1347,17145],[62476,3635,2248,11035,1220,16312],[59285,3605,2053,10344,1085,15690],[67437,4005,2070,11738,1074,18124],[71654,4233,2140,13442,1048,20102],[68582,4046,2100,13199,991,18872],[66809,3895,1994,13704,940,19436],[65444,3816,1897,14331,877,18113],[65624,3853,1724,15084,791,17667],[65699,3716,1716,16026,697,17080],[64325,3836,1590,16089,655,16205],[67988,3996,1527,16588,608,15223],[63159,4095,1454,16680,553,14432],[61752,4381,1346,16348,497,13914],[61090,4443,1216,17489,416,13010],[55832,4653,1087,18528,416,12311],[54469,4873,1056,18431,425,11573],[51477,4651,979,18855,349,11368],[47651,4660,887,18845,319,10545],[43488,4440,794,17798,273,10078],[41553,4247,727,17583,244,9302],[40978,4285,769,17275,223,9110],[34270,3919,637,16321,208,7792],[28881,3666,620,15883,181,6955],[25317,3715,565,16108,175,6226],[21722,3561,492,14891,155,5442],[19855,3714,515,15303,138,5041],[19199,3790,525,15122,126,4705],[16699,3572,469,13602,134,4002],[13767,3443,454,12185,114,3286],[12321,3498,418,12356,108,3171],[11751,3608,494,12261,104,3093],[10969,3567,475,12469,94,2951],[10325,3579,420,13549,83,2664],[10661,3846,478,16424,69,2626],[10047,4168,437,16809,59,2634],[10549,4663,481,18064,73,2829],[11469,5026,533,19523,71,2856],[11030,5182,532,20167,56,2792],[10847,5260,558,20504,44,2995],[9889,5219,548,19828,53,2941],[9285,5302,673,20344,44,3033],[9235,5879,937,20530,62,3071],[8499,5894,1254,19058,35,3076],[8394,6160,1583,18605,45,3144],[8505,6426,1782,20019,44,3137],[8641,6887,1931,20285,33,3285],[8651,7283,2410,20739,38,3369],[8743,7104,2577,20385,37,3195],[8430,6830,3193,19014,55,3239],[8089,6796,4091,17539,24,3166],[7722,7516,4744,16768,37,3106],[7408,8544,5035,16171,28,3216],[6926,8543,6124,15973,36,3102],[6616,8330,7723,15399,30,2962],[6415,8365,10426,15171,35,2960],[6350,9081,11715,15325,24,2955],[6174,10569,12533,15077,31,3117],[5715,10564,13299,14767,25,2894],[5439,10372,16520,14581,33,2673],[4996,9429,22690,14083,25,2617],[4792,9510,21591,13536,26,2434],[4439,9085,20318,12705,31,2310],[4073,8590,19092,12397,37,2188],[3665,7866,18338,13013,17,2022],[3478,7236,18765,11956,43,1856],[3132,6755,17830,10969,28,1755],[2826,6242,17179,10135,37,1676]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>X<\/th>\n      <th>name<\/th>\n      <th>sex<\/th>\n      <th>X1880<\/th>\n      <th>X1881<\/th>\n      <th>X1882<\/th>\n      <th>X1883<\/th>\n      <th>X1884<\/th>\n      <th>X1885<\/th>\n      <th>X1886<\/th>\n      <th>X1887<\/th>\n      <th>X1888<\/th>\n      <th>X1889<\/th>\n      <th>X1890<\/th>\n      <th>X1891<\/th>\n      <th>X1892<\/th>\n      <th>X1893<\/th>\n      <th>X1894<\/th>\n      <th>X1895<\/th>\n      <th>X1896<\/th>\n      <th>X1897<\/th>\n      <th>X1898<\/th>\n      <th>X1899<\/th>\n      <th>X1900<\/th>\n      <th>X1901<\/th>\n      <th>X1902<\/th>\n      <th>X1903<\/th>\n      <th>X1904<\/th>\n      <th>X1905<\/th>\n      <th>X1906<\/th>\n      <th>X1907<\/th>\n      <th>X1908<\/th>\n      <th>X1909<\/th>\n      <th>X1910<\/th>\n      <th>X1911<\/th>\n      <th>X1912<\/th>\n      <th>X1913<\/th>\n      <th>X1914<\/th>\n      <th>X1915<\/th>\n      <th>X1916<\/th>\n      <th>X1917<\/th>\n      <th>X1918<\/th>\n      <th>X1919<\/th>\n      <th>X1920<\/th>\n      <th>X1921<\/th>\n      <th>X1922<\/th>\n      <th>X1923<\/th>\n      <th>X1924<\/th>\n      <th>X1925<\/th>\n      <th>X1926<\/th>\n      <th>X1927<\/th>\n      <th>X1928<\/th>\n      <th>X1929<\/th>\n      <th>X1930<\/th>\n      <th>X1931<\/th>\n      <th>X1932<\/th>\n      <th>X1933<\/th>\n      <th>X1934<\/th>\n      <th>X1935<\/th>\n      <th>X1936<\/th>\n      <th>X1937<\/th>\n      <th>X1938<\/th>\n      <th>X1939<\/th>\n      <th>X1940<\/th>\n      <th>X1941<\/th>\n      <th>X1942<\/th>\n      <th>X1943<\/th>\n      <th>X1944<\/th>\n      <th>X1945<\/th>\n      <th>X1946<\/th>\n      <th>X1947<\/th>\n      <th>X1948<\/th>\n      <th>X1949<\/th>\n      <th>X1950<\/th>\n      <th>X1951<\/th>\n      <th>X1952<\/th>\n      <th>X1953<\/th>\n      <th>X1954<\/th>\n      <th>X1955<\/th>\n      <th>X1956<\/th>\n      <th>X1957<\/th>\n      <th>X1958<\/th>\n      <th>X1959<\/th>\n      <th>X1960<\/th>\n      <th>X1961<\/th>\n      <th>X1962<\/th>\n      <th>X1963<\/th>\n      <th>X1964<\/th>\n      <th>X1965<\/th>\n      <th>X1966<\/th>\n      <th>X1967<\/th>\n      <th>X1968<\/th>\n      <th>X1969<\/th>\n      <th>X1970<\/th>\n      <th>X1971<\/th>\n      <th>X1972<\/th>\n      <th>X1973<\/th>\n      <th>X1974<\/th>\n      <th>X1975<\/th>\n      <th>X1976<\/th>\n      <th>X1977<\/th>\n      <th>X1978<\/th>\n      <th>X1979<\/th>\n      <th>X1980<\/th>\n      <th>X1981<\/th>\n      <th>X1982<\/th>\n      <th>X1983<\/th>\n      <th>X1984<\/th>\n      <th>X1985<\/th>\n      <th>X1986<\/th>\n      <th>X1987<\/th>\n      <th>X1988<\/th>\n      <th>X1989<\/th>\n      <th>X1990<\/th>\n      <th>X1991<\/th>\n      <th>X1992<\/th>\n      <th>X1993<\/th>\n      <th>X1994<\/th>\n      <th>X1995<\/th>\n      <th>X1996<\/th>\n      <th>X1997<\/th>\n      <th>X1998<\/th>\n      <th>X1999<\/th>\n      <th>X2000<\/th>\n      <th>X2001<\/th>\n      <th>X2002<\/th>\n      <th>X2003<\/th>\n      <th>X2004<\/th>\n      <th>X2005<\/th>\n      <th>X2006<\/th>\n      <th>X2007<\/th>\n      <th>X2008<\/th>\n      <th>X2009<\/th>\n      <th>X2010<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create a vector identifying which rows have Female names (TRUE) and which have Male names (FALSE)</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>girl <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(allnames<span class="sc">$</span>sex) <span class="sc">==</span> <span class="st">"F"</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Since there is a `names` base R function, I'm renaming the names vector to names_vec</span></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>names_vec <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(allnames<span class="sc">$</span>name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot data</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate the number of characters in each name</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>namelength <span class="ot">&lt;-</span> <span class="fu">nchar</span>(names_vec)</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a><span class="co"># create a vector of last letters of each name</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>lastletter <span class="ot">&lt;-</span> <span class="fu">substr</span>(names_vec, namelength, namelength)</span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a><span class="co"># create a vector of first letters of each name</span></span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>firstletter <span class="ot">&lt;-</span> <span class="fu">substr</span>(names_vec, <span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a><span class="co"># plotting function</span></span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a><span class="co"># i am renaming it to names_histogram since there is an `arm` package function called `discrete.histogram`</span></span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a>names_histogram <span class="ot">&lt;-</span> <span class="cf">function</span>(x, prob, <span class="at">prob2=</span><span class="cn">NULL</span>, <span class="at">xlab=</span><span class="st">"x"</span>, <span class="at">ylab=</span><span class="st">"Probability"</span>, <span class="at">xaxs.label=</span><span class="cn">NULL</span>, <span class="at">yaxs.label=</span><span class="cn">NULL</span>, <span class="at">bar.width=</span><span class="cn">NULL</span>, ...) {</span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">length</span>(x) <span class="sc">!=</span> <span class="fu">length</span>(prob)) <span class="fu">stop</span>()</span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a>  x.values <span class="ot">&lt;-</span> <span class="fu">sort</span> (<span class="fu">unique</span>(x))</span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a>  n.x.values <span class="ot">&lt;-</span> <span class="fu">length</span> (x.values)</span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a>  gaps <span class="ot">&lt;-</span> x.values[<span class="dv">2</span><span class="sc">:</span>n.x.values] <span class="sc">-</span> x.values[<span class="dv">1</span><span class="sc">:</span>(n.x.values<span class="dv">-1</span>)]</span>
<span id="cb59-20"><a href="#cb59-20" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is.null</span>(bar.width)) bar.width <span class="ot">&lt;-</span> <span class="fu">min</span>(gaps)<span class="sc">*</span>.<span class="dv">2</span></span>
<span id="cb59-21"><a href="#cb59-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>), <span class="at">mgp=</span><span class="fu">c</span>(<span class="fl">1.7</span>,.<span class="dv">3</span>,<span class="dv">0</span>), <span class="at">tck=</span><span class="dv">0</span>)</span>
<span id="cb59-22"><a href="#cb59-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(<span class="fu">range</span>(x)<span class="sc">+</span><span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>,<span class="dv">1</span>)<span class="sc">*</span>bar.width, <span class="fu">c</span>(<span class="dv">0</span>,<span class="fu">max</span>(prob)),</span>
<span id="cb59-23"><a href="#cb59-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">xlab=</span>xlab, <span class="at">ylab=</span>ylab, <span class="at">xaxs=</span><span class="st">"i"</span>, <span class="at">xaxt=</span><span class="st">"n"</span>,  <span class="at">yaxs=</span><span class="st">"i"</span>,</span>
<span id="cb59-24"><a href="#cb59-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">yaxt=</span><span class="fu">ifelse</span>(<span class="fu">is.null</span>(yaxs.label),<span class="st">"s"</span>,<span class="st">"n"</span>), <span class="at">bty=</span><span class="st">"l"</span>, <span class="at">type=</span><span class="st">"n"</span>, ...)</span>
<span id="cb59-25"><a href="#cb59-25" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is.null</span>(xaxs.label)){</span>
<span id="cb59-26"><a href="#cb59-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">axis</span>(<span class="dv">1</span>, x.values)</span>
<span id="cb59-27"><a href="#cb59-27" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb59-28"><a href="#cb59-28" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> {</span>
<span id="cb59-29"><a href="#cb59-29" aria-hidden="true" tabindex="-1"></a>    n <span class="ot">&lt;-</span> <span class="fu">length</span>(xaxs.label[[<span class="dv">1</span>]])</span>
<span id="cb59-30"><a href="#cb59-30" aria-hidden="true" tabindex="-1"></a>    even <span class="ot">&lt;-</span> (<span class="dv">1</span><span class="sc">:</span>n)[(<span class="dv">1</span><span class="sc">:</span>n)<span class="sc">%%</span><span class="dv">2</span><span class="sc">==</span><span class="dv">0</span>]</span>
<span id="cb59-31"><a href="#cb59-31" aria-hidden="true" tabindex="-1"></a>    odd <span class="ot">&lt;-</span> (<span class="dv">1</span><span class="sc">:</span>n)[(<span class="dv">1</span><span class="sc">:</span>n)<span class="sc">%%</span><span class="dv">2</span><span class="sc">==</span><span class="dv">1</span>]</span>
<span id="cb59-32"><a href="#cb59-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">axis</span>(<span class="dv">1</span>, xaxs.label[[<span class="dv">1</span>]][even], xaxs.label[[<span class="dv">2</span>]][even], <span class="at">cex.axis=</span>.<span class="dv">9</span>)</span>
<span id="cb59-33"><a href="#cb59-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">axis</span>(<span class="dv">1</span>, xaxs.label[[<span class="dv">1</span>]][odd], xaxs.label[[<span class="dv">2</span>]][odd], <span class="at">cex.axis=</span>.<span class="dv">9</span>)</span>
<span id="cb59-34"><a href="#cb59-34" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb59-35"><a href="#cb59-35" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(yaxs.label)){</span>
<span id="cb59-36"><a href="#cb59-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">axis</span>(<span class="dv">2</span>, yaxs.label[[<span class="dv">1</span>]], yaxs.label[[<span class="dv">2</span>]], <span class="at">tck=</span><span class="sc">-</span>.<span class="dv">02</span>)</span>
<span id="cb59-37"><a href="#cb59-37" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb59-38"><a href="#cb59-38" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(x)){</span>
<span id="cb59-39"><a href="#cb59-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">polygon</span>(x[i] <span class="sc">+</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>,<span class="sc">-</span><span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>)<span class="sc">*</span>bar.width<span class="sc">/</span><span class="dv">2</span>, <span class="fu">c</span>(<span class="dv">0</span>,prob[i],prob[i],<span class="dv">0</span>),</span>
<span id="cb59-40"><a href="#cb59-40" aria-hidden="true" tabindex="-1"></a>      <span class="at">border=</span><span class="st">"gray10"</span>, <span class="at">col=</span><span class="st">"gray10"</span>)</span>
<span id="cb59-41"><a href="#cb59-41" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(prob2))</span>
<span id="cb59-42"><a href="#cb59-42" aria-hidden="true" tabindex="-1"></a>      <span class="fu">polygon</span>(x[i] <span class="sc">+</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>,<span class="sc">-</span><span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>)<span class="sc">*</span>bar.width<span class="sc">/</span><span class="dv">10</span>, <span class="fu">c</span>(<span class="dv">0</span>,prob2[i],prob2[i],<span class="dv">0</span>),</span>
<span id="cb59-43"><a href="#cb59-43" aria-hidden="true" tabindex="-1"></a>        <span class="at">border=</span><span class="st">"red"</span>, <span class="at">col=</span><span class="st">"black"</span>)</span>
<span id="cb59-44"><a href="#cb59-44" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb59-45"><a href="#cb59-45" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-46"><a href="#cb59-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-47"><a href="#cb59-47" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (year <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">1900</span>,<span class="dv">1950</span>,<span class="dv">2010</span>)){</span>
<span id="cb59-48"><a href="#cb59-48" aria-hidden="true" tabindex="-1"></a>  <span class="co"># get the column X1900, X1950 and X2010 from the data.frame `allnames`</span></span>
<span id="cb59-49"><a href="#cb59-49" aria-hidden="true" tabindex="-1"></a>  thisyear <span class="ot">&lt;-</span> allnames[,<span class="fu">paste</span>(<span class="st">"X"</span>,year,<span class="at">sep=</span><span class="st">""</span>)]</span>
<span id="cb59-50"><a href="#cb59-50" aria-hidden="true" tabindex="-1"></a>  <span class="co"># create 2D empty arrays to store Male and Female last and first letter of names</span></span>
<span id="cb59-51"><a href="#cb59-51" aria-hidden="true" tabindex="-1"></a>  lastletter.by.sex <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="cn">NA</span>, <span class="fu">c</span>(<span class="dv">26</span>,<span class="dv">2</span>))</span>
<span id="cb59-52"><a href="#cb59-52" aria-hidden="true" tabindex="-1"></a>  firstletter.by.sex <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="cn">NA</span>, <span class="fu">c</span>(<span class="dv">26</span>,<span class="dv">2</span>))</span>
<span id="cb59-53"><a href="#cb59-53" aria-hidden="true" tabindex="-1"></a>  <span class="co"># construct the 2D arrays of Male/Female last/first letter of names</span></span>
<span id="cb59-54"><a href="#cb59-54" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">26</span>){</span>
<span id="cb59-55"><a href="#cb59-55" aria-hidden="true" tabindex="-1"></a>    lastletter.by.sex[i,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="fu">sum</span>(thisyear[lastletter<span class="sc">==</span>letters[i] <span class="sc">&amp;</span> girl])</span>
<span id="cb59-56"><a href="#cb59-56" aria-hidden="true" tabindex="-1"></a>    lastletter.by.sex[i,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">sum</span>(thisyear[lastletter<span class="sc">==</span>letters[i] <span class="sc">&amp;</span> <span class="sc">!</span>girl])</span>
<span id="cb59-57"><a href="#cb59-57" aria-hidden="true" tabindex="-1"></a>    firstletter.by.sex[i,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="fu">sum</span>(thisyear[firstletter<span class="sc">==</span>LETTERS[i] <span class="sc">&amp;</span> girl])</span>
<span id="cb59-58"><a href="#cb59-58" aria-hidden="true" tabindex="-1"></a>    firstletter.by.sex[i,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">sum</span>(thisyear[firstletter<span class="sc">==</span>LETTERS[i] <span class="sc">&amp;</span> <span class="sc">!</span>girl])</span>
<span id="cb59-59"><a href="#cb59-59" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb59-60"><a href="#cb59-60" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb59-61"><a href="#cb59-61" aria-hidden="true" tabindex="-1"></a>  <span class="co"># plot the histogram for the given year</span></span>
<span id="cb59-62"><a href="#cb59-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names_histogram</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">26</span>, <span class="dv">100</span><span class="sc">*</span>(lastletter.by.sex[,<span class="dv">2</span>])<span class="sc">/</span><span class="fu">sum</span>(lastletter.by.sex[,<span class="dv">2</span>]), <span class="at">xaxs.label=</span><span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">26</span>,letters), <span class="at">yaxs.label=</span><span class="fu">list</span>(<span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">30</span>,<span class="dv">10</span>),<span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">30</span>,<span class="dv">10</span>)), <span class="at">xlab=</span><span class="st">""</span>, <span class="at">ylab=</span><span class="st">"Percentage of boys born"</span>, <span class="at">main=</span><span class="fu">paste</span>(<span class="st">"Last letter of boys' names in"</span>, year), <span class="at">cex.axis=</span>.<span class="dv">9</span>, <span class="at">cex.main=</span>.<span class="dv">9</span>, <span class="at">bar.width=</span>.<span class="dv">8</span>)</span>
<span id="cb59-63"><a href="#cb59-63" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (y <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>)) <span class="fu">abline</span> (y,<span class="dv">0</span>,<span class="at">col=</span><span class="st">"gray"</span>,<span class="at">lwd=</span>.<span class="dv">5</span>)</span>
<span id="cb59-64"><a href="#cb59-64" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb59-65"><a href="#cb59-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names_histogram</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">26</span>, <span class="dv">100</span><span class="sc">*</span>(lastletter.by.sex[,<span class="dv">1</span>])<span class="sc">/</span><span class="fu">sum</span>(lastletter.by.sex[,<span class="dv">1</span>]), <span class="at">xaxs.label=</span><span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">26</span>,letters), <span class="at">yaxs.label=</span><span class="fu">list</span>(<span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">30</span>,<span class="dv">10</span>),<span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">30</span>,<span class="dv">10</span>)), <span class="at">xlab=</span><span class="st">""</span>, <span class="at">ylab=</span><span class="st">"Percentage of girls born"</span>, <span class="at">main=</span><span class="fu">paste</span>(<span class="st">"Last letter of girls' names in"</span>, year), <span class="at">cex.main=</span>.<span class="dv">9</span>)</span>
<span id="cb59-66"><a href="#cb59-66" aria-hidden="true" tabindex="-1"></a>  <span class="co"># adding the horizontal grid lines for the girls plots</span></span>
<span id="cb59-67"><a href="#cb59-67" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (y <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>)) <span class="fu">abline</span> (y,<span class="dv">0</span>,<span class="at">col=</span><span class="st">"gray"</span>,<span class="at">lwd=</span>.<span class="dv">5</span>)</span>
<span id="cb59-68"><a href="#cb59-68" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-34-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-34-3.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-34-4.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-34-5.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-34-6.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>I’ll recreate similar plots using tidyverse and ggplot.</p>
<p>First, I’ll make the data long (instead of it’s current wide shape) so that I can aggregate the data more easily for plotting:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reshape the data to make it longer</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>allnames_long <span class="ot">&lt;-</span> allnames <span class="sc">%&gt;%</span> <span class="fu">rename</span>(</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">id =</span> <span class="st">'X'</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">pivot_longer</span>(</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">starts_with</span>(<span class="st">"X"</span>),</span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">names_to =</span> <span class="st">"year"</span>,</span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">values_to =</span> <span class="st">"name_n"</span></span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># remove X at start of the four-digit year</span></span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">year =</span> <span class="fu">str_remove</span>(year, <span class="st">"X"</span>),</span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># extract last letter of each name</span></span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">last_letter =</span> <span class="fu">str_sub</span>(name, <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb60-14"><a href="#cb60-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-15"><a href="#cb60-15" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="fu">head</span>(allnames_long))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-69991188d9a5b7260d99" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-69991188d9a5b7260d99">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6"],[1,1,1,1,1,1],["Mary","Mary","Mary","Mary","Mary","Mary"],["F","F","F","F","F","F"],["1880","1881","1882","1883","1884","1885"],[7065,6919,8149,8012,9217,9128],["y","y","y","y","y","y"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>id<\/th>\n      <th>name<\/th>\n      <th>sex<\/th>\n      <th>year<\/th>\n      <th>name_n<\/th>\n      <th>last_letter<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,5]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>I then aggregate the data by year, sex and last letter, and calculate the count and percentage of last letters in each year for each sex:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>allnames_agg <span class="ot">&lt;-</span> allnames_long <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  year,</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  sex,</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>  last_letter</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(</span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">last_letter_n =</span> <span class="fu">sum</span>(name_n)</span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">total_n =</span> <span class="fu">sum</span>(last_letter_n),</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">last_letter_pct =</span> last_letter_n <span class="sc">/</span> total_n</span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'year', 'sex'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="fu">head</span>(allnames_agg, <span class="at">n=</span><span class="dv">30</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-9ab62467e0086a2483ce" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-9ab62467e0086a2483ce">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30"],["1880","1880","1880","1880","1880","1880","1880","1880","1880","1880","1880","1880","1880","1880","1880","1880","1880","1880","1880","1880","1880","1880","1880","1880","1880","1880","1880","1880","1880","1880"],["F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","M","M","M","M"],["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","a","b","c","d"],[31446,0,0,609,33352,0,7,4853,61,0,0,2541,28,2962,30,0,0,468,1345,2141,380,0,0,0,10458,106,754,509,349,9177],[90787,90787,90787,90787,90787,90787,90787,90787,90787,90787,90787,90787,90787,90787,90787,90787,90787,90787,90787,90787,90787,90787,90787,90787,90787,90787,110267,110267,110267,110267],[0.346371176490026,0,0,0.00670800885589347,0.367365371694185,0,7.7103550067741e-05,0.0534547897826781,0.000671902364876029,0,0,0.02798858867459,0.000308414200270964,0.0326258164715213,0.000330443786004604,0,0,0.00515492306167183,0.0148148964058731,0.0235826715278619,0.00418562128939165,0,0,0,0.115192703801205,0.00116756804388293,0.00683794789012125,0.00461606827065214,0.00316504484569273,0.0832252623178285]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>year<\/th>\n      <th>sex<\/th>\n      <th>last_letter<\/th>\n      <th>last_letter_n<\/th>\n      <th>total_n<\/th>\n      <th>last_letter_pct<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[4,5,6]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>I then plot one year’s data to make sure I’m getting the same result as the textbook:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(allnames_agg <span class="sc">%&gt;%</span> <span class="fu">filter</span>(year <span class="sc">==</span> <span class="st">"1900"</span>, sex <span class="sc">==</span> <span class="st">"F"</span>), <span class="fu">aes</span>(<span class="at">x =</span> last_letter, <span class="at">y =</span> last_letter_pct)) <span class="sc">+</span> </span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">"identity"</span>, <span class="at">fill=</span><span class="st">"black"</span>) <span class="sc">+</span> </span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">3</span>, <span class="dv">3</span>, <span class="fl">2.5</span>, <span class="dv">1</span>, <span class="st">"lines"</span>),</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">fill=</span><span class="cn">NA</span>, <span class="at">size=</span><span class="dv">1</span>),</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">color =</span> <span class="st">"white"</span>, <span class="at">fill=</span><span class="cn">NA</span>),</span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">14</span>,<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>)</span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="st">"Last Letter of Name"</span>, <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">"Percentage of Total"</span>, <span class="at">limits=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.4</span>), <span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">0</span>,.<span class="dv">1</span>,.<span class="dv">2</span>,.<span class="dv">3</span>,.<span class="dv">4</span>), <span class="at">labels=</span><span class="fu">c</span>(<span class="st">"0%"</span>, <span class="st">"10%"</span>, <span class="st">"20%"</span>, <span class="st">"30%"</span>, <span class="st">"40%"</span>), <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Last Letter of Girls' Names in 1900"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Finally I’ll plots histograms to match figures 2.6 and 2.7:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plotting function </span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>plot_last_letter_distribution <span class="ot">&lt;-</span> <span class="cf">function</span>(year_arg, sex_arg) {</span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># prepare string for plot title</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>  title_sex <span class="ot">&lt;-</span> <span class="cf">if</span>(sex_arg <span class="sc">==</span> <span class="st">'F'</span>) <span class="st">"Girls'"</span> <span class="cf">else</span> <span class="st">"Boys'"</span></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>  title_str <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"Last Letter of"</span>, title_sex, <span class="st">"in"</span>, year_arg)</span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># prep data</span></span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>  plot_data <span class="ot">&lt;-</span> allnames_agg <span class="sc">%&gt;%</span> <span class="fu">filter</span>(year <span class="sc">==</span> year_arg, sex <span class="sc">==</span> sex_arg)</span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculate y-axis limits, break points and labels</span></span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculate max y limit to 0.05 more than the nearest 0.05</span></span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a>  limits_max <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">max</span>(plot_data<span class="sc">$</span>last_letter_pct)<span class="sc">/</span><span class="fl">0.05</span>) <span class="sc">*</span> <span class="fl">0.05</span> <span class="sc">+</span> <span class="fl">0.05</span></span>
<span id="cb65-13"><a href="#cb65-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb65-14"><a href="#cb65-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculate y-axis breaks</span></span>
<span id="cb65-15"><a href="#cb65-15" aria-hidden="true" tabindex="-1"></a>  breaks_val <span class="ot">=</span> <span class="fu">seq</span>(<span class="dv">0</span>, limits_max, <span class="at">by=</span><span class="fl">0.05</span>)</span>
<span id="cb65-16"><a href="#cb65-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb65-17"><a href="#cb65-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculate y-axis labels</span></span>
<span id="cb65-18"><a href="#cb65-18" aria-hidden="true" tabindex="-1"></a>  labels_val <span class="ot">=</span> <span class="fu">c</span>()</span>
<span id="cb65-19"><a href="#cb65-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb65-20"><a href="#cb65-20" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (val <span class="cf">in</span> breaks_val) {</span>
<span id="cb65-21"><a href="#cb65-21" aria-hidden="true" tabindex="-1"></a>    labels_val <span class="ot">&lt;-</span> <span class="fu">append</span>(labels_val, <span class="fu">paste0</span>(val<span class="sc">*</span><span class="dv">100</span>, <span class="st">"%"</span>))</span>
<span id="cb65-22"><a href="#cb65-22" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb65-23"><a href="#cb65-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb65-24"><a href="#cb65-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">ggplot</span>(plot_data, <span class="fu">aes</span>(<span class="at">x =</span> last_letter, <span class="at">y =</span> last_letter_pct)) <span class="sc">+</span> </span>
<span id="cb65-25"><a href="#cb65-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">"identity"</span>, <span class="at">fill=</span><span class="st">"black"</span>) <span class="sc">+</span> </span>
<span id="cb65-26"><a href="#cb65-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb65-27"><a href="#cb65-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">3</span>, <span class="dv">3</span>, <span class="fl">2.5</span>, <span class="dv">1</span>, <span class="st">"lines"</span>),</span>
<span id="cb65-28"><a href="#cb65-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">fill=</span><span class="cn">NA</span>, <span class="at">size=</span><span class="dv">1</span>),</span>
<span id="cb65-29"><a href="#cb65-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">color =</span> <span class="st">"white"</span>, <span class="at">fill=</span><span class="cn">NA</span>),</span>
<span id="cb65-30"><a href="#cb65-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">14</span>,<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb65-31"><a href="#cb65-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>)</span>
<span id="cb65-32"><a href="#cb65-32" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb65-33"><a href="#cb65-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="st">"Last Letter of Name"</span>, <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb65-34"><a href="#cb65-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">"Percentage of Total"</span>, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, limits_max), <span class="at">breaks =</span> breaks_val, <span class="at">labels =</span> labels_val, <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb65-35"><a href="#cb65-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(title_str)</span>
<span id="cb65-36"><a href="#cb65-36" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb65-37"><a href="#cb65-37" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb65-38"><a href="#cb65-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-39"><a href="#cb65-39" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (year <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">1906</span>, <span class="dv">1956</span>, <span class="dv">2006</span>)) {</span>
<span id="cb65-40"><a href="#cb65-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_last_letter_distribution</span>(year, <span class="at">sex =</span> <span class="st">'M'</span>)</span>
<span id="cb65-41"><a href="#cb65-41" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-38-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-38-3.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The following code chunks recreate Figure 2.8 using their code provided on the supplemental website:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># define full range of years in the dataset</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>yrs <span class="ot">&lt;-</span> <span class="dv">1880</span><span class="sc">:</span><span class="dv">2010</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a><span class="co"># total number of years</span></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>n.yrs <span class="ot">&lt;-</span> <span class="fu">length</span>(yrs)</span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a><span class="co"># create empyt 3D arrays to hold last and first letter frequencies</span></span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a>lastletterfreqs <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="cn">NA</span>, <span class="fu">c</span>(n.yrs,<span class="dv">26</span>,<span class="dv">2</span>))</span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a>firstletterfreqs <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="cn">NA</span>, <span class="fu">c</span>(n.yrs,<span class="dv">26</span>,<span class="dv">2</span>))</span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-11"><a href="#cb66-11" aria-hidden="true" tabindex="-1"></a><span class="co"># define the names of each dimension of the letter frequency 3D arrays</span></span>
<span id="cb66-12"><a href="#cb66-12" aria-hidden="true" tabindex="-1"></a><span class="co"># as the list of years, letters and the list c("girls", "boys")</span></span>
<span id="cb66-13"><a href="#cb66-13" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(lastletterfreqs) <span class="ot">&lt;-</span> <span class="fu">list</span>(yrs, letters, <span class="fu">c</span>(<span class="st">"girls"</span>,<span class="st">"boys"</span>))</span>
<span id="cb66-14"><a href="#cb66-14" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(firstletterfreqs) <span class="ot">&lt;-</span> <span class="fu">list</span>(yrs, letters, <span class="fu">c</span>(<span class="st">"girls"</span>,<span class="st">"boys"</span>))</span>
<span id="cb66-15"><a href="#cb66-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-16"><a href="#cb66-16" aria-hidden="true" tabindex="-1"></a><span class="co"># construct the arrays lastletterfreqs and fistletterfreqs</span></span>
<span id="cb66-17"><a href="#cb66-17" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n.yrs){</span>
<span id="cb66-18"><a href="#cb66-18" aria-hidden="true" tabindex="-1"></a>  thisyear <span class="ot">&lt;-</span> allnames[,<span class="fu">paste</span>(<span class="st">"X"</span>,yrs[i],<span class="at">sep=</span><span class="st">""</span>)]</span>
<span id="cb66-19"><a href="#cb66-19" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">26</span>){</span>
<span id="cb66-20"><a href="#cb66-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># sum of last letters for girls</span></span>
<span id="cb66-21"><a href="#cb66-21" aria-hidden="true" tabindex="-1"></a>    lastletterfreqs[i,j,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="fu">sum</span>(thisyear[lastletter<span class="sc">==</span>letters[j] <span class="sc">&amp;</span> girl])</span>
<span id="cb66-22"><a href="#cb66-22" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb66-23"><a href="#cb66-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># sum of last letters for boys</span></span>
<span id="cb66-24"><a href="#cb66-24" aria-hidden="true" tabindex="-1"></a>    lastletterfreqs[i,j,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">sum</span>(thisyear[lastletter<span class="sc">==</span>letters[j] <span class="sc">&amp;</span> <span class="sc">!</span>girl])</span>
<span id="cb66-25"><a href="#cb66-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb66-26"><a href="#cb66-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># sum o first letters for girls</span></span>
<span id="cb66-27"><a href="#cb66-27" aria-hidden="true" tabindex="-1"></a>    firstletterfreqs[i,j,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="fu">sum</span>(thisyear[firstletter<span class="sc">==</span>LETTERS[j] <span class="sc">&amp;</span> girl])</span>
<span id="cb66-28"><a href="#cb66-28" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb66-29"><a href="#cb66-29" aria-hidden="true" tabindex="-1"></a>    <span class="co"># sum of laster letters for boys</span></span>
<span id="cb66-30"><a href="#cb66-30" aria-hidden="true" tabindex="-1"></a>    firstletterfreqs[i,j,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">sum</span>(thisyear[firstletter<span class="sc">==</span>LETTERS[j] <span class="sc">&amp;</span> <span class="sc">!</span>girl])</span>
<span id="cb66-31"><a href="#cb66-31" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb66-32"><a href="#cb66-32" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (k <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>){</span>
<span id="cb66-33"><a href="#cb66-33" aria-hidden="true" tabindex="-1"></a>    <span class="co"># percentage of each last letter (of all last letters that year)</span></span>
<span id="cb66-34"><a href="#cb66-34" aria-hidden="true" tabindex="-1"></a>    lastletterfreqs[i,,k] <span class="ot">&lt;-</span> lastletterfreqs[i,,k]<span class="sc">/</span><span class="fu">sum</span>(lastletterfreqs[i,,k])</span>
<span id="cb66-35"><a href="#cb66-35" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb66-36"><a href="#cb66-36" aria-hidden="true" tabindex="-1"></a>    <span class="co"># percentage of each first letter (of all first letters that year)</span></span>
<span id="cb66-37"><a href="#cb66-37" aria-hidden="true" tabindex="-1"></a>    firstletterfreqs[i,,k] <span class="ot">&lt;-</span> firstletterfreqs[i,,k]<span class="sc">/</span><span class="fu">sum</span>(firstletterfreqs[i,,k])</span>
<span id="cb66-38"><a href="#cb66-38" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb66-39"><a href="#cb66-39" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot of percentage of last letters over time</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="co"># plot settings</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>), <span class="at">mgp=</span><span class="fu">c</span>(<span class="fl">1.7</span>,.<span class="dv">3</span>,<span class="dv">0</span>), <span class="at">tck=</span><span class="sc">-</span>.<span class="dv">01</span>)</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a><span class="co"># index of letters N, Y and D</span></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>popular <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">14</span>,<span class="dv">25</span>,<span class="dv">4</span>)</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a><span class="co"># width and line type for all letters except N, Y and D</span></span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>width <span class="ot">&lt;-</span> <span class="fu">rep</span>(.<span class="dv">5</span>,<span class="dv">26</span>)</span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a>type <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span>,<span class="dv">26</span>)</span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a><span class="co"># width and line type for N, Y and D</span></span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a>width[popular] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>)</span>
<span id="cb67-15"><a href="#cb67-15" aria-hidden="true" tabindex="-1"></a>type[popular] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>)</span>
<span id="cb67-16"><a href="#cb67-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-17"><a href="#cb67-17" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">range</span>(yrs), <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">41</span>), <span class="at">type=</span><span class="st">"n"</span>, <span class="at">xlab=</span><span class="st">""</span>, <span class="at">ylab=</span><span class="st">"Percentage of all boys' names that year"</span>, <span class="at">bty=</span><span class="st">"l"</span>, <span class="at">xaxt=</span><span class="st">"n"</span>, <span class="at">yaxt=</span><span class="st">"n"</span>, <span class="at">yaxs=</span><span class="st">"i"</span>, <span class="at">xaxs=</span><span class="st">"i"</span>)</span>
<span id="cb67-18"><a href="#cb67-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">axis</span>(<span class="dv">1</span>, <span class="fu">seq</span>(<span class="dv">1900</span>,<span class="dv">2000</span>,<span class="dv">50</span>))</span>
<span id="cb67-19"><a href="#cb67-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">axis</span>(<span class="dv">2</span>, <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">40</span>,<span class="dv">20</span>), <span class="fu">paste</span>(<span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">40</span>,<span class="dv">20</span>), <span class="st">"%"</span>, <span class="at">sep=</span><span class="st">""</span>))</span>
<span id="cb67-20"><a href="#cb67-20" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">26</span>){</span>
<span id="cb67-21"><a href="#cb67-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># I don't think the following two variables, `maxfreq` and `best` are used in plotting</span></span>
<span id="cb67-22"><a href="#cb67-22" aria-hidden="true" tabindex="-1"></a>    maxfreq <span class="ot">&lt;-</span> <span class="fu">max</span>(lastletterfreqs[,j,<span class="dv">2</span>])</span>
<span id="cb67-23"><a href="#cb67-23" aria-hidden="true" tabindex="-1"></a>    best <span class="ot">&lt;-</span> (<span class="dv">1</span><span class="sc">:</span>n.yrs)[lastletterfreqs[,j,<span class="dv">2</span>]<span class="sc">==</span>maxfreq]</span>
<span id="cb67-24"><a href="#cb67-24" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb67-25"><a href="#cb67-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># plotting line for each letter for all years for boys</span></span>
<span id="cb67-26"><a href="#cb67-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lines</span>(yrs, <span class="dv">100</span><span class="sc">*</span>lastletterfreqs[,j,<span class="dv">2</span>], <span class="at">col=</span><span class="st">"black"</span>, <span class="at">lwd=</span>width[j], <span class="at">lty=</span>type[j])</span>
<span id="cb67-27"><a href="#cb67-27" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb67-28"><a href="#cb67-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb67-29"><a href="#cb67-29" aria-hidden="true" tabindex="-1"></a><span class="co"># plot annotations</span></span>
<span id="cb67-30"><a href="#cb67-30" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="dv">2000</span>, <span class="dv">35</span>, <span class="st">"N"</span>)</span>
<span id="cb67-31"><a href="#cb67-31" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="dv">1935</span>, <span class="dv">20</span>, <span class="st">"D"</span>)</span>
<span id="cb67-32"><a href="#cb67-32" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="dv">1975</span>, <span class="dv">15</span>, <span class="st">"Y"</span>)</span>
<span id="cb67-33"><a href="#cb67-33" aria-hidden="true" tabindex="-1"></a><span class="fu">mtext</span>(<span class="st">"Last letters of boys' names"</span>, <span class="at">side=</span><span class="dv">3</span>, <span class="at">line=</span>.<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Next, I’ll recreate the plot of Figure 2.8 using tidyverse and ggplot for practice:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co"># define new linewidth vector</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="co"># index of letters N, Y and D</span></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>popular <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">14</span>,<span class="dv">25</span>,<span class="dv">4</span>)</span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a><span class="co"># width and line type for all letters except N, Y and D</span></span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>width <span class="ot">&lt;-</span> <span class="fu">rep</span>(.<span class="dv">25</span>,<span class="dv">26</span>)</span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a><span class="co"># width and line type for N, Y and D</span></span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a>width[popular] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>)</span>
<span id="cb68-11"><a href="#cb68-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-12"><a href="#cb68-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(allnames_agg <span class="sc">%&gt;%</span> <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">"M"</span>), <span class="fu">aes</span>(<span class="at">x=</span>year, <span class="at">y=</span>last_letter_pct, <span class="at">linetype=</span><span class="fu">factor</span>(last_letter), <span class="at">linewidth =</span> <span class="fu">factor</span>(last_letter))) <span class="sc">+</span> </span>
<span id="cb68-13"><a href="#cb68-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> last_letter)) <span class="sc">+</span></span>
<span id="cb68-14"><a href="#cb68-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_linetype_manual</span>(<span class="at">values =</span> type, <span class="at">guide =</span> <span class="st">"none"</span>) <span class="sc">+</span> </span>
<span id="cb68-15"><a href="#cb68-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_linewidth_manual</span>(<span class="at">values =</span> width, <span class="at">guide =</span> <span class="st">"none"</span>) <span class="sc">+</span> </span>
<span id="cb68-16"><a href="#cb68-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="st">"Year"</span>, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1900</span>, <span class="dv">1950</span>, <span class="dv">2000</span>), <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb68-17"><a href="#cb68-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">"Percentage of all boys' names that year"</span>, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.4</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"0%"</span>, <span class="st">"10%"</span>, <span class="st">"20%"</span>, <span class="st">"30%"</span>, <span class="st">"40%"</span>), <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb68-18"><a href="#cb68-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Last letters of boys' names"</span>) <span class="sc">+</span> </span>
<span id="cb68-19"><a href="#cb68-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb68-20"><a href="#cb68-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">fill=</span><span class="cn">NA</span>, <span class="at">size=</span><span class="dv">1</span>),</span>
<span id="cb68-21"><a href="#cb68-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">color =</span> <span class="st">"white"</span>, <span class="at">fill=</span><span class="cn">NA</span>),</span>
<span id="cb68-22"><a href="#cb68-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">14</span>,<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb68-23"><a href="#cb68-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>)</span>
<span id="cb68-24"><a href="#cb68-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb68-25"><a href="#cb68-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="st">"2000"</span>, <span class="at">y =</span> <span class="fl">0.35</span>, <span class="at">label =</span> <span class="st">"N"</span>) <span class="sc">+</span> </span>
<span id="cb68-26"><a href="#cb68-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="st">"1935"</span>, <span class="at">y =</span> <span class="fl">0.20</span>, <span class="at">label =</span> <span class="st">"D"</span>) <span class="sc">+</span> </span>
<span id="cb68-27"><a href="#cb68-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="st">"1975"</span>, <span class="at">y =</span> <span class="fl">0.15</span>, <span class="at">label =</span> <span class="st">"Y"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-41-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The following code chunks recreate Figure 2.9 using their code provided on the supplemental website:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create empty 3D array to hold yearly percentage of top ten names</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>topten_percentage <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="cn">NA</span>, <span class="fu">c</span>(<span class="fu">length</span>(yrs), <span class="dv">2</span>))</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(yrs)){</span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># get data for the given year</span></span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>  thisyear <span class="ot">&lt;-</span> allnames[,<span class="fu">paste</span>(<span class="st">"X"</span>,yrs[i],<span class="at">sep=</span><span class="st">""</span>)]</span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># get boys' data for this year</span></span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a>  boy.totals <span class="ot">&lt;-</span> thisyear[<span class="sc">!</span>girl]</span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb69-11"><a href="#cb69-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculate percentages of boys' names</span></span>
<span id="cb69-12"><a href="#cb69-12" aria-hidden="true" tabindex="-1"></a>  boy.proportions <span class="ot">&lt;-</span> boy.totals<span class="sc">/</span><span class="fu">sum</span>(boy.totals)</span>
<span id="cb69-13"><a href="#cb69-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb69-14"><a href="#cb69-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># get total percentage of the top ten names</span></span>
<span id="cb69-15"><a href="#cb69-15" aria-hidden="true" tabindex="-1"></a>  index <span class="ot">&lt;-</span> <span class="fu">rev</span>(<span class="fu">order</span>(boy.proportions))</span>
<span id="cb69-16"><a href="#cb69-16" aria-hidden="true" tabindex="-1"></a>  popularity <span class="ot">&lt;-</span> boy.proportions[index]</span>
<span id="cb69-17"><a href="#cb69-17" aria-hidden="true" tabindex="-1"></a>  topten_percentage[i,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="dv">100</span><span class="sc">*</span><span class="fu">sum</span>(popularity[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>])</span>
<span id="cb69-18"><a href="#cb69-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb69-19"><a href="#cb69-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># do the same for girls' top ten names</span></span>
<span id="cb69-20"><a href="#cb69-20" aria-hidden="true" tabindex="-1"></a>  girl.totals <span class="ot">&lt;-</span> thisyear[girl]</span>
<span id="cb69-21"><a href="#cb69-21" aria-hidden="true" tabindex="-1"></a>  girl.proportions <span class="ot">&lt;-</span> girl.totals<span class="sc">/</span><span class="fu">sum</span>(girl.totals)</span>
<span id="cb69-22"><a href="#cb69-22" aria-hidden="true" tabindex="-1"></a>  index <span class="ot">&lt;-</span> <span class="fu">rev</span>(<span class="fu">order</span>(girl.proportions))</span>
<span id="cb69-23"><a href="#cb69-23" aria-hidden="true" tabindex="-1"></a>  popularity <span class="ot">&lt;-</span> girl.proportions[index]</span>
<span id="cb69-24"><a href="#cb69-24" aria-hidden="true" tabindex="-1"></a>  topten_percentage[i,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">100</span><span class="sc">*</span><span class="fu">sum</span>(popularity[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>])</span>
<span id="cb69-25"><a href="#cb69-25" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot settings</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">0</span>), <span class="at">mgp=</span><span class="fu">c</span>(<span class="fl">1.3</span>,.<span class="dv">2</span>,<span class="dv">0</span>), <span class="at">tck=</span><span class="sc">-</span>.<span class="dv">02</span>)</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a><span class="co"># plot girls and boys top ten name percentages over time</span></span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(yrs, topten_percentage[,<span class="dv">2</span>], <span class="at">type=</span><span class="st">"l"</span>, <span class="at">xaxt=</span><span class="st">"n"</span>, <span class="at">yaxt=</span><span class="st">"n"</span>, <span class="at">xaxs=</span><span class="st">"i"</span>, <span class="at">yaxs=</span><span class="st">"i"</span>, <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">45</span>), <span class="at">bty=</span><span class="st">"l"</span>, <span class="at">xlab=</span><span class="st">"Year"</span>, <span class="at">ylab=</span><span class="st">""</span>, <span class="at">cex.lab=</span>.<span class="dv">8</span>)</span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(yrs, topten_percentage[,<span class="dv">1</span>])</span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">1</span>, <span class="fu">c</span>(<span class="dv">1900</span>,<span class="dv">1950</span>,<span class="dv">2000</span>), <span class="at">cex.axis=</span>.<span class="dv">8</span>)</span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">2</span>, <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">20</span>,<span class="dv">40</span>), <span class="fu">c</span>(<span class="st">"0%"</span>,<span class="st">"20%"</span>,<span class="st">"40%"</span>), <span class="at">cex.axis=</span>.<span class="dv">8</span>)</span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="dv">1902</span>, <span class="dv">35</span>, <span class="st">"Boys"</span>, <span class="at">cex=</span>.<span class="dv">75</span>, <span class="at">adj=</span><span class="dv">0</span>)</span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="dv">1911</span>, <span class="dv">20</span>, <span class="st">"Girls"</span>, <span class="at">cex=</span>.<span class="dv">75</span>, <span class="at">adj=</span><span class="dv">0</span>)</span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a><span class="fu">mtext</span>(<span class="st">"Total popularity of top ten names each year, by sex"</span>, <span class="at">cex=</span>.<span class="dv">8</span>)</span>
<span id="cb70-12"><a href="#cb70-12" aria-hidden="true" tabindex="-1"></a><span class="fu">mtext</span>(<span class="st">"Source:  Social Security Administration, courtesy of Laura Wattenberg"</span>, <span class="dv">1</span>, <span class="fl">2.5</span>, <span class="at">cex=</span>.<span class="dv">5</span>, <span class="at">adj=</span><span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-43-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Next, I’ll recreate the plot of Figure 2.9 using tidyverse and ggplot for practice:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="fu">head</span>(allnames_long))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-9f2172cb9431395b4451" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-9f2172cb9431395b4451">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6"],[1,1,1,1,1,1],["Mary","Mary","Mary","Mary","Mary","Mary"],["F","F","F","F","F","F"],["1880","1881","1882","1883","1884","1885"],[7065,6919,8149,8012,9217,9128],["y","y","y","y","y","y"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>id<\/th>\n      <th>name<\/th>\n      <th>sex<\/th>\n      <th>year<\/th>\n      <th>name_n<\/th>\n      <th>last_letter<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,5]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>allnames_topten_names <span class="ot">&lt;-</span> allnames_long <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>  year,</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>  sex</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">name_pct =</span> name_n <span class="sc">/</span> <span class="fu">sum</span>(name_n)</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="fu">head</span>(allnames_topten_names <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(year, sex, <span class="fu">desc</span>(name_pct))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-3d45b875bb4f4fae048e" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-3d45b875bb4f4fae048e">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6"],[1,2,3,4,5,6],["Mary","Anna","Emma","Elizabeth","Minnie","Margaret"],["F","F","F","F","F","F"],["1880","1880","1880","1880","1880","1880"],[7065,2604,2003,1939,1746,1578],["y","a","a","h","e","t"],[0.0778195116040843,0.0286825206251996,0.0220626301122407,0.0213576833687643,0.019231828345468,0.0173813431438422]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>id<\/th>\n      <th>name<\/th>\n      <th>sex<\/th>\n      <th>year<\/th>\n      <th>name_n<\/th>\n      <th>last_letter<\/th>\n      <th>name_pct<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,5,7]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>allnames_top_ten_pct <span class="ot">&lt;-</span> allnames_topten_names <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>  year, </span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>  sex, </span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">desc</span>(name_pct)</span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(</span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>  year,</span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>  sex</span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">slice</span>(</span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(</span>
<span id="cb74-11"><a href="#cb74-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">top_ten_pct =</span> <span class="fu">sum</span>(name_pct)</span>
<span id="cb74-12"><a href="#cb74-12" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'year'. You can override using the
`.groups` argument.</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="fu">head</span>(allnames_top_ten_pct))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-65fe2a8dfe16d1d54070" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-65fe2a8dfe16d1d54070">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6"],["1880","1880","1881","1881","1882","1882"],["F","M","F","M","F","M"],[0.247050789209909,0.443079071707764,0.242055361813426,0.43888756266412,0.239923438574322,0.428091670339357]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>year<\/th>\n      <th>sex<\/th>\n      <th>top_ten_pct<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":3},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the lines</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(allnames_top_ten_pct, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> top_ten_pct)) <span class="sc">+</span> </span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> sex)) <span class="sc">+</span></span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="st">"Year"</span>, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1900</span>, <span class="dv">1950</span>, <span class="dv">2000</span>), <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">"Percentage of top ten names that year"</span>, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.4</span>, <span class="fl">0.5</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"0%"</span>, <span class="st">"10%"</span>, <span class="st">"20%"</span>, <span class="st">"30%"</span>, <span class="st">"40%"</span>, <span class="st">"50%"</span>), <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Total popularity of top ten names each year, by sex"</span>) <span class="sc">+</span> </span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb77-9"><a href="#cb77-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">fill=</span><span class="cn">NA</span>, <span class="at">size=</span><span class="dv">1</span>),</span>
<span id="cb77-10"><a href="#cb77-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">color =</span> <span class="st">"white"</span>, <span class="at">fill=</span><span class="cn">NA</span>),</span>
<span id="cb77-11"><a href="#cb77-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">14</span>,<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb77-12"><a href="#cb77-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>)</span>
<span id="cb77-13"><a href="#cb77-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb77-14"><a href="#cb77-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="st">"1902"</span>, <span class="at">y =</span> <span class="fl">0.36</span>, <span class="at">label =</span> <span class="st">"Boys"</span>) <span class="sc">+</span> </span>
<span id="cb77-15"><a href="#cb77-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="st">"1911"</span>, <span class="at">y =</span> <span class="fl">0.19</span>, <span class="at">label =</span> <span class="st">"Girls"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-49-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="grids-of-plots" class="level4">
<h4 class="anchored" data-anchor-id="grids-of-plots">Grids of plots</h4>
<p>Realistically, it can be difficult to read a plot with more than two colors.</p>
<p>Constructing a two-way grid of plots to represent two more variables, an approach of <em>small multiples</em> can be more effective than trying to cram five variables onto a single plot.</p>
<p>In the following code chunks, I’ll recreate Figure 2.10 following <a href="https://avehtari.github.io/ROS-Examples/Congress/congress_plots.html">their code provided on the supplemental website.</a></p>
<div class="cell">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># view the data</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>congress[[<span class="dv">27</span>]][<span class="dv">1</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]   1948      1      1     -1 127802 103294</code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>congress[[<span class="dv">28</span>]][<span class="dv">1</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]   1950      1      1      1 134258  96251</code></pre>
</div>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>congress[[<span class="dv">37</span>]][<span class="dv">10</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]   1968      3      1     -1      0 140419</code></pre>
</div>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>congress[[<span class="dv">38</span>]][<span class="dv">10</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]   1970      3      1     -1      0 117045</code></pre>
</div>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>congress[[<span class="dv">47</span>]][<span class="dv">20</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]   1988      4      1     -1  86623 131824</code></pre>
</div>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>congress[[<span class="dv">48</span>]][<span class="dv">50</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1990    13    11     1 36286     0</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot settings</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">5</span>), <span class="at">mar=</span><span class="fu">c</span>(<span class="fl">0.1</span>,<span class="dv">3</span>,<span class="dv">0</span>,<span class="dv">0</span>), <span class="at">mgp=</span><span class="fu">c</span>(<span class="fl">1.7</span>, .<span class="dv">3</span>, <span class="dv">0</span>), <span class="at">tck=</span><span class="sc">-</span>.<span class="dv">02</span>, <span class="at">oma=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">0</span>))</span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a><span class="co"># plot data for each of the selected year pairs: 1948/50, 1968/70, 1988/90</span></span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">27</span>, <span class="dv">37</span>, <span class="dv">47</span>)) {</span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculate year based on index</span></span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a>  year <span class="ot">&lt;-</span> <span class="dv">1896</span> <span class="sc">+</span> <span class="dv">2</span><span class="sc">*</span>(i<span class="dv">-1</span>)</span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># get the data for the first election year</span></span>
<span id="cb90-10"><a href="#cb90-10" aria-hidden="true" tabindex="-1"></a>  cong1 <span class="ot">&lt;-</span> congress[[i]]</span>
<span id="cb90-11"><a href="#cb90-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb90-12"><a href="#cb90-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># get data for the next election year</span></span>
<span id="cb90-13"><a href="#cb90-13" aria-hidden="true" tabindex="-1"></a>  cong2 <span class="ot">&lt;-</span> congress[[i<span class="sc">+</span><span class="dv">1</span>]]</span>
<span id="cb90-14"><a href="#cb90-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb90-15"><a href="#cb90-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># the second column contains the state code</span></span>
<span id="cb90-16"><a href="#cb90-16" aria-hidden="true" tabindex="-1"></a>  state_code <span class="ot">&lt;-</span> cong1[,<span class="dv">2</span>]</span>
<span id="cb90-17"><a href="#cb90-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb90-18"><a href="#cb90-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># convert from state code to region index</span></span>
<span id="cb90-19"><a href="#cb90-19" aria-hidden="true" tabindex="-1"></a>  region <span class="ot">&lt;-</span> <span class="fu">floor</span>(state_code<span class="sc">/</span><span class="dv">20</span>) <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb90-20"><a href="#cb90-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb90-21"><a href="#cb90-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># the fourth column contains whether the election has an incumbent</span></span>
<span id="cb90-22"><a href="#cb90-22" aria-hidden="true" tabindex="-1"></a>  inc <span class="ot">&lt;-</span> cong1[,<span class="dv">4</span>]</span>
<span id="cb90-23"><a href="#cb90-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb90-24"><a href="#cb90-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># the fifth and sixth columns contain democrat and republican vote counts</span></span>
<span id="cb90-25"><a href="#cb90-25" aria-hidden="true" tabindex="-1"></a>  dvote1 <span class="ot">&lt;-</span> cong1[,<span class="dv">5</span>]<span class="sc">/</span>(cong1[,<span class="dv">5</span>] <span class="sc">+</span> cong1[,<span class="dv">6</span>])</span>
<span id="cb90-26"><a href="#cb90-26" aria-hidden="true" tabindex="-1"></a>  dvote2 <span class="ot">&lt;-</span> cong2[,<span class="dv">5</span>]<span class="sc">/</span>(cong2[,<span class="dv">5</span>] <span class="sc">+</span> cong2[,<span class="dv">6</span>])</span>
<span id="cb90-27"><a href="#cb90-27" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb90-28"><a href="#cb90-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># their definition of an election being "contested" if the </span></span>
<span id="cb90-29"><a href="#cb90-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># proportion of dem votes is between 20 and 80 percent each election year</span></span>
<span id="cb90-30"><a href="#cb90-30" aria-hidden="true" tabindex="-1"></a>  contested <span class="ot">&lt;-</span> (<span class="fu">abs</span>(dvote1 <span class="sc">-</span> <span class="fl">0.5</span>)) <span class="sc">&lt;</span> <span class="fl">0.3</span> <span class="sc">&amp;</span> (<span class="fu">abs</span>(dvote2 <span class="sc">-</span> <span class="fl">0.5</span>) <span class="sc">&lt;</span> <span class="fl">0.3</span>)</span>
<span id="cb90-31"><a href="#cb90-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb90-32"><a href="#cb90-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># plot function</span></span>
<span id="cb90-33"><a href="#cb90-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="at">type=</span><span class="st">"n"</span>, <span class="at">xlab=</span><span class="st">""</span>, <span class="at">ylab=</span><span class="st">""</span>, <span class="at">xaxt=</span><span class="st">"n"</span>, <span class="at">yaxt=</span><span class="st">"n"</span>, <span class="at">bty=</span><span class="st">"n"</span>)</span>
<span id="cb90-34"><a href="#cb90-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">text</span>(<span class="fl">0.8</span>, <span class="fl">0.5</span>, <span class="fu">paste</span>(year,<span class="st">"</span><span class="sc">\n</span><span class="st">to</span><span class="sc">\n</span><span class="st">"</span>, year<span class="sc">+</span><span class="dv">2</span>, <span class="at">sep=</span><span class="st">""</span>), <span class="at">cex=</span><span class="fl">1.1</span>)</span>
<span id="cb90-35"><a href="#cb90-35" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb90-36"><a href="#cb90-36" aria-hidden="true" tabindex="-1"></a>  <span class="co"># four columns, one for each region</span></span>
<span id="cb90-37"><a href="#cb90-37" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>){</span>
<span id="cb90-38"><a href="#cb90-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot</span>(<span class="fu">c</span>(.<span class="dv">2</span>, .<span class="dv">8</span>), <span class="fu">c</span>(<span class="sc">-</span>.<span class="dv">4</span>, .<span class="dv">3</span>), <span class="at">type=</span><span class="st">"n"</span>, <span class="at">xlab=</span> <span class="st">""</span> , <span class="at">ylab=</span><span class="cf">if</span> (j<span class="sc">==</span><span class="dv">1</span>) <span class="st">"Vote swing"</span> <span class="cf">else</span> <span class="st">""</span>, <span class="at">xaxt=</span><span class="st">"n"</span>, <span class="at">yaxt=</span><span class="st">"n"</span>, <span class="at">bty=</span><span class="st">"n"</span>, <span class="at">cex.lab=</span>.<span class="dv">9</span>)</span>
<span id="cb90-39"><a href="#cb90-39" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (i<span class="sc">==</span><span class="dv">47</span>) {</span>
<span id="cb90-40"><a href="#cb90-40" aria-hidden="true" tabindex="-1"></a>      <span class="co"># x-axis labels for the final pair of elections 1988/90</span></span>
<span id="cb90-41"><a href="#cb90-41" aria-hidden="true" tabindex="-1"></a>      <span class="fu">text</span>(<span class="fu">c</span>(.<span class="dv">25</span>, .<span class="dv">5</span>, .<span class="dv">75</span>), <span class="fu">rep</span>(<span class="sc">-</span>.<span class="dv">4</span>, <span class="dv">3</span>), <span class="fu">c</span>(<span class="st">"25%"</span>, <span class="st">"50%"</span>, <span class="st">"75%"</span>), <span class="at">cex=</span>.<span class="dv">8</span>)</span>
<span id="cb90-42"><a href="#cb90-42" aria-hidden="true" tabindex="-1"></a>      <span class="fu">abline</span>(<span class="sc">-</span>.<span class="dv">35</span>, <span class="dv">0</span>, <span class="at">lwd=</span>.<span class="dv">5</span>, <span class="at">col=</span><span class="st">"gray60"</span>)</span>
<span id="cb90-43"><a href="#cb90-43" aria-hidden="true" tabindex="-1"></a>      <span class="fu">segments</span>(<span class="fu">c</span>(.<span class="dv">25</span>, .<span class="dv">5</span>, .<span class="dv">75</span>), <span class="fu">rep</span>(<span class="sc">-</span>.<span class="dv">35</span>, <span class="dv">35</span>), <span class="fu">c</span>(.<span class="dv">25</span>, .<span class="dv">5</span>, .<span class="dv">75</span>), <span class="fu">rep</span>(<span class="sc">-</span>.<span class="dv">37</span>, <span class="dv">3</span>), <span class="at">lwd=</span>.<span class="dv">5</span>)</span>
<span id="cb90-44"><a href="#cb90-44" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mtext</span>(<span class="st">"Dem. vote in election 1"</span>, <span class="at">side=</span><span class="dv">1</span>, <span class="at">line=</span>.<span class="dv">2</span>, <span class="at">cex=</span>.<span class="dv">5</span>)</span>
<span id="cb90-45"><a href="#cb90-45" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb90-46"><a href="#cb90-46" aria-hidden="true" tabindex="-1"></a>    <span class="co"># y-axis for each plot</span></span>
<span id="cb90-47"><a href="#cb90-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">axis</span>(<span class="dv">2</span>, <span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.25</span>, <span class="dv">0</span>, <span class="fl">0.25</span>), <span class="fu">c</span>(<span class="st">"-25%"</span>, <span class="st">"0"</span>, <span class="st">"25%"</span>),  <span class="at">cex.axis=</span>.<span class="dv">8</span>)</span>
<span id="cb90-48"><a href="#cb90-48" aria-hidden="true" tabindex="-1"></a>    <span class="fu">abline</span>(<span class="dv">0</span>, <span class="dv">0</span>)</span>
<span id="cb90-49"><a href="#cb90-49" aria-hidden="true" tabindex="-1"></a>    <span class="co"># region name above the first pair of elections 1948/50</span></span>
<span id="cb90-50"><a href="#cb90-50" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (i<span class="sc">==</span><span class="dv">27</span>) <span class="fu">mtext</span>(region_name[j], <span class="at">side=</span><span class="dv">3</span>, <span class="at">line=</span><span class="dv">1</span>, <span class="at">cex=</span>.<span class="dv">75</span>)</span>
<span id="cb90-51"><a href="#cb90-51" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb90-52"><a href="#cb90-52" aria-hidden="true" tabindex="-1"></a>    <span class="co"># plotting contested elections for the region with incumbent</span></span>
<span id="cb90-53"><a href="#cb90-53" aria-hidden="true" tabindex="-1"></a>    ok <span class="ot">&lt;-</span> contested <span class="sc">&amp;</span> <span class="fu">abs</span>(inc)<span class="sc">==</span><span class="dv">1</span> <span class="sc">&amp;</span> region<span class="sc">==</span>j</span>
<span id="cb90-54"><a href="#cb90-54" aria-hidden="true" tabindex="-1"></a>    <span class="fu">points</span>(dvote1[ok], dvote2[ok] <span class="sc">-</span> dvote1[ok], <span class="at">pch=</span><span class="dv">20</span>, <span class="at">cex=</span>.<span class="dv">3</span>, <span class="at">col=</span><span class="st">"gray60"</span>)</span>
<span id="cb90-55"><a href="#cb90-55" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb90-56"><a href="#cb90-56" aria-hidden="true" tabindex="-1"></a>    <span class="co"># plotting contested elections for the region with open seats</span></span>
<span id="cb90-57"><a href="#cb90-57" aria-hidden="true" tabindex="-1"></a>    ok <span class="ot">&lt;-</span> contested <span class="sc">&amp;</span> <span class="fu">abs</span>(inc)<span class="sc">==</span><span class="dv">0</span> <span class="sc">&amp;</span> region<span class="sc">==</span>j</span>
<span id="cb90-58"><a href="#cb90-58" aria-hidden="true" tabindex="-1"></a>    <span class="fu">points</span>(dvote1[ok], dvote2[ok] <span class="sc">-</span> dvote1[ok], <span class="at">pch=</span><span class="dv">20</span>, <span class="at">cex=</span>.<span class="dv">5</span>, <span class="at">col=</span><span class="st">"black"</span>)</span>
<span id="cb90-59"><a href="#cb90-59" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb90-60"><a href="#cb90-60" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-52-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Next, I’ll recreate similar plots with tidyverse and ggplot.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get list of all .asc file paths</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>congress_data_folder <span class="ot">&lt;-</span> <span class="fu">file.path</span>(data_root_path, <span class="st">"Congress/data"</span>)</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>congress_data_files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(congress_data_folder, <span class="at">full.names=</span><span class="cn">TRUE</span>, <span class="at">pattern =</span> <span class="st">"*.asc"</span>)</span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a><span class="co"># helper function which loads data into a CSV and adds a year column</span></span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a>read_congress_data <span class="ot">&lt;-</span> <span class="cf">function</span>(fpath) {</span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a>  year_str <span class="ot">=</span> <span class="fu">str_remove</span>(<span class="fu">basename</span>(fpath), <span class="st">".asc"</span>)</span>
<span id="cb91-8"><a href="#cb91-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb91-9"><a href="#cb91-9" aria-hidden="true" tabindex="-1"></a>  out <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_table</span>(</span>
<span id="cb91-10"><a href="#cb91-10" aria-hidden="true" tabindex="-1"></a>    fpath,</span>
<span id="cb91-11"><a href="#cb91-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">col_names =</span> <span class="fu">c</span>(<span class="st">"state"</span>, <span class="st">"col2"</span>, <span class="st">"incumbent"</span>, <span class="st">"dem"</span>, <span class="st">"rep"</span>),</span>
<span id="cb91-12"><a href="#cb91-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">col_types =</span> <span class="fu">cols</span>(<span class="at">state =</span> <span class="st">"i"</span>, <span class="at">col2 =</span> <span class="st">"c"</span>, <span class="at">incumbent =</span> <span class="st">"i"</span>, <span class="at">dem =</span> <span class="st">"i"</span>, <span class="at">rep =</span> <span class="st">"i"</span>)</span>
<span id="cb91-13"><a href="#cb91-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb91-14"><a href="#cb91-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">year =</span> year_str</span>
<span id="cb91-15"><a href="#cb91-15" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb91-16"><a href="#cb91-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb91-17"><a href="#cb91-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(out)</span>
<span id="cb91-18"><a href="#cb91-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb91-19"><a href="#cb91-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-20"><a href="#cb91-20" aria-hidden="true" tabindex="-1"></a><span class="co"># read all asc files into a single data.frame</span></span>
<span id="cb91-21"><a href="#cb91-21" aria-hidden="true" tabindex="-1"></a><span class="co"># filter for the years in question</span></span>
<span id="cb91-22"><a href="#cb91-22" aria-hidden="true" tabindex="-1"></a>congress_data <span class="ot">&lt;-</span> congress_data_files <span class="sc">%&gt;%</span> <span class="fu">map</span>(</span>
<span id="cb91-23"><a href="#cb91-23" aria-hidden="true" tabindex="-1"></a>  read_congress_data</span>
<span id="cb91-24"><a href="#cb91-24" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">list_rbind</span>(</span>
<span id="cb91-25"><a href="#cb91-25" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(</span>
<span id="cb91-26"><a href="#cb91-26" aria-hidden="true" tabindex="-1"></a>  year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1948</span>, <span class="dv">1950</span>, <span class="dv">1968</span>, <span class="dv">1970</span>, <span class="dv">1988</span>, <span class="dv">1990</span>)</span>
<span id="cb91-27"><a href="#cb91-27" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co"># view the data</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(congress_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-1aff1ead90d0534971d7" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-1aff1ead90d0534971d7">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490","491","492","493","494","495","496","497","498","499","500","501","502","503","504","505","506","507","508","509","510","511","512","513","514","515","516","517","518","519","520","521","522","523","524","525","526","527","528","529","530","531","532","533","534","535","536","537","538","539","540","541","542","543","544","545","546","547","548","549","550","551","552","553","554","555","556","557","558","559","560","561","562","563","564","565","566","567","568","569","570","571","572","573","574","575","576","577","578","579","580","581","582","583","584","585","586","587","588","589","590","591","592","593","594","595","596","597","598","599","600","601","602","603","604","605","606","607","608","609","610","611","612","613","614","615","616","617","618","619","620","621","622","623","624","625","626","627","628","629","630","631","632","633","634","635","636","637","638","639","640","641","642","643","644","645","646","647","648","649","650","651","652","653","654","655","656","657","658","659","660","661","662","663","664","665","666","667","668","669","670","671","672","673","674","675","676","677","678","679","680","681","682","683","684","685","686","687","688","689","690","691","692","693","694","695","696","697","698","699","700","701","702","703","704","705","706","707","708","709","710","711","712","713","714","715","716","717","718","719","720","721","722","723","724","725","726","727","728","729","730","731","732","733","734","735","736","737","738","739","740","741","742","743","744","745","746","747","748","749","750","751","752","753","754","755","756","757","758","759","760","761","762","763","764","765","766","767","768","769","770","771","772","773","774","775","776","777","778","779","780","781","782","783","784","785","786","787","788","789","790","791","792","793","794","795","796","797","798","799","800","801","802","803","804","805","806","807","808","809","810","811","812","813","814","815","816","817","818","819","820","821","822","823","824","825","826","827","828","829","830","831","832","833","834","835","836","837","838","839","840","841","842","843","844","845","846","847","848","849","850","851","852","853","854","855","856","857","858","859","860","861","862","863","864","865","866","867","868","869","870","871","872","873","874","875","876","877","878","879","880","881","882","883","884","885","886","887","888","889","890","891","892","893","894","895","896","897","898","899","900","901","902","903","904","905","906","907","908","909","910","911","912","913","914","915","916","917","918","919","920","921","922","923","924","925","926","927","928","929","930","931","932","933","934","935","936","937","938","939","940","941","942","943","944","945","946","947","948","949","950","951","952","953","954","955","956","957","958","959","960","961","962","963","964","965","966","967","968","969","970","971","972","973","974","975","976","977","978","979","980","981","982","983","984","985","986","987","988","989","990","991","992","993","994","995","996","997","998","999","1000","1001","1002","1003","1004","1005","1006","1007","1008","1009","1010","1011","1012","1013","1014","1015","1016","1017","1018","1019","1020","1021","1022","1023","1024","1025","1026","1027","1028","1029","1030","1031","1032","1033","1034","1035","1036","1037","1038","1039","1040","1041","1042","1043","1044","1045","1046","1047","1048","1049","1050","1051","1052","1053","1054","1055","1056","1057","1058","1059","1060","1061","1062","1063","1064","1065","1066","1067","1068","1069","1070","1071","1072","1073","1074","1075","1076","1077","1078","1079","1080","1081","1082","1083","1084","1085","1086","1087","1088","1089","1090","1091","1092","1093","1094","1095","1096","1097","1098","1099","1100","1101","1102","1103","1104","1105","1106","1107","1108","1109","1110","1111","1112","1113","1114","1115","1116","1117","1118","1119","1120","1121","1122","1123","1124","1125","1126","1127","1128","1129","1130","1131","1132","1133","1134","1135","1136","1137","1138","1139","1140","1141","1142","1143","1144","1145","1146","1147","1148","1149","1150","1151","1152","1153","1154","1155","1156","1157","1158","1159","1160","1161","1162","1163","1164","1165","1166","1167","1168","1169","1170","1171","1172","1173","1174","1175","1176","1177","1178","1179","1180","1181","1182","1183","1184","1185","1186","1187","1188","1189","1190","1191","1192","1193","1194","1195","1196","1197","1198","1199","1200","1201","1202","1203","1204","1205","1206","1207","1208","1209","1210","1211","1212","1213","1214","1215","1216","1217","1218","1219","1220","1221","1222","1223","1224","1225","1226","1227","1228","1229","1230","1231","1232","1233","1234","1235","1236","1237","1238","1239","1240","1241","1242","1243","1244","1245","1246","1247","1248","1249","1250","1251","1252","1253","1254","1255","1256","1257","1258","1259","1260","1261","1262","1263","1264","1265","1266","1267","1268","1269","1270","1271","1272","1273","1274","1275","1276","1277","1278","1279","1280","1281","1282","1283","1284","1285","1286","1287","1288","1289","1290","1291","1292","1293","1294","1295","1296","1297","1298","1299","1300","1301","1302","1303","1304","1305","1306","1307","1308","1309","1310","1311","1312","1313","1314","1315","1316","1317","1318","1319","1320","1321","1322","1323","1324","1325","1326","1327","1328","1329","1330","1331","1332","1333","1334","1335","1336","1337","1338","1339","1340","1341","1342","1343","1344","1345","1346","1347","1348","1349","1350","1351","1352","1353","1354","1355","1356","1357","1358","1359","1360","1361","1362","1363","1364","1365","1366","1367","1368","1369","1370","1371","1372","1373","1374","1375","1376","1377","1378","1379","1380","1381","1382","1383","1384","1385","1386","1387","1388","1389","1390","1391","1392","1393","1394","1395","1396","1397","1398","1399","1400","1401","1402","1403","1404","1405","1406","1407","1408","1409","1410","1411","1412","1413","1414","1415","1416","1417","1418","1419","1420","1421","1422","1423","1424","1425","1426","1427","1428","1429","1430","1431","1432","1433","1434","1435","1436","1437","1438","1439","1440","1441","1442","1443","1444","1445","1446","1447","1448","1449","1450","1451","1452","1453","1454","1455","1456","1457","1458","1459","1460","1461","1462","1463","1464","1465","1466","1467","1468","1469","1470","1471","1472","1473","1474","1475","1476","1477","1478","1479","1480","1481","1482","1483","1484","1485","1486","1487","1488","1489","1490","1491","1492","1493","1494","1495","1496","1497","1498","1499","1500","1501","1502","1503","1504","1505","1506","1507","1508","1509","1510","1511","1512","1513","1514","1515","1516","1517","1518","1519","1520","1521","1522","1523","1524","1525","1526","1527","1528","1529","1530","1531","1532","1533","1534","1535","1536","1537","1538","1539","1540","1541","1542","1543","1544","1545","1546","1547","1548","1549","1550","1551","1552","1553","1554","1555","1556","1557","1558","1559","1560","1561","1562","1563","1564","1565","1566","1567","1568","1569","1570","1571","1572","1573","1574","1575","1576","1577","1578","1579","1580","1581","1582","1583","1584","1585","1586","1587","1588","1589","1590","1591","1592","1593","1594","1595","1596","1597","1598","1599","1600","1601","1602","1603","1604","1605","1606","1607","1608","1609","1610","1611","1612","1613","1614","1615","1616","1617","1618","1619","1620","1621","1622","1623","1624","1625","1626","1627","1628","1629","1630","1631","1632","1633","1634","1635","1636","1637","1638","1639","1640","1641","1642","1643","1644","1645","1646","1647","1648","1649","1650","1651","1652","1653","1654","1655","1656","1657","1658","1659","1660","1661","1662","1663","1664","1665","1666","1667","1668","1669","1670","1671","1672","1673","1674","1675","1676","1677","1678","1679","1680","1681","1682","1683","1684","1685","1686","1687","1688","1689","1690","1691","1692","1693","1694","1695","1696","1697","1698","1699","1700","1701","1702","1703","1704","1705","1706","1707","1708","1709","1710","1711","1712","1713","1714","1715","1716","1717","1718","1719","1720","1721","1722","1723","1724","1725","1726","1727","1728","1729","1730","1731","1732","1733","1734","1735","1736","1737","1738","1739","1740","1741","1742","1743","1744","1745","1746","1747","1748","1749","1750","1751","1752","1753","1754","1755","1756","1757","1758","1759","1760","1761","1762","1763","1764","1765","1766","1767","1768","1769","1770","1771","1772","1773","1774","1775","1776","1777","1778","1779","1780","1781","1782","1783","1784","1785","1786","1787","1788","1789","1790","1791","1792","1793","1794","1795","1796","1797","1798","1799","1800","1801","1802","1803","1804","1805","1806","1807","1808","1809","1810","1811","1812","1813","1814","1815","1816","1817","1818","1819","1820","1821","1822","1823","1824","1825","1826","1827","1828","1829","1830","1831","1832","1833","1834","1835","1836","1837","1838","1839","1840","1841","1842","1843","1844","1845","1846","1847","1848","1849","1850","1851","1852","1853","1854","1855","1856","1857","1858","1859","1860","1861","1862","1863","1864","1865","1866","1867","1868","1869","1870","1871","1872","1873","1874","1875","1876","1877","1878","1879","1880","1881","1882","1883","1884","1885","1886","1887","1888","1889","1890","1891","1892","1893","1894","1895","1896","1897","1898","1899","1900","1901","1902","1903","1904","1905","1906","1907","1908","1909","1910","1911","1912","1913","1914","1915","1916","1917","1918","1919","1920","1921","1922","1923","1924","1925","1926","1927","1928","1929","1930","1931","1932","1933","1934","1935","1936","1937","1938","1939","1940","1941","1942","1943","1944","1945","1946","1947","1948","1949","1950","1951","1952","1953","1954","1955","1956","1957","1958","1959","1960","1961","1962","1963","1964","1965","1966","1967","1968","1969","1970","1971","1972","1973","1974","1975","1976","1977","1978","1979","1980","1981","1982","1983","1984","1985","1986","1987","1988","1989","1990","1991","1992","1993","1994","1995","1996","1997","1998","1999","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2026","2027","2028","2029","2030","2031","2032","2033","2034","2035","2036","2037","2038","2039","2040","2041","2042","2043","2044","2045","2046","2047","2048","2049","2050","2051","2052","2053","2054","2055","2056","2057","2058","2059","2060","2061","2062","2063","2064","2065","2066","2067","2068","2069","2070","2071","2072","2073","2074","2075","2076","2077","2078","2079","2080","2081","2082","2083","2084","2085","2086","2087","2088","2089","2090","2091","2092","2093","2094","2095","2096","2097","2098","2099","2100","2101","2102","2103","2104","2105","2106","2107","2108","2109","2110","2111","2112","2113","2114","2115","2116","2117","2118","2119","2120","2121","2122","2123","2124","2125","2126","2127","2128","2129","2130","2131","2132","2133","2134","2135","2136","2137","2138","2139","2140","2141","2142","2143","2144","2145","2146","2147","2148","2149","2150","2151","2152","2153","2154","2155","2156","2157","2158","2159","2160","2161","2162","2163","2164","2165","2166","2167","2168","2169","2170","2171","2172","2173","2174","2175","2176","2177","2178","2179","2180","2181","2182","2183","2184","2185","2186","2187","2188","2189","2190","2191","2192","2193","2194","2195","2196","2197","2198","2199","2200","2201","2202","2203","2204","2205","2206","2207","2208","2209","2210","2211","2212","2213","2214","2215","2216","2217","2218","2219","2220","2221","2222","2223","2224","2225","2226","2227","2228","2229","2230","2231","2232","2233","2234","2235","2236","2237","2238","2239","2240","2241","2242","2243","2244","2245","2246","2247","2248","2249","2250","2251","2252","2253","2254","2255","2256","2257","2258","2259","2260","2261","2262","2263","2264","2265","2266","2267","2268","2269","2270","2271","2272","2273","2274","2275","2276","2277","2278","2279","2280","2281","2282","2283","2284","2285","2286","2287","2288","2289","2290","2291","2292","2293","2294","2295","2296","2297","2298","2299","2300","2301","2302","2303","2304","2305","2306","2307","2308","2309","2310","2311","2312","2313","2314","2315","2316","2317","2318","2319","2320","2321","2322","2323","2324","2325","2326","2327","2328","2329","2330","2331","2332","2333","2334","2335","2336","2337","2338","2339","2340","2341","2342","2343","2344","2345","2346","2347","2348","2349","2350","2351","2352","2353","2354","2355","2356","2357","2358","2359","2360","2361","2362","2363","2364","2365","2366","2367","2368","2369","2370","2371","2372","2373","2374","2375","2376","2377","2378","2379","2380","2381","2382","2383","2384","2385","2386","2387","2388","2389","2390","2391","2392","2393","2394","2395","2396","2397","2398","2399","2400","2401","2402","2403","2404","2405","2406","2407","2408","2409","2410","2411","2412","2413","2414","2415","2416","2417","2418","2419","2420","2421","2422","2423","2424","2425","2426","2427","2428","2429","2430","2431","2432","2433","2434","2435","2436","2437","2438","2439","2440","2441","2442","2443","2444","2445","2446","2447","2448","2449","2450","2451","2452","2453","2454","2455","2456","2457","2458","2459","2460","2461","2462","2463","2464","2465","2466","2467","2468","2469","2470","2471","2472","2473","2474","2475","2476","2477","2478","2479","2480","2481","2482","2483","2484","2485","2486","2487","2488","2489","2490","2491","2492","2493","2494","2495","2496","2497","2498","2499","2500","2501","2502","2503","2504","2505","2506","2507","2508","2509","2510","2511","2512","2513","2514","2515","2516","2517","2518","2519","2520","2521","2522","2523","2524","2525","2526","2527","2528","2529","2530","2531","2532","2533","2534","2535","2536","2537","2538","2539","2540","2541","2542","2543","2544","2545","2546","2547","2548","2549","2550","2551","2552","2553","2554","2555","2556","2557","2558","2559","2560","2561","2562","2563","2564","2565","2566","2567","2568","2569","2570","2571","2572","2573","2574","2575","2576","2577","2578","2579","2580","2581","2582","2583","2584","2585","2586","2587","2588","2589","2590","2591","2592","2593","2594","2595","2596","2597","2598","2599","2600","2601","2602","2603","2604","2605","2606","2607","2608","2609","2610","2611","2612","2613","2614","2615","2616","2617","2618","2619","2620","2621","2622","2623","2624","2625","2626","2627","2628","2629","2630","2631","2632","2633","2634","2635","2636","2637","2638","2639","2640","2641","2642"],[1,1,1,1,1,1,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,6,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,31,31,31,31,31,31,31,31,32,32,32,32,32,32,33,33,33,33,33,33,33,33,33,34,34,34,34,34,34,34,34,34,34,34,34,34,35,35,35,35,36,36,37,37,40,40,40,40,40,40,40,40,40,41,41,41,41,41,41,41,41,41,42,42,42,42,42,42,42,43,43,43,43,43,43,43,44,44,44,44,44,44,44,44,44,44,45,45,45,45,45,45,45,45,46,46,46,46,46,46,46,47,47,47,47,47,47,47,47,47,47,47,47,48,48,48,48,48,48,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,51,51,51,51,51,51,51,51,51,52,52,52,52,52,52,53,53,53,53,53,53,53,53,54,54,54,54,54,54,54,54,54,54,56,56,56,56,56,56,61,61,61,61,62,62,62,62,63,63,64,64,65,66,66,67,67,68,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,72,72,72,72,73,73,73,73,73,73,1,1,1,1,1,1,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,6,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,31,31,31,31,31,31,31,31,32,32,32,32,32,32,33,33,33,33,33,33,33,33,33,34,34,34,34,34,34,34,34,34,34,34,34,34,35,35,35,35,36,36,37,37,40,40,40,40,40,40,40,40,40,41,41,41,41,41,41,41,41,41,42,42,42,42,42,42,42,43,43,43,43,43,43,43,44,44,44,44,44,44,44,44,44,44,45,45,45,45,45,45,45,45,46,46,46,46,46,46,46,47,47,47,47,47,47,47,47,47,47,47,47,48,48,48,48,48,48,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,51,51,51,51,51,51,51,51,51,52,52,52,52,52,52,53,53,53,53,53,53,53,53,54,54,54,54,54,54,54,54,54,54,56,56,56,56,56,56,61,61,61,61,62,62,62,62,63,63,64,64,65,66,66,67,67,68,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,72,72,72,72,73,73,73,73,73,73,1,1,1,1,1,1,1,2,2,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,6,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,31,31,31,31,31,31,31,32,32,32,32,32,33,33,33,33,33,33,33,33,34,34,34,34,34,34,34,34,34,34,35,35,35,36,36,37,37,40,40,40,40,40,40,40,40,40,40,41,41,41,41,41,41,41,41,42,42,42,42,43,43,43,43,43,43,43,43,43,43,43,43,44,44,44,44,44,44,44,44,44,44,45,45,45,45,45,45,45,45,46,46,46,46,46,47,47,47,47,47,47,47,47,47,47,47,48,48,48,48,48,48,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,51,51,51,51,51,51,51,52,52,52,52,52,52,52,52,52,53,53,53,53,53,53,54,54,54,54,54,54,54,54,54,56,56,56,56,56,61,61,61,62,62,62,62,63,63,64,64,65,66,66,66,66,67,67,68,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,72,72,72,72,73,73,73,73,73,73,73,81,82,82,82,82,1,1,1,1,1,1,1,2,2,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,6,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,31,31,31,31,31,31,31,32,32,32,32,32,33,33,33,33,33,33,33,33,34,34,34,34,34,34,34,34,34,34,35,35,35,36,36,37,37,40,40,40,40,40,40,40,40,40,40,41,41,41,41,41,41,41,41,42,42,42,42,43,43,43,43,43,43,43,43,43,43,43,43,44,44,44,44,44,44,44,44,44,44,45,45,45,45,45,45,45,45,46,46,46,46,46,47,47,47,47,47,47,47,47,47,47,47,48,48,48,48,48,48,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,51,51,51,51,51,51,51,52,52,52,52,52,52,52,52,52,53,53,53,53,53,53,54,54,54,54,54,54,54,54,54,56,56,56,56,56,61,61,61,62,62,62,62,63,63,64,64,65,66,66,66,66,67,67,68,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,72,72,72,72,73,73,73,73,73,73,73,81,82,82,82,82,1,1,1,1,1,1,2,2,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,6,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,31,31,31,31,31,31,32,32,32,32,32,33,33,33,33,33,33,33,33,34,34,34,34,34,34,34,34,34,35,35,35,36,37,40,40,40,40,40,40,40,40,40,40,41,41,41,41,41,41,41,42,42,42,42,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,44,44,44,44,44,44,44,44,44,44,45,45,45,45,45,45,45,45,46,46,46,46,46,47,47,47,47,47,47,47,47,47,47,47,48,48,48,48,48,48,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,51,51,51,51,51,51,51,52,52,52,52,52,52,52,52,53,53,53,53,53,53,54,54,54,54,54,54,54,54,54,56,56,56,56,61,61,61,61,61,62,62,62,62,62,62,63,63,64,64,65,65,66,66,66,67,67,67,68,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,72,72,72,72,72,73,73,73,73,73,73,73,73,81,82,82,1,1,1,1,1,1,2,2,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,6,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,31,31,31,31,31,31,32,32,32,32,32,33,33,33,33,33,33,33,33,34,34,34,34,34,34,34,34,34,35,35,35,36,37,40,40,40,40,40,40,40,40,40,40,41,41,41,41,41,41,41,42,42,42,42,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,44,44,44,44,44,44,44,44,44,44,45,45,45,45,45,45,45,45,46,46,46,46,46,47,47,47,47,47,47,47,47,47,47,47,48,48,48,48,48,48,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,51,51,51,51,51,51,51,52,52,52,52,52,52,52,52,53,53,53,53,53,53,54,54,54,54,54,54,54,54,54,56,56,56,56,61,61,61,61,61,62,62,62,62,62,62,63,63,64,64,65,65,66,66,66,67,67,67,68,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,72,72,72,72,72,73,73,73,73,73,73,73,73,81,82,82],["1","2","3","4","5","98","1","2","3","1","2","3","4","5","6","7","8","9","10","11","12","13","14","1","2","1","2","98","98","1","2","3","4","5","6","7","8","9","10","11","12","13","14","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","97","98","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","98","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","98","1","2","3","4","5","6","7","8","9","10","11","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","98","1","2","3","4","5","6","7","8","9","10","1","2","3","4","5","6","7","8","1","2","3","4","5","6","1","2","3","4","5","6","7","8","9","1","2","3","4","5","6","7","8","9","10","11","12","13","1","2","3","4","97","98","1","2","1","2","3","4","5","6","7","8","9","1","2","3","4","5","6","7","8","9","1","2","3","4","5","6","7","1","2","3","4","5","6","98","1","2","3","4","5","6","7","8","9","10","1","2","3","4","5","6","7","8","1","2","3","4","5","6","7","1","2","3","4","5","6","7","8","9","10","11","12","1","2","3","4","5","6","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","1","2","3","4","5","6","7","8","9","1","2","3","4","5","6","1","2","3","4","5","6","7","8","1","2","3","4","5","6","7","8","9","10","1","2","3","4","5","6","1","2","97","98","1","2","3","4","1","2","1","2","98","97","98","1","2","98","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","1","2","3","4","1","2","3","4","5","6","1","2","3","4","5","98","1","2","3","1","2","3","4","5","6","7","8","9","10","11","12","13","14","1","2","1","2","98","98","1","2","3","4","5","6","7","8","9","10","11","12","13","14","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","97","98","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","98","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","98","1","2","3","4","5","6","7","8","9","10","11","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","98","1","2","3","4","5","6","7","8","9","10","1","2","3","4","5","6","7","8","1","2","3","4","5","6","1","2","3","4","5","6","7","8","9","1","2","3","4","5","6","7","8","9","10","11","12","13","1","2","3","4","97","98","1","2","1","2","3","4","5","6","7","8","9","1","2","3","4","5","6","7","8","9","1","2","3","4","5","6","7","1","2","3","4","5","6","98","1","2","3","4","5","6","7","8","9","10","1","2","3","4","5","6","7","8","1","2","3","4","5","6","7","1","2","3","4","5","6","7","8","9","10","11","12","1","2","3","4","5","6","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","1","2","3","4","5","6","7","8","9","1","2","3","4","5","6","1","2","3","4","5","6","7","8","1","2","3","4","5","6","7","8","9","10","1","2","3","4","5","6","1","2","97","98","1","2","3","4","1","2","1","2","98","97","98","1","2","98","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","1","2","3","4","1","2","3","4","5","6","1","2","3","4","5","6","98","1","2","1","2","3","4","5","6","7","8","9","10","11","12","1","2","1","2","98","98","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","1","2","3","4","5","6","7","8","9","10","11","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","98","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","98","1","2","3","4","5","6","7","8","9","10","1","2","3","4","5","6","7","1","2","3","4","5","1","2","3","4","5","6","7","8","1","2","3","4","5","6","7","8","9","10","1","2","3","1","2","1","2","1","2","3","4","5","6","7","8","9","10","1","2","3","4","5","6","7","8","1","2","3","4","1","2","3","4","5","6","7","8","9","10","11","12","1","2","3","4","5","6","7","8","9","10","1","2","3","4","5","6","7","8","1","2","3","4","5","1","2","3","4","5","6","7","8","9","10","11","1","2","3","4","5","6","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","98","1","2","3","4","5","6","7","1","2","3","4","5","6","7","8","98","1","2","3","4","5","6","1","2","3","4","5","6","7","8","9","1","2","3","4","5","1","2","3","1","2","3","4","1","2","1","2","98","1","2","97","98","1","2","98","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","1","2","3","4","1","2","3","4","5","6","7","98","1","2","97","98","1","2","3","4","5","6","98","1","2","1","2","3","4","5","6","7","8","9","10","11","12","1","2","1","2","98","98","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","1","2","3","4","5","6","7","8","9","10","11","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","98","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","98","1","2","3","4","5","6","7","8","9","10","1","2","3","4","5","6","7","1","2","3","4","5","1","2","3","4","5","6","7","8","1","2","3","4","5","6","7","8","9","10","1","2","3","1","2","1","2","1","2","3","4","5","6","7","8","9","10","1","2","3","4","5","6","7","8","1","2","3","4","1","2","3","4","5","6","7","8","9","10","11","12","1","2","3","4","5","6","7","8","9","10","1","2","3","4","5","6","7","8","1","2","3","4","5","1","2","3","4","5","6","7","8","9","10","11","1","2","3","4","5","6","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","98","1","2","3","4","5","6","7","1","2","3","4","5","6","7","8","98","1","2","3","4","5","6","1","2","3","4","5","6","7","8","9","1","2","3","4","5","1","2","3","1","2","3","4","1","2","1","2","98","1","2","97","98","1","2","98","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","1","2","3","4","1","2","3","4","5","6","7","98","1","2","97","98","1","2","3","4","5","6","1","2","1","2","3","4","5","6","7","8","9","10","11","1","2","1","2","98","98","1","2","3","4","5","6","7","8","9","10","11","12","13","14","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","1","2","3","4","5","6","7","8","9","10","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","1","2","3","4","5","6","7","8","9","1","2","3","4","5","6","1","2","3","4","5","1","2","3","4","5","6","7","8","1","2","3","4","5","6","7","8","9","1","2","3","98","98","1","2","3","4","5","6","7","8","9","10","1","2","3","4","5","6","7","1","2","3","4","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","1","2","3","4","5","6","7","8","9","10","1","2","3","4","5","6","7","8","1","2","3","4","5","1","2","3","4","5","6","7","8","9","10","11","1","2","3","4","5","6","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","1","2","3","4","5","6","7","1","2","3","4","5","6","7","8","1","2","3","4","5","6","1","2","3","4","5","6","7","8","9","1","2","3","4","1","2","3","4","5","1","2","3","4","5","6","1","2","1","2","1","2","1","2","3","1","2","3","98","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","1","2","3","4","5","1","2","3","4","5","6","7","8","98","1","2","1","2","3","4","5","6","1","2","1","2","3","4","5","6","7","8","9","10","11","1","2","1","2","98","98","1","2","3","4","5","6","7","8","9","10","11","12","13","14","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","1","2","3","4","5","6","7","8","9","10","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","1","2","3","4","5","6","7","8","9","1","2","3","4","5","6","1","2","3","4","5","1","2","3","4","5","6","7","8","1","2","3","4","5","6","7","8","9","1","2","3","98","98","1","2","3","4","5","6","7","8","9","10","1","2","3","4","5","6","7","1","2","3","4","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","1","2","3","4","5","6","7","8","9","10","1","2","3","4","5","6","7","8","1","2","3","4","5","1","2","3","4","5","6","7","8","9","10","11","1","2","3","4","5","6","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","1","2","3","4","5","6","7","1","2","3","4","5","6","7","8","1","2","3","4","5","6","1","2","3","4","5","6","7","8","9","1","2","3","4","1","2","3","4","5","1","2","3","4","5","6","1","2","1","2","1","2","1","2","3","1","2","3","98","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","1","2","3","4","5","1","2","3","4","5","6","7","8","98","1","2"],[-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,1,1,-1,-1,1,-1,0,-1,1,1,-1,-1,-1,-1,1,1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,0,-1,-1,1,1,-1,-1,-1,-1,-1,-1,1,1,1,1,1,1,1,1,1,0,-1,-9,1,1,-1,1,1,0,1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-9,-9,0,-1,-1,-1,-1,-1,0,0,-1,0,0,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,1,-1,-1,1,-1,-1,-1,-1,1,1,-9,1,-1,-1,0,1,1,1,1,-1,0,0,0,-1,-1,-1,-1,-1,0,-1,-1,0,-1,-1,-1,1,-1,-9,1,-1,-1,-1,-1,0,-1,-1,-1,0,0,1,-1,-1,-1,0,-1,-1,-1,-1,-1,0,-1,-1,-1,1,1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,1,1,1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,0,0,-1,-1,0,0,0,0,-1,-1,1,-1,-1,-1,-1,-9,-9,0,-1,1,1,1,0,1,1,1,1,0,1,1,1,1,1,0,0,0,1,1,1,1,0,1,1,1,1,0,1,1,0,1,-9,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,0,-1,1,1,0,-1,1,0,-1,0,0,1,1,-1,0,1,1,0,1,1,0,0,0,-1,0,1,1,1,0,1,1,1,-1,-1,-1,-1,1,1,1,0,-9,-9,1,-1,-1,-1,-1,-1,1,-1,-1,-9,-9,1,-1,-1,0,-9,-9,1,-9,-9,-1,-9,-1,-9,-9,-9,-1,1,-9,-1,-9,-1,1,-9,1,-9,-1,-1,-1,-1,-1,-1,1,0,-1,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,1,1,1,-1,0,1,-1,-1,-1,1,1,-1,-1,-1,-1,1,1,0,-1,-1,-1,-1,1,-1,-1,0,-1,-1,1,1,-1,0,1,-1,-1,-1,1,1,1,1,0,1,1,1,1,1,1,1,1,-1,0,1,1,-1,1,0,1,1,1,-1,-1,-1,0,-1,1,-1,-1,1,-1,-1,-1,-1,-1,0,0,1,1,-1,-9,-9,1,1,-1,1,1,-1,-1,0,-1,1,1,-1,1,-1,0,-1,-1,0,-1,1,1,-1,1,1,-1,0,1,-1,1,-1,-1,1,1,-9,1,1,1,1,0,1,1,1,1,-1,1,-1,0,-1,-1,-1,-1,-1,-1,-1,1,0,-1,-1,1,-1,-9,1,-1,1,1,1,-1,1,1,-1,-1,1,0,0,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,1,1,1,1,-1,-1,1,1,-1,-1,1,-1,0,-9,-1,-1,-1,-1,1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,1,1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,-1,1,-1,1,-1,1,1,1,1,1,1,-1,1,1,1,1,1,1,-1,1,-1,-1,-9,-9,-1,0,-1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,-9,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,-1,1,1,1,1,1,-1,1,1,1,1,1,-1,-1,1,1,1,1,-1,0,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,-9,-9,0,-1,1,1,0,0,1,-1,1,-9,-9,1,1,0,-1,-9,-9,1,-9,-9,-1,-9,1,-1,-1,0,-9,0,-9,-1,-9,1,-9,-9,1,-9,1,-1,-1,-1,-1,1,1,-1,-1,-1,-1,1,1,1,1,1,-1,-9,1,1,-1,1,1,1,-1,-1,1,1,1,-1,1,-1,-1,-1,1,1,1,-1,-1,-1,1,1,-1,-1,-1,1,1,1,1,-1,1,1,1,1,-1,1,-1,0,-1,1,1,1,1,1,0,1,1,1,1,0,1,1,1,0,1,1,0,1,-1,1,0,-1,-1,-1,-1,-1,1,1,-1,-1,0,1,-1,1,1,1,1,1,1,0,-1,-1,-1,-1,1,-1,0,1,1,-1,-1,-1,-1,0,1,-1,-1,1,1,1,-1,1,0,1,-1,1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,1,1,1,0,1,3,-1,-1,-1,-1,1,0,1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,1,1,1,1,-1,-1,-9,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,1,0,3,-1,-1,-9,-1,1,-1,1,1,-1,-1,-1,-1,-1,-1,1,-1,-1,1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,1,1,-1,-1,1,0,0,1,1,1,1,-1,1,1,0,-1,-1,-1,-1,-1,-1,-1,1,0,1,1,0,-1,1,-1,-1,-1,-1,-1,1,1,0,-1,1,1,0,1,-1,1,1,1,1,0,0,1,1,-1,1,-1,1,1,1,1,1,-1,-1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,0,-1,3,1,1,-1,1,0,1,1,1,1,-1,1,1,1,-1,1,1,1,1,1,1,1,1,1,1,-1,1,1,1,1,1,-9,1,1,-1,-1,-1,1,1,-1,1,1,1,1,0,1,-1,-9,-1,1,1,3,1,0,-1,-1,-1,1,1,1,1,1,-1,0,1,1,1,1,-1,1,-1,1,-1,1,1,-1,0,1,-1,1,1,1,-9,-9,-1,-1,0,-1,1,1,1,1,-1,1,1,1,-1,-1,-9,-1,1,1,1,0,-1,1,-1,1,1,-1,-1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,-1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-9,-9,1,1,0,-1,1,0,1,0,-9,1,1,-1,1,0,1,-1,-1,1,1,0,-1,1,-1,-1,-1,1,1,-1,0,-1,-1,1,1,-1,-1,-1,1,1,1,1,-1,1,1,1,1,-1,1,-1,1,-1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,0,0,1,1,0,-1,-1,-1,3,-1,-1,-1,-1,0,1,-1,-1,-1,0,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,1,-1,-1,-1,-1,1,1,-1,-1,1,1,1,-1,0,1,0,-1,1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,1,1,1,-1,1,-1,0,-1,-1,-1,1,-1,1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,1,1,1,1,-1,-1,-9,0,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,0,1,1,-1,0,-9,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,1,-1,-1,1,1,1,1,1,1,1,-1,1,1,1,0,0,-1,-1,0,0,0,1,-1,1,1,1,-1,0,-1,-1,-1,-1,-1,1,1,1,-1,1,1,1,1,-1,1,1,1,1,1,-1,1,1,0,1,-1,1,1,1,0,1,-1,-1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,-1,1,1,-1,-1,-1,1,1,0,1,1,1,1,1,1,-1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,-1,1,1,1,1,1,-9,1,1,-1,-1,-1,1,1,-1,1,1,0,-1,0,0,-1,-9,-1,1,1,1,1,-1,-1,-1,0,1,1,1,1,1,-1,1,1,1,1,1,-1,1,-1,0,-1,1,1,-1,-1,1,1,1,-1,-1,-9,-9,0,-1,0,-1,1,1,1,1,-1,0,1,1,-1,-1,-1,-1,1,1,1,1,-1,1,-1,1,1,-1,-1,-1,1,-1,-1,0,1,1,-1,-1,1,-1,-1,1,0,-1,1,1,-1,-1,1,1,-1,1,1,1,0,1,1,-9,-9,1,1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,1,1,1,-1,-1,1,-1,0,1,1,1,1,-1,-1,1,-1,1,1,0,-1,-1,-1,1,1,1,1,-1,-1,1,1,1,0,1,1,1,1,-1,-1,-9,1,1,0,-1,-1,-1,0,-1,-1,-1,0,1,-1,1,0,1,1,0,1,1,1,1,-1,1,-1,1,-9,-1,1,1,-1,1,-1,-1,-9,1,-1,1,-1,1,-1,1,1,1,-1,1,-1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,1,1,1,1,-1,-1,1,-1,-1,1,1,1,1,-1,1,-1,1,1,1,1,-1,-1,-1,1,1,1,1,1,1,-1,1,-1,1,-1,0,-1,-1,-1,1,-1,1,-1,1,1,-1,-1,1,1,1,1,1,1,1,-1,1,1,-1,1,-1,-1,-1,-1,1,1,-1,-1,-1,1,-1,1,-1,1,-1,-1,1,1,1,-1,1,1,-1,1,1,1,-1,0,-1,1,-1,0,-1,1,1,-1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,1,1,1,1,1,1,1,-1,1,1,1,1,1,-1,0,1,-1,-1,-1,1,-1,0,0,-1,1,1,1,1,1,1,1,-1,1,-1,1,1,1,1,-1,1,1,-1,1,-1,1,-1,1,1,1,0,0,1,1,0,1,1,-1,1,1,-1,-1,1,-1,-1,1,1,1,1,1,1,-1,1,1,-1,-1,-1,1,1,1,1,0,-1,1,1,1,1,-1,1,-1,-1,1,1,1,-1,1,1,1,1,-1,-1,-1,1,1,-1,1,1,1,1,1,-1,-1,1,1,1,-1,1,-1,0,1,1,1,1,-1,0,1,1,1,1,1,-1,1,-1,-1,-1,1,1,1,-1,-1,-1,-1,1,1,-1,1,-1,0,-1,1,-1,1,-1,-1,1,-1,1,1,1,1,1,1,1,1,1,0,1,-1,1,1,-1,1,-1,-1,0,-1,1,1,1,1,1,1,1,1,1,1,-1,1,-1,1,-1,1,-1,0,-1,0,-1,1,-1,1,-1,1,1,-1,-1,1,0,-1,1,1,0,-1,-1,-1,1,1,1,0,-1,0,-1,0,-1,-1,1,1,1,1,1,1,1,1,1,1,0,-1,-1,0,-1,1,0,1,1,-1,-1,1,-1,1,1,1,-1,0,-1,1,1,1,1,-1,-1,1,1,1,1,1,1,1,1,-1,-1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,1,-1,1,1,-1,1,1,1,1,-1,1,-1,1,-1,-1,1,1,-1,1,-1,-1,-1,1,-1,1,-1,1,-1,1,1,1,1,1,-1,1,1,1,-1,1,-1,-1,-1,-1,0,1,-1,1,1,1,1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,-1,-1,1,1,1,-1,0,-1,1,0,1,1,1,1,-1,0,-1,1,-1,-1,-1,0,0,1,-1,1,-1,1,1,-1,-1,1,1,1,1,1,1,1,-1,1,1,-1,1,-1,-1,-1,0,1,1,-1,-1,-1,1,-1,1,0,1,-1,0,1,1,1,-1,1,1,-1,1,1,1,-1,-1,-1,1,-1,1,0,1,1,-1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,1,1,0,1,1,1,0,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,-1,0,-1,-1,1,-1,1,1,-1,1,1,1,1,1,1,-1,1,1,1,1,-1,0,1,-1,1,-1,1,-1,1,1,1,1,1,1,1,1,1,1,-1,1,1,-1,-1,1,-1,-1,1,1,1,1,1,1,-1,1,1,-1,-1,-1,1,1,0,1,1,1,1,1,1,1,-1,1,-1,-1,1,1,1,-1,1,1,1,1,-1,-1,-1,1,1,-1,1,1,1,1,1,-1,-1,1,0,1,-1,1,-1,-1,1,1,1,1,-1,1,1,1,1,1,1,-1,1,-1,-1,-1,1,1,1,0,-1,-1,0,1,1,-1,1,-1,-1,-1,1,-1,1,0,-1,1,-1,1,1,1,1,1,1,1,1,1,-1,1,0,1,1,-1,1,-1,-1,-1,-1,1,1,1,1,1,1,0,1,1,1,-1,1,-1,1,-1,-1,-1,-1,-1,-1,-1,1,-1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,0,0],[127802,69339,84449,92618,58300,429348,31528,24698,15888,56604,81775,104601,89064,0,0,100333,72767,63275,52022,106366,125015,69050,55369,51262,43289,95045,98586,47767,68909,77012,38194,59810,77018,66387,61465,56095,59043,54682,58668,52644,58495,84487,76881,48816,62142,65247,62190,83213,76828,65162,61037,59711,69502,74974,55021,66111,-9,94828,51185,52101,-9,77426,73866,64654,63523,-9,-9,-9,91456,67541,46335,48063,49691,58215,88476,52059,43777,62855,71847,35503,48222,37272,85505,45155,69290,72388,79795,35406,-9,-9,70165,82863,70075,70129,77221,65535,56263,42878,36677,64289,68628,44345,40415,25484,30457,42118,21339,46586,24800,54041,54152,30454,42084,56282,51391,62061,64943,54402,63454,56233,58113,80600,74508,-9,98690,91648,91204,89557,114660,127918,133199,101098,91271,78533,80750,88795,58340,44050,57296,54481,42226,56688,59397,52235,69619,56893,53885,56262,101927,51028,-9,78898,57245,86382,66689,91861,65931,74396,89990,55333,67081,103046,101954,50148,42146,31429,46972,72681,47040,37125,35805,27742,27265,32485,76947,99227,92579,97826,103390,69240,75062,110204,45534,32076,46944,0,36685,85409,27913,32667,87770,38264,125346,45575,79859,53651,65475,134448,64241,72417,141018,1455972,61791,62953,30650,89391,91072,47844,37307,53287,0,39523,60860,70272,56002,49894,57370,43997,44857,45796,44711,63431,38391,70778,41614,40553,50533,46894,87171,78476,65113,66601,57863,88501,47476,56226,66062,69599,74752,59961,63390,52255,60081,56669,67564,78162,132920,77245,57031,58443,38846,37511,-9,-9,85957,18988,24746,28071,33950,22029,23879,29589,25799,33563,33550,19778,21271,16279,17282,20548,13968,21552,19060,33781,34676,29922,27278,29338,36440,40291,32982,66348,55715,30730,63665,46939,31933,-9,42677,26815,32098,33522,54637,29446,45195,35608,29699,35479,36748,61316,26587,32045,34362,47515,36053,33613,16800,13771,17369,15290,22641,29751,36663,31850,36227,34997,57658,47575,50659,43292,46941,51586,48043,40009,52036,24529,27677,19181,26098,14544,21703,40162,55072,36361,38211,66484,18731,27945,100721,55606,45007,39795,61206,44274,59163,27402,37173,34078,48985,58585,43709,45274,50720,54586,64877,45538,47518,60659,39788,52328,0,27024,99157,32138,38486,45902,48304,77949,43801,57300,53419,95248,47857,39380,42417,9806,0,44683,21445,27777,28951,28058,25170,26033,49371,68829,61786,68055,72378,71664,99842,42565,54066,-9,-9,106096,66579,65114,34695,46846,59006,64276,58711,29733,-9,-9,66641,92770,47246,0,-9,-9,73704,-9,-9,74318,-9,72826,-9,-9,-9,56624,89581,-9,91268,-9,105687,72900,-9,61383,-9,112534,45904,30743,66436,32931,100030,83824,56947,51195,56343,54166,134258,66523,89391,88682,56752,426485,41620,36506,22605,39717,76497,93591,76881,36530,33578,91854,61559,55949,63618,87699,102940,54243,46332,42371,30389,90065,93039,22709,56091,64868,46121,47055,60364,50220,45376,34578,34194,38421,60432,46242,45525,55008,61410,76375,60152,55285,55793,63620,60725,47466,42305,-9,66847,67560,42396,54919,75020,72396,42516,44502,-9,58616,57432,33349,35233,64270,54628,64353,69152,59759,35059,43315,41833,41680,90420,42680,32446,54284,50107,33018,31115,31639,52363,35370,53310,58327,66541,27317,-9,-9,69300,83344,67286,65255,84177,73913,54425,40502,34317,56158,77466,51028,36335,29538,28759,41642,23762,44871,25348,49660,48550,29080,36740,46875,50686,57396,53229,51060,48198,44778,39776,66077,63257,-9,69056,71945,72676,58190,91589,106701,109841,77736,74699,59127,62050,75226,49187,35856,47633,39944,37096,45214,48286,42647,67704,43795,50143,50638,78812,50759,-9,62666,55153,73646,53550,76878,62915,67992,78750,51350,56149,88418,75478,39771,35877,26301,35927,61435,38953,35164,36222,24198,25254,26667,56388,76938,73238,80229,90712,53760,62542,92840,32686,26689,40335,35818,28379,-9,21117,29687,65860,24042,100947,47448,75255,39726,58295,119245,60565,66341,130623,1237409,53071,55117,38265,83564,71203,35618,29408,43877,24871,35281,43140,55359,40786,38649,43105,30877,33617,31689,33562,52015,35028,54438,38767,35087,36839,46452,73786,59930,48759,63911,40785,72440,30808,43384,49408,48244,53424,45762,53593,42629,49894,43950,44469,57225,106728,58832,55972,40939,34017,33562,-9,-9,74983,22737,18741,14846,15300,8325,9433,12287,19932,29730,26802,14206,17441,10914,14608,17269,11709,20580,13742,30743,47238,31048,34434,43156,54338,46467,39121,40466,34334,24548,65758,32475,31205,-9,29716,18920,24221,21900,49317,22402,23595,21573,20943,27568,35456,39232,21591,25529,22478,34718,22931,25140,8994,5891,6529,12602,13395,15964,19321,14698,15602,21287,34580,29598,27751,21911,40834,47183,33591,31712,46851,6753,9747,8126,7976,10648,7131,12444,16900,11784,11546,23568,8118,12537,19068,20200,13703,10576,13179,14761,31201,18524,8928,10228,25666,17828,9138,16334,34970,41226,49935,35529,33920,39762,34767,37727,0,27122,96498,27646,34769,54152,43540,64481,36552,46404,43838,72877,38166,28733,32401,18260,35349,23807,11112,15283,10047,13520,13623,9276,15128,53584,53485,56794,64265,61000,85793,51526,63991,-9,-9,70165,53313,55110,35797,41040,50255,54394,53854,31843,-9,-9,54161,84283,42483,72584,-9,-9,83078,-9,-9,59976,-9,70201,51409,55020,71682,-9,47653,-9,79744,-9,97177,-9,-9,62994,-9,94137,47155,33282,77606,43053,90053,73296,48623,34174,49767,46249,124966,106203,102636,104723,110337,76413,-9,113501,102369,0,126485,91587,121211,81875,70304,119562,107645,77347,66949,169766,0,57959,35942,97945,124044,156956,82993,74703,73361,113587,92710,63208,71338,71123,100653,97599,89109,91496,58112,83151,87187,107316,118913,53552,98226,45130,99193,49676,90204,120257,69462,106622,40460,34885,107960,42149,59707,73253,84627,37146,44843,66192,55129,45144,94108,83234,125415,44084,88894,86827,87896,62897,61947,43254,50549,96520,112640,46008,50930,47093,120509,56201,96703,113696,102869,75728,131810,108243,94247,79782,60324,56532,61960,128794,55838,84137,96117,106877,39507,57093,68434,65903,109236,93033,71297,54453,106869,105048,95898,62638,119207,106642,101729,70145,96584,94779,86769,105003,119032,73766,128152,50525,69987,66293,55291,53838,65192,68173,66135,63412,111425,63957,104349,113507,90055,85084,94452,93515,67370,76940,78045,91642,102707,83981,80015,127847,75009,58692,52441,62219,57839,67779,47639,53886,54152,66251,131517,81951,101961,106960,105690,123376,82234,75250,-9,49830,52327,32012,0,45884,40964,55386,40898,85280,45686,38063,51202,59864,68889,35861,68916,54127,96711,101813,72918,85509,102656,98825,44400,-9,86067,107804,54517,118203,76607,60059,56964,52660,73891,54889,81049,103651,57164,71134,99586,54171,46774,82102,53151,59672,55621,59005,62916,68528,86434,129082,108588,81578,79067,115343,79295,115476,106150,104056,86681,102315,70455,108416,108184,78326,78374,71254,58728,39692,54655,61738,50683,96265,43229,94118,81723,70681,7221,64717,49731,47906,65474,40593,37533,86796,94726,69110,34608,106132,85528,80293,-9,59642,-9,116215,87313,103540,86251,67505,84193,91539,0,111539,82138,99154,82362,77403,72830,55759,58154,63183,97289,96505,64912,83829,80674,70658,81537,39215,63788,34901,100461,79709,41086,73800,71260,82896,78768,108297,75796,92542,57244,77871,77112,76028,77419,67281,0,72295,91477,95428,47053,74104,68437,72805,58304,87038,87565,55939,95413,79317,90889,0,63256,71937,85037,78127,86069,83839,89868,57618,62491,90856,43568,79161,64112,91784,101498,75026,-9,72072,65860,55366,55971,30575,78536,82594,31250,86025,63269,60651,79870,63597,81048,70109,-9,63451,77192,85981,67352,86420,64599,17441,17547,57565,74041,61045,61223,80893,70644,45434,85436,91022,82911,94507,80204,54594,102301,46072,91199,89917,88368,92680,62002,54256,74974,39752,104136,78117,69858,-9,-9,65265,80948,45950,37756,127744,107446,90126,95630,54928,102689,104768,101329,73720,40957,0,78628,152847,86386,97476,77250,51373,99069,57064,89536,103695,52202,57972,66263,134642,62824,65233,76091,76967,97855,46404,59649,107113,74798,59011,96130,121749,45479,114232,137746,72579,76456,102522,89777,49601,88446,93399,123429,36785,-9,-9,-9,-9,88374,81492,89042,78699,96947,96969,-9,99483,96235,0,111430,63942,95016,67646,114276,115597,89875,50269,77497,143026,98910,34882,32374,86283,121704,44415,71429,52567,64882,87973,91670,53436,72347,63928,75056,91589,71003,68075,55930,77789,77771,94772,108746,54996,94414,56411,84738,0,112983,93666,102505,78324,60919,31500,102247,31586,50767,71553,98300,-9,46947,73509,38866,50372,78723,106942,66688,25909,89787,41908,128017,71832,34568,47306,45373,60452,82425,38898,48061,37961,90949,50418,79151,79425,70530,54755,113920,80142,96453,62722,51464,52852,51506,146789,48738,68743,72509,93169,33986,60714,54639,58399,84911,76915,58720,50908,94029,92638,80734,55050,93272,88252,97693,55328,97278,68182,70112,98453,111955,65170,137090,51499,90364,64231,43014,41459,56340,43601,43094,49727,110374,57781,91158,88637,73145,77959,87064,86582,67740,74599,73042,83911,104599,78871,71329,93075,52782,62530,45838,55337,55591,41235,44400,51223,57031,53146,129287,56872,91111,101018,90540,108176,62081,63175,-9,39820,60860,26735,45619,37545,39265,37294,0,82777,40669,42542,60538,53271,71282,34018,63187,44066,82071,73222,70140,74340,114790,73765,55455,-9,87428,102879,52085,102464,60630,44794,88746,60345,78123,62991,59505,84049,45958,49369,73820,43257,31552,63791,80161,64344,47004,48688,53995,54498,108141,131263,83207,81004,79378,118149,58082,93294,73021,80153,51668,74496,0,97560,100988,62764,36240,64520,63698,37688,50416,71636,55925,71465,27367,73123,55246,54274,21241,32642,38848,34609,56603,27457,25966,70015,77701,78368,31378,87797,76413,-9,-9,57679,-9,88744,-9,-9,75673,35398,78832,78535,58904,120565,68847,-9,75895,70856,59994,54588,45908,58394,92500,80149,52446,64603,74075,66284,51812,48677,44848,31087,36632,24517,26607,42367,51689,50527,66064,58546,41674,38891,41065,49866,49663,47693,37377,40563,28801,48113,90199,63891,42005,60708,52175,43742,46966,67883,52634,41425,70103,57058,74038,50750,26294,57180,78872,59641,62057,80070,62560,54498,54617,70040,0,59996,48710,76004,73514,61068,-9,27829,21024,50102,41659,11977,44322,50672,24923,87224,52374,54936,52979,59267,60390,60453,-9,53598,87131,112458,67743,62034,45742,37348,30146,54662,86437,89900,87517,83904,66590,43279,61296,56263,57630,62531,48286,45870,86760,49626,74444,72339,87090,76244,55743,31872,63175,78082,113496,64598,64518,-9,-9,95499,87000,58456,62688,151070,117496,103485,76567,84255,89784,104311,120041,80530,39188,50942,87980,148655,98442,95118,83739,48415,98578,50033,75127,95256,44767,61777,64386,130499,63652,57882,71308,63903,102071,44278,44764,101664,87019,44841,93952,85684,57837,100943,118919,60299,53156,117562,81892,70119,88189,98282,99308,44137,85411,91038,-9,-9,176463,143326,147394,55751,58612,78814,190989,85346,38907,156262,191005,169729,181860,177643,188647,165745,160799,187178,169692,86623,89677,84141,56129,45330,158338,141988,134505,117024,79066,54828,120125,52189,96036,142012,84681,64773,71596,73561,104001,105624,107646,128336,59479,68930,94506,93120,100240,72851,107056,73755,74304,81305,57503,64425,-9,157339,75459,77158,102235,47294,54312,145040,62177,0,43585,90854,141976,51243,128364,102777,133917,139604,0,128076,184322,135590,124041,42758,114119,73745,128153,-9,51179,120706,133081,76424,135181,79127,48169,-9,136924,42819,137472,38288,123428,63476,164125,138256,132111,91282,93567,54804,135331,107728,135583,60187,131753,54769,74424,57482,55260,72431,132130,94763,132889,153341,105836,139392,138251,116915,97934,80915,116240,71447,80738,141355,147193,105846,127800,98290,112605,54428,62868,120581,150832,139904,64843,55398,86526,108158,99751,111612,104596,132775,135493,57643,117682,58637,141953,0,80292,52635,50423,49084,157557,56893,124600,41178,137074,148951,49441,43356,162526,151306,168065,146715,148388,158552,151501,72935,177283,140518,57552,142197,72708,62003,71280,86438,129204,157065,66599,69614,0,135694,53959,122777,54327,161118,96016,99770,181227,174416,169486,101011,165656,140751,91645,150205,166480,149166,93128,111244,84801,160872,72167,112174,45183,212583,223759,49614,106666,0,134786,97242,118369,0,93561,113309,88284,77670,0,117514,131880,120142,138920,136074,-9,168889,54767,129508,142449,134269,-9,124817,0,118756,-9,62539,0,56536,168390,0,93700,173292,67746,153032,-9,-9,135355,94531,85029,97663,148394,135194,76824,135056,102696,121800,118156,0,-9,-9,0,-9,0,-9,88564,137445,112401,164651,110184,82034,118027,128832,95323,131896,110516,70008,102392,99214,71802,71865,108436,57691,83978,89071,90234,107959,120719,122566,145614,50627,139379,95376,78786,48824,0,137270,232213,134207,135459,98345,111395,93672,104514,149064,94408,53932,94527,0,58471,116423,135794,113499,86490,105085,117288,92184,131981,50575,0,45339,96946,96128,63114,133779,128624,128437,166753,117650,102478,93101,136009,-9,-9,53668,122887,29469,77540,108264,94129,155068,123652,35237,94571,126280,119256,118356,120192,78812,71388,99895,72417,0,78115,133922,147437,169284,57552,60116,77158,70328,127956,115278,78069,101764,75163,84138,0,124938,87976,112129,60018,56527,159815,91088,183470,181184,133530,176645,170006,163221,152866,142500,145484,121523,143980,103899,118710,117452,51730,125715,112033,62037,75539,61555,147858,112038,85378,126930,148814,109801,88169,72253,100919,114666,57586,92087,71186,103493,89666,52399,52162,80782,88192,78778,72499,90796,54012,179915,74700,190684,108483,110782,122646,175191,109390,48850,160654,125904,173809,71920,71881,76394,144802,126566,105085,90772,32352,85803,48628,167623,116798,43611,134152,150992,143473,110232,149284,155380,125479,124534,137805,145480,66176,74829,73131,108818,-9,116274,73522,98734,77709,55454,35010,63696,31114,55212,82736,42616,47782,52498,68286,57581,75211,56722,73029,41308,53920,44306,51091,56396,35177,61468,36286,40570,47446,34625,33464,-9,79161,38024,45758,82203,34128,37034,117239,56671,0,0,52438,97815,34835,97280,69328,68367,84905,37421,73423,94584,89908,74114,50597,74394,56292,85015,-9,-9,88219,80686,58967,77636,50233,43849,-9,80880,0,82080,0,78375,53465,100890,80245,110512,77290,73805,48155,80021,70151,96557,47286,82703,0,60305,55592,0,83061,102062,0,113958,130114,95208,138425,68920,93495,80740,99347,81373,67024,65248,97465,107526,69362,76556,49678,82376,55449,41170,97547,90307,98903,73604,50923,59759,98232,54345,78506,68742,88962,92205,64185,83932,57345,116797,64467,41693,47415,59349,63584,117681,61656,111923,50784,93431,97875,68510,70516,133207,120782,132951,109390,103338,93961,85156,60409,96981,77557,0,100069,83199,0,0,81008,100947,127812,47022,44063,61396,99093,58923,112015,62244,156749,77935,96395,143353,144682,164816,107126,151145,62550,94378,88950,105527,71890,73093,76725,60751,94156,70587,111903,94234,152530,173814,69194,55179,36253,71051,66532,92968,58684,88475,67215,57249,0,83243,101923,129872,113047,134412,127490,101026,103471,54332,110365,88416,103032,84280,95320,63253,95421,99464,0,102503,0,120991,0,0,156055,0,-9,79569,36978,87696,80515,77910,72961,96526,86037,77794,95817,81344,96197,89683,0,55621,-9,0,-9,0,-9,0,43668,59393,49162,57137,89926,105832,130979,83930,139396,113814,62913,94946,98700,80802,65710,99318,42555,0,72561,81927,91775,94121,89241,76974,0,108300,65228,62344,0,0,79786,152784,73810,98026,81815,89251,72461,62455,104100,54477,0,56318,48585,37721,71052,86297,67427,62158,62822,85323,77057,84750,44979,0,0,61330,67518,39785,82545,85601,84747,106502,59628,39343,59521,90820,107641,100879,50086,110100,0,0,49662,52101,55607,60538,40516,62241,48629,72849,63174,75327,39948,0,76549,103018,89395,75642,82176,105248,124487,75901,57776,57961,85054,98008,100409,56739,84650,59581,41306,0,104225,69491,85167,79163,70977,96468,65333,132143,115090,120633,137306,121080,119645,94739,81875,105029,69270,97286,120742,97147,134236,82611,98804,76991,65101,68921,61630,103141,71562,48120,78031,90857,69482,51350,45456,56394,68268,49981,55646,66100,72409,103961,43693,53670,68087,93586,67189,0,48712,0,150292,60131,169731,162494,124610,92447,92837,95645,44241,110234,79079,106761,75031,91677,97622,118155],[103294,64916,83310,117727,62804,433311,52536,50552,38692,75582,67267,36855,61448,139288,108179,26339,75844,82750,118741,0,0,89913,87973,64794,59505,58209,66672,74076,71127,89211,62804,87538,48204,92286,83285,72873,59191,90153,52898,50920,63232,39661,45564,101924,144052,104476,58192,72012,55844,43483,25773,26700,32290,41289,29061,44718,-9,21703,45623,74581,-9,20697,34819,66527,14012,-9,-9,-9,57061,81144,88822,79229,91649,77725,65341,98618,70715,62717,78409,65848,66695,70659,90305,67882,75842,66729,71275,58340,-9,-9,61165,69604,76009,50236,75007,86755,91394,62229,74726,45587,63797,68089,37261,47715,48760,84997,38735,81704,43520,37904,46701,46451,35384,29768,56966,50005,39517,65276,53609,56932,75147,30328,33107,-9,43034,85119,81175,82310,43610,53548,47602,54316,73301,109031,78269,98956,123978,94962,74213,76840,71220,61652,69733,59067,61452,64625,57800,57732,44728,54993,-9,50194,71907,78935,63403,82730,66414,62855,71634,59787,76036,98451,19609,65006,64637,61059,74191,73465,68903,61394,51771,49206,48633,42955,45761,74474,49286,57730,116427,73952,66968,79162,57321,34950,41492,71737,43929,73394,38330,33796,95575,55408,92535,35294,71871,60234,55455,63079,0,22932,170085,1342409,67387,74306,69727,63161,76782,60675,64531,70905,76903,52124,70959,82139,78838,53384,60103,55641,59173,56970,68395,68324,46935,88605,77160,55013,80345,82886,72402,53574,76313,62194,63879,44306,57189,41365,50372,52290,41576,47371,59959,61242,44887,35232,26760,40719,107861,32217,76359,55199,71513,65549,-9,-9,99062,36713,5753,15800,11291,0,0,15854,16890,25420,30466,0,0,0,3054,0,2994,0,2510,5006,0,0,12462,4094,5471,0,0,0,5413,0,14912,19501,15977,-9,0,0,0,0,0,0,0,0,0,0,0,0,13437,0,0,0,0,0,0,0,0,0,0,0,0,2507,0,9407,15866,17041,17906,7839,27924,35008,32321,21614,30456,2989,0,0,1410,0,0,0,3978,4642,0,0,0,0,17124,0,0,0,7480,0,7202,0,0,0,6266,0,14376,0,0,31527,74168,31062,24240,39251,26007,34127,60309,29700,76235,13131,21084,30997,59856,68423,18236,11007,20716,45985,17100,10236,30687,54439,43849,20740,11910,0,6056,0,11229,2555,3670,51381,51226,51123,64001,38446,59900,29864,30140,-9,-9,57541,71868,63312,32206,41404,61690,29937,61124,28972,-9,-9,46229,68693,50218,82947,-9,-9,68875,-9,-9,78534,-9,66563,-9,-9,-9,62951,44611,-9,121198,-9,92721,28698,-9,47411,-9,87138,88587,42730,99464,65606,92215,48413,61856,58105,67757,72988,96251,68747,82304,111939,65915,433912,48869,49743,38289,88018,63493,37258,57483,116474,94162,24307,71983,78655,88549,18302,16746,90387,84508,57371,55116,52553,60036,65248,73313,85100,54897,79374,55364,80678,74739,79421,60420,67712,38613,42581,54123,43851,42272,76240,129291,92466,43055,54061,41615,30379,18551,-9,25485,31558,22796,35418,21350,17144,37363,57247,-9,21034,29305,62604,15208,22103,11303,40552,44598,78221,79490,72721,86053,79007,60087,100425,67739,60657,81508,60278,68474,64377,103710,64801,75377,61781,69260,54490,-9,-9,59593,62970,68217,48280,67525,74316,91387,56300,70368,52859,65015,67135,34640,45986,47697,81366,40029,78577,42719,35487,44465,42701,39431,32470,55866,63445,40037,67604,54076,58096,82525,30088,32858,-9,41944,83023,87241,73542,48052,58534,43211,53505,69552,117498,81358,96489,140750,103312,82155,82190,74643,72499,69379,62138,60530,67668,63669,62692,42696,53207,-9,56063,74872,83816,69741,91929,69789,68885,74573,63229,81392,116068,14619,61574,58489,58625,72829,70100,66951,55001,43910,47489,50523,43010,35178,72137,40865,50873,114274,77507,69543,77634,65640,36096,38996,77660,47761,-9,39584,33648,117396,58484,102868,29573,77306,71382,56508,67661,21044,21588,219788,1447154,70883,75281,54783,53702,75955,66289,63433,71908,60337,46722,70058,79066,73490,51168,57429,56982,55291,56942,66607,56862,42263,77856,60608,51653,75016,69304,68947,39307,71243,49879,65644,42705,56928,36403,43816,46154,33367,38276,55176,60557,41406,27573,0,31163,110757,27366,67164,71126,68889,64661,-9,-9,116173,34533,2518,0,0,0,0,0,8786,21071,19118,0,0,0,980,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14305,9958,0,-9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,730,0,529,0,0,0,0,1147,0,0,12945,0,9075,4171,27688,29982,30591,14293,26710,0,0,0,0,0,0,0,0,1145,0,0,0,0,5427,0,0,0,3162,0,0,0,0,0,23259,1162,0,0,0,0,62363,0,19670,0,27190,24627,46928,36005,99497,14430,25287,40031,70707,72367,18687,9639,20527,51008,18743,14078,38285,33308,38585,0,0,0,0,0,0,0,0,49987,44925,47589,60171,31777,53466,33528,28622,-9,-9,67436,73045,58831,26674,41823,66966,34945,65003,28485,-9,-9,51868,73535,50865,85122,-9,-9,40569,-9,-9,74069,-9,76015,59313,59780,107933,-9,35543,-9,115970,-9,95308,-9,-9,46693,-9,90398,93547,41365,90232,63211,84024,45737,55056,61544,60273,71785,74615,89098,80696,113749,85591,126208,-9,86949,81398,140419,45262,46860,77658,124930,136951,71689,0,15906,138220,0,173295,100269,88609,62394,78502,0,117827,105856,91218,82441,106504,143963,138060,120523,62661,95267,47989,46426,146264,52159,50829,88043,79208,129731,75910,116190,96427,95016,45813,37314,59690,44551,10708,13777,25499,18396,31802,69126,70086,7215,27959,13968,8778,7087,36823,46510,74275,130229,94689,91590,119039,124995,88562,95793,110080,82333,47849,138400,129697,90281,92589,106984,27920,38432,44041,47813,88229,48455,87090,105699,94254,100399,125916,52475,119522,141764,39671,70333,98877,119003,121664,93352,44037,55099,98576,87968,66429,59576,50594,130784,21758,56513,86535,151216,77887,63999,17594,62254,65687,148398,101665,120370,186714,163332,121432,111037,122513,106122,114948,124121,94363,115258,88945,45649,68318,104238,86354,98977,114537,142207,115921,109585,86012,98090,70725,0,90804,109754,100128,105085,103423,104502,105238,111774,104791,94513,54760,12873,59757,43582,37000,40906,124025,104057,-9,102219,108157,114549,129435,113381,107289,97581,101974,63290,102890,116323,106664,97158,84561,98499,101495,100148,63747,44363,27827,28931,84975,106852,105350,-9,89182,72229,95606,44558,35536,111934,101808,111859,126392,106266,91419,84634,101839,83259,60710,100802,86212,87012,110768,100877,101991,107085,138400,100623,158989,81392,78819,104664,83113,55209,44316,101500,38439,75790,45951,85237,123958,79179,98923,66830,97697,87683,123838,84114,55962,85232,73987,16456,51184,62082,32548,34608,91549,51349,92121,71531,97465,60318,60743,0,12427,14582,69445,29923,0,36284,0,121771,0,21063,0,27696,76974,108620,51637,74896,117747,87074,99844,30324,62032,36118,0,0,78753,79258,0,0,0,0,0,0,77633,0,0,0,25867,14126,0,0,0,0,33683,0,38660,0,48815,73471,84905,65703,0,70480,94510,87811,71041,0,63877,35463,43440,21246,39876,0,0,81696,0,49821,0,110455,26402,46829,51933,0,0,66477,0,0,22510,0,81715,0,14569,59082,61278,0,-9,0,50904,70318,103793,86391,58905,50699,87078,59635,14604,31813,89073,71714,20745,109167,-9,92513,63437,39740,58253,30931,79992,100712,97832,76390,23553,52836,41923,41457,0,73293,73176,56911,54164,52636,41038,137761,43235,79667,82677,152153,81173,76776,90870,65029,64862,83888,40209,88517,71857,-9,-9,139456,130127,77363,133597,78986,80193,67225,31157,151336,48397,58887,77847,160563,166252,143222,151608,56730,74058,55188,73351,100115,53842,136238,8244,75457,97232,155443,145245,64505,162854,173680,69485,37234,65004,142401,123507,103470,216093,148854,52547,68887,189023,64478,59447,104159,124513,79800,68387,99840,67304,72177,64051,43577,-9,-9,-9,-9,87209,92846,69084,104494,78414,92906,-9,68671,53642,117045,0,60575,79870,116666,70955,44463,0,17324,102895,0,100432,72170,74219,52962,61819,103806,86125,83726,69392,68675,65030,111553,88051,90410,48011,68974,30460,31369,109537,27929,31161,60450,99503,107443,66196,91787,93824,89250,0,55406,0,29012,0,5816,20550,15222,17931,62597,50647,-9,38460,13527,0,19994,16172,38173,76611,109783,82191,119954,65339,95470,90585,90884,90196,88786,76381,123209,107677,94906,96989,87183,20108,34649,32858,42393,77817,38955,48397,91042,73041,76535,102716,0,93385,101953,21572,44103,74006,88173,87246,71497,22553,33396,81675,70074,44395,37355,35083,86932,9267,29853,44013,117590,44049,53240,10235,34841,35795,107416,53461,84356,124649,122115,95222,83296,92917,84864,92247,103485,66273,83131,77762,30784,38294,79163,64249,80326,86199,115113,97152,93088,62772,81439,50990,11876,88071,80447,74471,88208,84276,97683,85634,94027,82528,85323,38946,9141,38956,25340,23867,27608,113309,91763,-9,89169,77071,86973,82521,92577,82772,84448,90916,33947,80838,91437,82486,85858,55038,81536,81208,79472,38104,52057,16118,21440,45657,111218,63344,-9,56067,46620,64891,23081,18360,98587,41330,76893,84732,66014,60270,54932,66087,59396,37374,57285,53084,83923,68843,74603,85058,94837,121802,94080,110921,45680,61682,88753,67296,38369,0,66503,24651,53204,31806,63789,92965,53181,58103,49355,79131,69671,93705,72168,49888,56330,51092,0,44108,35258,25403,20039,62350,52716,68311,53960,67650,63457,62316,0,13217,0,50060,0,0,0,0,115532,0,21951,0,0,55311,110841,30252,68646,120466,50146,81170,0,29935,0,5376,0,85848,78540,0,30392,0,25476,0,0,19703,0,0,0,0,0,0,0,0,28847,0,0,16217,0,27224,45386,68937,20739,14529,51873,57525,63936,44376,0,48093,19981,0,21911,25546,18614,0,63690,0,38481,0,93457,0,31483,0,0,0,43319,0,17049,11420,0,52845,0,0,47868,58598,0,-9,0,0,49891,83037,49266,23971,16648,79594,40177,0,23491,84314,55511,42566,104647,-9,67386,35989,0,37081,22801,81959,78896,85849,61527,18180,37522,19622,29139,0,72498,38327,33509,30525,30255,20261,99706,37561,81239,84843,125274,45610,62169,77515,66428,64388,43752,24147,91187,61074,-9,-9,89269,97549,57848,108358,37223,69811,48783,31570,96393,64691,46872,49556,135864,144500,95549,127507,50750,55546,43843,47778,86071,41462,116437,4349,63297,77346,124071,116169,47260,139326,154691,42620,28038,37416,119340,116093,82167,192765,132446,31968,87479,147239,40620,42391,84474,107072,44049,56566,63244,43376,42213,47426,35947,31764,0,-9,-9,51985,81965,74275,147843,163729,157020,111125,167229,186356,0,0,71661,0,77186,0,40316,0,93564,40277,131824,119742,105506,145218,98937,76179,60037,67759,107479,155283,175562,74824,153350,0,68363,13848,154654,165918,167470,47293,102327,66972,91122,151038,134881,0,0,0,0,24313,7418,5582,27536,99179,107599,-9,29156,5764,37454,96465,150443,144227,89858,162962,130122,131043,124928,0,132608,89126,117710,50229,0,131078,39749,12365,78909,52402,153453,65278,155387,93648,-9,140096,0,0,152191,36719,106951,136944,-9,80975,145381,0,141832,47039,105575,6753,28831,80181,90243,59128,153425,0,34659,67604,158519,72489,165913,172992,161146,140171,128365,71560,114458,73981,69303,95385,75462,41076,102846,116309,132843,90163,192064,130578,87321,60946,68978,10979,120070,83769,132270,166569,81079,47071,54195,149748,152646,129085,91780,13196,64750,56963,0,55197,195579,90738,153162,42664,160099,123838,152235,142597,154164,36183,143673,78028,154727,59287,50356,146854,158824,47929,46130,70359,30944,24804,49620,107457,157513,0,78307,165923,86077,167275,185093,112746,113543,74682,62056,117761,125859,168700,49498,150223,69165,127722,67709,131639,215322,67073,60646,89209,121396,56630,53109,186450,86763,65393,60453,135883,127939,117601,76008,146231,109193,170302,84475,88157,135937,62564,187354,0,78396,66935,136988,154761,65410,187850,115173,120408,0,0,64491,68788,63372,-9,33475,161623,57658,70534,0,0,125608,-9,135415,0,169165,223925,156563,108373,-9,231170,142635,132090,67461,0,0,51628,46552,52807,0,97745,37693,110169,73425,0,71905,66521,-9,0,0,-9,0,-9,0,116241,38381,59827,20729,88433,100185,63013,0,0,95482,99540,116534,49855,93463,139014,112554,106907,101572,94960,75571,82793,46622,37958,74357,0,227882,67337,59877,164692,185203,90503,0,0,0,0,89105,96042,0,0,0,0,113068,36801,203989,125733,60559,0,44043,194944,0,0,59907,57387,145609,104467,128898,68165,94588,157956,49733,59688,34909,54528,0,172619,103458,73659,0,0,139182,45239,119526,99631,80372,0,0,38033,142025,56893,0,40732,0,41478,49753,184639,36309,174453,206248,164462,57587,87578,47625,156202,181612,136487,135221,68226,74405,97465,53588,105981,89985,100324,45954,130893,80212,129951,118350,72189,139010,74296,0,33692,64174,78478,76531,56656,0,50050,136384,63959,173876,47957,48375,129568,54034,116026,162779,181413,164699,77184,36835,0,53518,65307,28645,14543,43833,36017,50710,151704,50954,181203,81413,174284,87690,169360,181269,187380,153280,202478,55511,166451,78626,125366,0,42220,111489,152265,0,108763,142938,49657,60346,53902,174942,120595,96848,0,50690,70922,83440,105682,93912,141105,110836,121704,150748,0,0,75454,101017,80177,0,39310,0,120217,0,81684,67063,89963,74953,-9,58037,57801,0,73451,101508,118101,58209,100274,0,59759,9072,95198,108173,100537,25473,46380,36859,59089,79304,71948,13224,0,21646,13330,14963,0,0,11557,58616,52919,-9,15219,1189,17135,35575,99866,95495,65760,121206,91348,97340,95220,53077,89105,67534,90237,39053,18181,89831,19018,8118,59901,58469,75097,56093,105868,65100,-9,-9,0,50007,89577,30497,77178,85596,-9,85697,96336,43054,92732,45509,78189,6708,22350,45299,53258,34440,96410,20099,0,39031,104070,68850,113081,116048,112383,119812,69105,51380,105693,55680,66433,48949,0,35450,63980,77911,64415,71750,116470,88598,80645,48325,35049,7298,95962,60007,75850,126308,0,41759,45259,89078,99952,94555,51119,11203,40499,41092,42629,40100,126629,80362,103817,0,103897,113615,117220,97123,99955,33791,106009,58372,130495,60925,66460,99251,101097,38199,41823,72315,39749,25906,0,96938,94509,43001,31255,111036,60961,95902,117967,90042,82650,0,0,99978,112333,102974,58643,88725,46283,90555,43856,126367,195833,77639,53720,90138,92876,56068,40160,94324,67659,65095,43897,78956,83609,81452,69514,129654,80845,98607,81443,83484,72000,0,77125,0,0,0,81688,76367,0,103761,82185,87649,36317,0,55326,0,53258,56071,67800,129876,42130,80851,77939,31727,120895,94453,138588,47765,-9,142163,-9,111970,-9,-9,80249,104295,0,22029,56364,53796,32532,28781,42561,87569,27781,78768,63588,36980,76121,64184,-9,0,0,-9,0,-9,0,-9,23650,11224,0,13754,20588,57526,44263,57605,100661,78747,125392,49681,80852,131936,106400,101991,80839,90054,52419,51338,0,0,56954,61555,153857,0,41307,125049,114254,60603,58399,73766,64269,39438,63045,75098,0,0,0,0,83795,0,144570,93425,40856,0,0,147856,0,0,39624,55188,101680,64660,76859,59377,88920,115398,35841,59846,20314,56479,10529,130059,75618,57331,26261,36232,114608,27540,47796,62797,36855,22890,0,26424,66141,0,25730,35657,50708,0,36946,166223,39586,134279,141843,138975,46802,68226,49961,89285,127740,105312,75406,56044,63837,96449,47377,103508,97375,80677,35751,82746,58869,49452,87078,99782,133315,76148,82738,35671,64402,79031,75544,67412,48747,45818,125157,59773,128309,49634,39885,68848,0,94599,112962,118326,108634,57118,26607,17021,44492,58140,21245,12054,28914,27593,42692,101336,36024,121602,64961,115469,60561,113849,142299,105723,109353,151206,50377,123591,72382,127998,40216,0,101650,100339,75669,82269,106545,49965,49786,35511,96323,99003,62982,54625],["1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>state<\/th>\n      <th>col2<\/th>\n      <th>incumbent<\/th>\n      <th>dem<\/th>\n      <th>rep<\/th>\n      <th>year<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,3,4,5]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Next, I’ll create two data.frames, <code>cong1</code> and <code>cong2</code> with 1948, 1968, 1988 and 1950, 1970, 1990 data, respectively, then merge them row-wise in order to perform year-to-year calculations:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1948, 1968, and 1988 data</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>cong1 <span class="ot">&lt;-</span> congress_data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(</span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>  year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1948</span>, <span class="dv">1968</span>, <span class="dv">1988</span>)</span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">rename</span>(</span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># rename columns to avoid duplicates later on when joining the two data.frames</span></span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">state1 =</span> state,</span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">col21 =</span> col2,</span>
<span id="cb93-8"><a href="#cb93-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">incumbent1 =</span> incumbent,</span>
<span id="cb93-9"><a href="#cb93-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">dem1 =</span> dem,</span>
<span id="cb93-10"><a href="#cb93-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">rep1 =</span> rep,</span>
<span id="cb93-11"><a href="#cb93-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">year1 =</span> year</span>
<span id="cb93-12"><a href="#cb93-12" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb93-13"><a href="#cb93-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># create a lookup value to join the two data.frames by</span></span>
<span id="cb93-14"><a href="#cb93-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">election =</span> <span class="fu">case_when</span>(</span>
<span id="cb93-15"><a href="#cb93-15" aria-hidden="true" tabindex="-1"></a>    year1 <span class="sc">==</span> <span class="dv">1948</span> <span class="sc">~</span> <span class="st">"1948 to 1950"</span>,</span>
<span id="cb93-16"><a href="#cb93-16" aria-hidden="true" tabindex="-1"></a>    year1 <span class="sc">==</span> <span class="dv">1968</span> <span class="sc">~</span> <span class="st">"1968 to 1970"</span>,</span>
<span id="cb93-17"><a href="#cb93-17" aria-hidden="true" tabindex="-1"></a>    year1 <span class="sc">==</span> <span class="dv">1988</span> <span class="sc">~</span> <span class="st">"1988 to 1990"</span></span>
<span id="cb93-18"><a href="#cb93-18" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb93-19"><a href="#cb93-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">lookup =</span> <span class="fu">paste0</span>(state1, <span class="st">"-"</span>, col21, <span class="st">"-"</span>, election)</span>
<span id="cb93-20"><a href="#cb93-20" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb93-21"><a href="#cb93-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-22"><a href="#cb93-22" aria-hidden="true" tabindex="-1"></a><span class="co"># 1950, 1970 and 1990 data</span></span>
<span id="cb93-23"><a href="#cb93-23" aria-hidden="true" tabindex="-1"></a>cong2 <span class="ot">&lt;-</span> congress_data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(</span>
<span id="cb93-24"><a href="#cb93-24" aria-hidden="true" tabindex="-1"></a>  year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1950</span>, <span class="dv">1970</span>, <span class="dv">1990</span>)</span>
<span id="cb93-25"><a href="#cb93-25" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">rename</span>(</span>
<span id="cb93-26"><a href="#cb93-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># rename columns to avoid duplicates later on when joining the two data.frames</span></span>
<span id="cb93-27"><a href="#cb93-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">state2 =</span> state,</span>
<span id="cb93-28"><a href="#cb93-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">col22 =</span> col2,</span>
<span id="cb93-29"><a href="#cb93-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">incumbent2 =</span> incumbent,</span>
<span id="cb93-30"><a href="#cb93-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">dem2 =</span> dem,</span>
<span id="cb93-31"><a href="#cb93-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">rep2 =</span> rep,</span>
<span id="cb93-32"><a href="#cb93-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">year2 =</span> year</span>
<span id="cb93-33"><a href="#cb93-33" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb93-34"><a href="#cb93-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># create a lookup value to join the two data.frames by</span></span>
<span id="cb93-35"><a href="#cb93-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">election =</span> <span class="fu">case_when</span>(</span>
<span id="cb93-36"><a href="#cb93-36" aria-hidden="true" tabindex="-1"></a>    year2 <span class="sc">==</span> <span class="dv">1950</span> <span class="sc">~</span> <span class="st">"1948 to 1950"</span>,</span>
<span id="cb93-37"><a href="#cb93-37" aria-hidden="true" tabindex="-1"></a>    year2 <span class="sc">==</span> <span class="dv">1970</span> <span class="sc">~</span> <span class="st">"1968 to 1970"</span>,</span>
<span id="cb93-38"><a href="#cb93-38" aria-hidden="true" tabindex="-1"></a>    year2 <span class="sc">==</span> <span class="dv">1990</span> <span class="sc">~</span> <span class="st">"1988 to 1990"</span></span>
<span id="cb93-39"><a href="#cb93-39" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb93-40"><a href="#cb93-40" aria-hidden="true" tabindex="-1"></a>  <span class="at">lookup =</span> <span class="fu">paste0</span>(state2, <span class="st">"-"</span>, col22, <span class="st">"-"</span>, election)</span>
<span id="cb93-41"><a href="#cb93-41" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb93-42"><a href="#cb93-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-43"><a href="#cb93-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-44"><a href="#cb93-44" aria-hidden="true" tabindex="-1"></a><span class="co"># merge the two data.frames </span></span>
<span id="cb93-45"><a href="#cb93-45" aria-hidden="true" tabindex="-1"></a>cong <span class="ot">&lt;-</span> cong1 <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">left_join</span>(</span>
<span id="cb93-46"><a href="#cb93-46" aria-hidden="true" tabindex="-1"></a>  cong2,</span>
<span id="cb93-47"><a href="#cb93-47" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> <span class="st">"lookup"</span></span>
<span id="cb93-48"><a href="#cb93-48" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb93-49"><a href="#cb93-49" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculate democrat vote proportion</span></span>
<span id="cb93-50"><a href="#cb93-50" aria-hidden="true" tabindex="-1"></a>  <span class="at">dvote1 =</span> dem1 <span class="sc">/</span> (dem1 <span class="sc">+</span> rep1),</span>
<span id="cb93-51"><a href="#cb93-51" aria-hidden="true" tabindex="-1"></a>  <span class="at">dvote2 =</span> dem2 <span class="sc">/</span> (dem2 <span class="sc">+</span> rep2),</span>
<span id="cb93-52"><a href="#cb93-52" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculate difference in democrat vote proportion between election years</span></span>
<span id="cb93-53"><a href="#cb93-53" aria-hidden="true" tabindex="-1"></a>  <span class="at">dvote_diff=</span> dvote2 <span class="sc">-</span> dvote1,</span>
<span id="cb93-54"><a href="#cb93-54" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculate whether an election is contested</span></span>
<span id="cb93-55"><a href="#cb93-55" aria-hidden="true" tabindex="-1"></a>  <span class="co"># an election is contested if the dem vote in both years is </span></span>
<span id="cb93-56"><a href="#cb93-56" aria-hidden="true" tabindex="-1"></a>  <span class="co"># between 20% and 80%</span></span>
<span id="cb93-57"><a href="#cb93-57" aria-hidden="true" tabindex="-1"></a>  <span class="at">contested =</span> <span class="fu">case_when</span>(</span>
<span id="cb93-58"><a href="#cb93-58" aria-hidden="true" tabindex="-1"></a>    (<span class="fu">abs</span>(dvote1 <span class="sc">-</span> <span class="fl">0.5</span>)) <span class="sc">&lt;</span> <span class="fl">0.3</span> <span class="sc">&amp;</span> (<span class="fu">abs</span>(dvote2 <span class="sc">-</span> <span class="fl">0.5</span>) <span class="sc">&lt;</span> <span class="fl">0.3</span>) <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb93-59"><a href="#cb93-59" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb93-60"><a href="#cb93-60" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb93-61"><a href="#cb93-61" aria-hidden="true" tabindex="-1"></a>  <span class="co"># standardize incumbent flag in the first election year</span></span>
<span id="cb93-62"><a href="#cb93-62" aria-hidden="true" tabindex="-1"></a>  <span class="at">inc =</span> <span class="fu">abs</span>(incumbent1),</span>
<span id="cb93-63"><a href="#cb93-63" aria-hidden="true" tabindex="-1"></a>  <span class="co"># remove values that are not applicable</span></span>
<span id="cb93-64"><a href="#cb93-64" aria-hidden="true" tabindex="-1"></a>  <span class="at">inc =</span> <span class="fu">na_if</span>(inc, <span class="dv">9</span>),</span>
<span id="cb93-65"><a href="#cb93-65" aria-hidden="true" tabindex="-1"></a>  <span class="at">inc =</span> <span class="fu">na_if</span>(inc, <span class="dv">3</span>),</span>
<span id="cb93-66"><a href="#cb93-66" aria-hidden="true" tabindex="-1"></a>  <span class="at">inc =</span> <span class="fu">as.character</span>(inc),</span>
<span id="cb93-67"><a href="#cb93-67" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculate region code</span></span>
<span id="cb93-68"><a href="#cb93-68" aria-hidden="true" tabindex="-1"></a>  <span class="at">region =</span> <span class="fu">floor</span>(state1<span class="sc">/</span><span class="dv">20</span>) <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb93-69"><a href="#cb93-69" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(</span>
<span id="cb93-70"><a href="#cb93-70" aria-hidden="true" tabindex="-1"></a>  <span class="co"># only include contested elections</span></span>
<span id="cb93-71"><a href="#cb93-71" aria-hidden="true" tabindex="-1"></a>  contested <span class="sc">==</span> <span class="dv">1</span>,</span>
<span id="cb93-72"><a href="#cb93-72" aria-hidden="true" tabindex="-1"></a>  <span class="co"># only include four main regions</span></span>
<span id="cb93-73"><a href="#cb93-73" aria-hidden="true" tabindex="-1"></a>  region <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb93-74"><a href="#cb93-74" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb93-75"><a href="#cb93-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-76"><a href="#cb93-76" aria-hidden="true" tabindex="-1"></a><span class="co"># %&gt;% mutate(</span></span>
<span id="cb93-77"><a href="#cb93-77" aria-hidden="true" tabindex="-1"></a><span class="co">#   # change region to text</span></span>
<span id="cb93-78"><a href="#cb93-78" aria-hidden="true" tabindex="-1"></a><span class="co">#   region = case_when(</span></span>
<span id="cb93-79"><a href="#cb93-79" aria-hidden="true" tabindex="-1"></a><span class="co">#     region == 1 ~ "Northeast",</span></span>
<span id="cb93-80"><a href="#cb93-80" aria-hidden="true" tabindex="-1"></a><span class="co">#     region == 2 ~ "Midwest",</span></span>
<span id="cb93-81"><a href="#cb93-81" aria-hidden="true" tabindex="-1"></a><span class="co">#     region == 3 ~ "South",</span></span>
<span id="cb93-82"><a href="#cb93-82" aria-hidden="true" tabindex="-1"></a><span class="co">#     region == 4 ~ "West"</span></span>
<span id="cb93-83"><a href="#cb93-83" aria-hidden="true" tabindex="-1"></a><span class="co">#   )</span></span>
<span id="cb93-84"><a href="#cb93-84" aria-hidden="true" tabindex="-1"></a><span class="co"># )</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(cong, <span class="at">options=</span><span class="fu">list</span>(<span class="at">scrollX=</span><span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-0415e7fdab5b57e911eb" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-0415e7fdab5b57e911eb">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490","491","492","493","494","495","496","497","498","499","500","501","502","503","504","505","506","507","508","509","510","511","512","513","514","515","516","517","518","519","520","521","522","523","524","525","526","527","528","529","530","531","532","533","534","535","536","537","538","539","540","541","542","543","544","545","546","547","548","549","550","551","552","553","554","555","556","557","558","559","560","561","562","563","564","565","566","567","568","569","570","571","572","573","574","575","576","577","578","579","580","581","582","583","584","585","586","587","588","589","590","591","592","593","594","595","596","597","598","599","600","601","602","603","604","605","606","607","608","609","610","611","612","613","614","615","616","617","618","619","620","621","622","623","624","625","626","627","628","629","630","631","632","633","634","635","636","637","638","639","640","641","642","643","644","645","646","647","648","649","650","651","652","653","654","655","656","657","658","659","660","661","662","663","664","665","666","667","668","669","670","671","672","673","674","675","676","677","678","679","680","681","682","683","684","685","686","687","688","689","690","691","692","693","694","695","696","697","698","699","700","701","702","703","704","705","706","707","708","709","710","711","712","713","714","715","716","717","718","719","720","721","722","723","724","725","726","727","728","729","730","731","732","733","734","735","736","737","738","739","740","741","742","743","744","745","746","747","748","749","750","751","752","753","754","755","756","757","758","759","760","761","762","763","764","765","766","767","768","769","770","771","772","773","774","775","776","777","778","779","780","781","782","783","784","785","786","787","788","789","790","791","792","793","794","795","796","797","798","799","800","801","802","803","804","805","806","807","808","809","810","811","812","813","814","815","816","817","818","819","820","821","822","823","824","825","826","827","828","829","830","831","832","833","834","835","836","837","838","839","840","841","842","843","844","845","846","847","848","849","850","851","852","853","854","855","856","857","858","859","860","861","862","863","864","865","866","867","868","869","870","871","872","873","874","875","876","877","878","879","880","881","882","883","884","885","886","887","888","889","890","891","892","893","894","895","896","897","898","899","900","901","902","903","904","905","906","907","908","909","910","911","912","913","914","915","916","917","918","919","920","921","922","923","924","925","926","927","928","929","930","931","932","933","934","935","936","937","938","939","940","941","942","943","944","945","946","947"],[1,1,1,1,1,1,2,2,2,3,3,3,3,3,3,3,3,3,3,4,4,5,5,6,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,31,31,31,31,31,31,31,31,32,32,32,32,32,32,33,33,33,33,33,33,33,33,33,34,34,34,34,34,34,34,34,34,34,34,34,35,35,35,35,36,36,37,37,40,40,40,43,43,47,47,47,47,47,47,47,51,51,51,51,52,52,52,52,52,52,53,53,53,53,53,53,53,56,56,56,56,56,56,61,61,61,61,62,62,62,62,63,63,64,64,65,66,66,67,67,68,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,72,72,72,72,73,73,73,73,73,73,1,1,1,1,1,1,1,2,2,3,3,3,3,3,3,4,4,5,5,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,31,31,31,31,31,31,31,32,32,32,32,32,33,33,33,33,33,33,33,33,34,34,34,34,34,34,34,34,35,35,35,36,36,37,37,40,40,40,40,40,40,40,40,41,41,41,42,43,43,43,43,43,43,43,44,44,45,47,47,47,47,47,47,47,47,48,48,48,48,49,49,49,49,49,49,49,51,51,51,51,52,52,52,52,52,52,52,52,53,53,53,53,53,54,54,54,54,56,56,56,56,56,61,61,61,62,62,62,62,63,63,64,64,66,66,66,66,67,67,68,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,72,72,72,73,73,73,73,73,73,73,1,1,1,1,1,1,2,2,3,3,3,4,4,5,5,6,11,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,31,31,31,32,32,32,32,33,33,33,33,33,33,33,33,34,34,34,34,34,34,34,34,34,35,35,35,36,37,40,40,40,41,41,42,42,42,43,43,43,43,43,43,44,44,44,44,44,44,44,44,46,47,47,47,47,47,47,47,47,47,48,48,48,49,49,49,49,49,49,49,49,51,51,51,51,52,52,52,52,52,52,53,53,53,53,54,54,56,56,61,61,61,62,62,62,62,62,62,63,63,64,64,65,65,66,66,67,67,67,68,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,72,72,72,73,73,73,73,73,73,73],["1","2","3","4","5","98","1","2","3","1","2","3","4","7","8","9","10","13","14","1","2","1","2","98","98","1","2","3","4","5","6","7","8","9","10","11","12","13","14","1","2","3","4","5","6","7","8","9","10","11","12","13","14","16","17","18","19","20","21","23","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","97","98","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","98","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","98","1","2","3","4","5","6","7","8","9","10","11","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","1","2","3","4","5","6","8","9","10","11","12","13","14","15","16","17","18","19","21","22","98","1","2","3","4","5","6","7","8","10","1","2","3","4","5","6","7","8","1","2","3","4","5","6","1","2","3","4","5","6","7","8","9","1","2","3","4","5","6","7","8","9","11","12","13","1","2","3","4","97","98","1","2","7","8","9","5","98","4","6","8","9","10","11","12","3","5","7","8","1","2","3","4","5","6","1","2","4","5","6","7","8","1","2","3","4","5","6","1","2","97","98","1","2","3","4","1","2","1","2","98","97","98","1","2","98","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","1","2","3","4","1","2","3","4","5","6","1","2","3","4","5","6","98","1","2","3","4","5","6","7","10","1","2","1","2","98","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","1","2","3","4","5","8","10","14","15","16","17","19","24","25","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","1","2","3","4","5","6","7","8","9","10","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","2","3","4","5","6","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","1","2","3","4","5","6","7","8","9","10","11","2","3","4","5","6","7","8","9","10","11","12","14","15","16","17","18","19","98","1","2","3","5","6","7","9","10","11","12","13","14","15","16","17","18","19","21","22","23","24","98","1","2","3","5","6","7","8","9","10","1","2","3","4","5","6","7","1","2","3","4","5","1","2","3","4","5","6","7","8","2","3","4","5","6","8","9","10","1","2","3","1","2","1","2","2","3","4","5","7","8","9","10","1","2","6","3","4","5","6","7","9","10","12","4","5","2","1","3","4","5","6","8","10","11","2","3","5","6","3","5","9","13","21","22","98","3","4","6","7","1","2","4","5","6","7","8","98","1","2","4","5","6","3","5","7","9","1","2","3","4","5","1","2","3","1","2","3","4","1","2","1","2","1","2","97","98","1","2","98","1","3","4","5","6","7","8","9","10","13","14","15","16","17","18","19","20","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","2","3","4","1","2","3","4","5","6","7","1","2","3","4","5","6","1","2","4","6","10","1","2","1","2","98","98","1","3","4","5","6","7","9","11","12","13","14","1","2","3","4","5","14","15","16","19","20","21","22","23","24","27","29","30","31","32","1","3","4","5","6","7","8","9","10","13","14","15","16","17","18","22","23","3","4","5","6","9","10","11","13","14","16","17","19","20","21","1","2","3","4","5","6","7","8","9","10","2","3","4","5","7","8","9","10","11","12","14","15","17","18","1","2","5","6","7","8","10","11","12","13","14","15","16","17","18","19","2","3","5","7","8","2","5","6","2","3","4","5","1","2","3","4","5","6","7","8","1","2","3","4","5","6","7","8","9","1","2","3","98","98","1","8","10","5","7","1","3","4","1","4","6","11","14","19","1","2","4","5","6","7","9","10","1","1","4","5","6","7","8","9","10","11","1","3","4","1","5","6","13","14","22","23","26","2","3","4","7","1","2","3","4","6","8","1","2","5","6","3","6","1","4","2","3","5","1","2","3","4","5","6","1","2","1","2","1","2","1","3","1","2","3","98","1","2","3","5","6","7","8","9","11","12","13","14","15","16","17","19","20","21","22","23","24","26","27","28","30","31","32","33","34","35","36","37","38","39","40","41","42","44","1","2","5","1","3","4","5","6","7","8"],[-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,1,1,1,-1,0,-1,-1,-1,-1,-1,1,1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,0,-1,-1,1,1,-1,-1,-1,-1,-1,-1,1,1,1,1,1,1,1,1,0,-1,-9,1,1,-1,1,1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-9,-9,0,-1,-1,-1,-1,-1,0,0,-1,0,0,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,1,-1,-1,1,-1,-1,-1,-1,1,1,-9,1,-1,-1,0,1,1,1,1,-1,0,0,0,-1,-1,-1,-1,-1,0,-1,-1,0,-1,-1,-1,1,-1,-9,1,-1,-1,-1,-1,0,-1,-1,-1,0,0,-1,-1,-1,0,-1,-1,-1,-1,-1,0,-1,-1,-1,1,1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,1,1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,0,0,-1,-1,0,0,0,-1,-1,1,-1,-1,-1,-1,-9,-9,0,-1,1,1,0,0,-9,1,1,1,1,1,1,1,-1,1,-1,1,-1,0,0,1,1,-1,0,1,0,1,1,0,0,-1,-1,-1,-1,1,1,1,0,-9,-9,1,-1,-1,-1,-1,-1,1,-1,-1,-9,-9,1,-1,-1,-9,-9,1,-9,-9,-1,-9,-1,-9,-9,-9,-1,1,-9,-1,-9,-1,1,-9,1,-9,-1,-1,-1,-1,-1,-1,1,0,-1,-1,-1,1,1,1,1,1,-1,-9,1,1,1,1,-1,-1,1,-1,-1,-1,1,1,-1,-1,-1,1,1,-1,-1,-1,1,1,1,1,-1,1,1,1,1,-1,1,-1,0,1,1,1,1,1,0,1,0,1,1,0,-1,-1,-1,-1,-1,1,1,-1,-1,0,1,-1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,0,1,1,-1,-1,-1,-1,0,1,-1,-1,1,1,1,-1,0,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,1,1,1,0,1,3,-1,-1,-1,-1,1,0,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,1,1,1,-1,-1,-9,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,0,3,-1,-1,-9,-1,1,-1,1,-1,-1,-1,-1,-1,-1,1,-1,-1,1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,1,1,-1,-1,1,0,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,1,1,0,1,-1,-1,-1,-1,-1,-1,-1,0,0,1,1,1,-1,1,-1,-1,1,1,1,1,0,0,0,3,1,-1,1,1,1,-1,1,1,1,1,1,-9,-1,-1,1,1,-1,1,1,1,0,1,-1,-9,-1,1,3,1,0,-1,1,1,-1,0,1,1,1,1,-1,1,-1,1,-1,1,1,-1,0,1,-1,1,1,-9,-9,-1,-1,0,-1,1,1,1,-1,1,1,1,-1,-1,1,1,1,0,-1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1,1,1,1,1,1,-1,-1,-1,1,-1,1,1,1,-1,-1,1,-1,0,1,1,1,-1,-1,1,-1,1,-1,-1,-1,1,1,1,1,-1,-1,-1,-1,-9,0,-1,-1,-1,0,-1,0,-1,1,0,1,1,1,1,-1,1,-1,1,-9,-1,-1,1,-1,-1,-9,1,1,-1,1,-1,1,-1,1,-1,1,-1,-1,-1,1,1,1,1,1,1,-1,-1,1,-1,-1,1,1,1,-1,1,-1,1,1,1,-1,-1,-1,1,1,1,1,-1,1,-1,0,-1,-1,-1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,-1,1,-1,-1,1,1,1,-1,1,1,-1,1,1,1,-1,0,-1,1,-1,0,-1,1,1,-1,-1,-1,1,1,1,-1,1,1,1,0,1,0,1,1,1,-1,1,-1,1,1,1,1,1,1,1,-1,1,1,-1,-1,1,-1,1,1,1,1,-1,0,-1,-1,1,-1,1,1,-1,1,1,-1,1,1,1,-1,-1,1,-1,1,1,1,1,1,1,-1,-1,1,1,1,-1,-1,-1,-1,1,1,-1,1,-1,0,1,-1,1,-1,-1,1,-1,1,1,1,1,1,1,1,0,1,-1,1,1,-1,-1,-1,0,-1,1,1,1,1,1,1,1,1,-1,1,-1,1,-1,1,-1,0,-1,0,1,1,-1,-1,-1,0,-1,1,1,0,-1],[127802,69339,84449,92618,58300,429348,31528,24698,15888,56604,81775,104601,89064,100333,72767,63275,52022,69050,55369,51262,43289,95045,98586,47767,68909,77012,38194,59810,77018,66387,61465,56095,59043,54682,58668,52644,58495,84487,76881,48816,62142,65247,62190,83213,76828,65162,61037,59711,69502,74974,55021,66111,-9,51185,52101,-9,77426,73866,64654,-9,-9,91456,67541,46335,48063,49691,58215,88476,52059,43777,62855,71847,35503,48222,37272,85505,45155,69290,72388,79795,35406,-9,-9,70165,82863,70075,70129,77221,65535,56263,42878,36677,64289,68628,44345,40415,25484,30457,42118,21339,46586,24800,54041,54152,30454,42084,56282,51391,62061,64943,54402,63454,56233,58113,80600,74508,-9,98690,91648,91204,89557,114660,127918,133199,101098,91271,78533,80750,88795,58340,44050,57296,54481,42226,56688,59397,52235,69619,56893,53885,56262,101927,51028,-9,78898,57245,86382,66689,91861,65931,74396,89990,55333,67081,103046,50148,42146,31429,46972,72681,47040,37125,35805,27742,27265,32485,76947,99227,92579,97826,103390,69240,75062,110204,45534,32076,46944,36685,85409,27913,32667,87770,38264,125346,45575,79859,53651,65475,134448,72417,141018,1455972,61791,62953,30650,89391,91072,47844,37307,53287,39523,60860,70272,56002,49894,57370,43997,44857,45796,44711,63431,38391,70778,41614,40553,50533,46894,87171,78476,65113,66601,57863,88501,47476,56226,66062,69599,74752,59961,63390,52255,60081,56669,78162,132920,77245,57031,58443,38846,37511,-9,-9,85957,18988,25799,33563,33550,46939,-9,57658,50659,46941,51586,48043,40009,52036,64877,47518,39788,52328,27024,99157,32138,38486,45902,48304,77949,43801,53419,95248,47857,39380,42417,68829,61786,68055,72378,71664,99842,42565,54066,-9,-9,106096,66579,65114,34695,46846,59006,64276,58711,29733,-9,-9,66641,92770,47246,-9,-9,73704,-9,-9,74318,-9,72826,-9,-9,-9,56624,89581,-9,91268,-9,105687,72900,-9,61383,-9,112534,45904,30743,66436,32931,100030,83824,56947,51195,56343,54166,124966,106203,102636,104723,110337,76413,-9,113501,102369,91587,121211,81875,70304,119562,66949,57959,35942,97945,124044,82993,74703,73361,113587,92710,63208,71338,71123,100653,97599,89109,91496,58112,83151,87187,107316,118913,53552,98226,45130,99193,120257,106622,42149,59707,73253,84627,44843,83234,125415,88894,86827,87896,62897,61947,43254,50549,96520,112640,46008,50930,47093,120509,56201,96703,113696,102869,75728,131810,108243,94247,79782,60324,56532,61960,55838,84137,96117,106877,39507,57093,68434,65903,109236,93033,71297,54453,106869,105048,95898,62638,106642,101729,70145,96584,94779,105003,119032,73766,128152,50525,69987,66293,55291,53838,65192,68173,66135,63412,111425,63957,104349,113507,90055,85084,94452,93515,67370,76940,78045,91642,102707,83981,80015,75009,58692,52441,62219,57839,67779,47639,53886,54152,66251,131517,101961,106960,105690,123376,82234,75250,-9,49830,52327,32012,45884,40964,55386,85280,45686,38063,51202,59864,68889,35861,68916,54127,96711,101813,85509,102656,98825,44400,-9,86067,107804,54517,76607,60059,56964,52660,73891,54889,81049,103651,57164,71134,99586,54171,46774,82102,53151,59672,55621,59005,62916,68528,86434,129082,108588,81578,79067,115343,115476,106150,104056,86681,102315,108416,108184,78326,78374,71254,58728,39692,54655,61738,50683,43229,94118,81723,70681,64717,49731,47906,65474,40593,37533,34608,59642,86251,67505,84193,91539,111539,82138,82362,58154,63183,81537,75796,57244,77871,77112,76028,67281,72295,91477,47053,74104,72805,58304,55939,79317,71937,83839,91784,101498,-9,55366,55971,78536,82594,31250,86025,60651,79870,63597,81048,70109,-9,63451,77192,67352,86420,64599,57565,61045,80893,45434,85436,91022,82911,94507,80204,54594,102301,46072,91199,89917,88368,92680,62002,54256,74974,39752,78117,69858,-9,-9,65265,80948,45950,37756,107446,90126,95630,54928,102689,104768,101329,73720,78628,152847,86386,97476,77250,51373,99069,57064,103695,52202,57972,66263,134642,62824,65233,76091,76967,97855,46404,59649,107113,74798,59011,96130,121749,114232,137746,72579,76456,102522,89777,49601,88446,93399,123429,176463,143326,147394,55751,58612,78814,190989,85346,169729,177643,187178,86623,89677,84141,56129,45330,158338,141988,117024,79066,54828,120125,52189,142012,64773,71596,73561,104001,105624,107646,128336,59479,68930,57503,64425,-9,77158,102235,47294,54312,145040,62177,90854,51243,128364,102777,133917,128076,135590,124041,42758,114119,73745,128153,-9,51179,76424,135181,79127,48169,-9,136924,123428,63476,132111,91282,93567,54804,135583,60187,131753,74424,57482,72431,132130,132889,153341,105836,138251,116915,97934,80915,116240,71447,80738,141355,147193,105846,98290,112605,54428,62868,150832,139904,64843,55398,86526,108158,111612,104596,135493,57643,117682,58637,80292,52635,50423,49084,56893,124600,41178,137074,148951,49441,43356,162526,151306,168065,151501,72935,140518,142197,72708,86438,66599,69614,135694,53959,122777,54327,161118,96016,99770,181227,174416,169486,101011,165656,140751,91645,150205,166480,149166,93128,111244,84801,160872,72167,112174,45183,212583,223759,49614,93561,88284,120142,136074,-9,54767,129508,142449,124817,118756,168390,173292,135355,94531,85029,148394,135194,76824,135056,121800,118156,137445,118027,131896,110516,70008,102392,99214,71802,71865,108436,57691,89071,90234,122566,95376,78786,98345,111395,58471,116423,86490,92184,131981,50575,96946,96128,63114,133779,128624,166753,102478,93101,136009,53668,122887,108264,123652,119256,78812,99895,72417,78115,133922,147437,169284,57552,60116,77158,70328,127956,115278,78069,101764,75163,84138,124938,87976,112129,60018,56527,159815,91088,183470,133530,176645,170006,163221,152866,145484,121523,143980,103899,118710,117452,51730,112033,62037,75539,61555,147858,112038,126930,148814,109801,72253,100919,114666,57586,92087,71186,103493,89666,52399,52162,80782,88192,78778,90796,179915,74700,110782,122646,109390,48850,160654,125904,173809,71920],[103294,64916,83310,117727,62804,433311,52536,50552,38692,75582,67267,36855,61448,26339,75844,82750,118741,89913,87973,64794,59505,58209,66672,74076,71127,89211,62804,87538,48204,92286,83285,72873,59191,90153,52898,50920,63232,39661,45564,101924,144052,104476,58192,72012,55844,43483,25773,26700,32290,41289,29061,44718,-9,45623,74581,-9,20697,34819,66527,-9,-9,57061,81144,88822,79229,91649,77725,65341,98618,70715,62717,78409,65848,66695,70659,90305,67882,75842,66729,71275,58340,-9,-9,61165,69604,76009,50236,75007,86755,91394,62229,74726,45587,63797,68089,37261,47715,48760,84997,38735,81704,43520,37904,46701,46451,35384,29768,56966,50005,39517,65276,53609,56932,75147,30328,33107,-9,43034,85119,81175,82310,43610,53548,47602,54316,73301,109031,78269,98956,123978,94962,74213,76840,71220,61652,69733,59067,61452,64625,57800,57732,44728,54993,-9,50194,71907,78935,63403,82730,66414,62855,71634,59787,76036,98451,65006,64637,61059,74191,73465,68903,61394,51771,49206,48633,42955,45761,74474,49286,57730,116427,73952,66968,79162,57321,34950,41492,43929,73394,38330,33796,95575,55408,92535,35294,71871,60234,55455,63079,22932,170085,1342409,67387,74306,69727,63161,76782,60675,64531,70905,52124,70959,82139,78838,53384,60103,55641,59173,56970,68395,68324,46935,88605,77160,55013,80345,82886,72402,53574,76313,62194,63879,44306,57189,41365,50372,52290,41576,47371,59959,61242,44887,35232,40719,107861,32217,76359,55199,71513,65549,-9,-9,99062,36713,16890,25420,30466,19501,-9,15866,17906,27924,35008,32321,21614,30456,74168,24240,26007,34127,29700,76235,13131,21084,30997,59856,68423,18236,20716,45985,17100,10236,30687,51381,51226,51123,64001,38446,59900,29864,30140,-9,-9,57541,71868,63312,32206,41404,61690,29937,61124,28972,-9,-9,46229,68693,50218,-9,-9,68875,-9,-9,78534,-9,66563,-9,-9,-9,62951,44611,-9,121198,-9,92721,28698,-9,47411,-9,87138,88587,42730,99464,65606,92215,48413,61856,58105,67757,72988,74615,89098,80696,113749,85591,126208,-9,86949,81398,46860,77658,124930,136951,71689,138220,100269,88609,62394,78502,117827,105856,91218,82441,106504,143963,138060,120523,62661,95267,47989,46426,146264,52159,50829,88043,79208,129731,75910,116190,96427,37314,44551,18396,31802,69126,70086,27959,46510,74275,94689,91590,119039,124995,88562,95793,110080,82333,47849,138400,129697,90281,92589,106984,27920,38432,44041,47813,88229,48455,87090,105699,94254,100399,125916,119522,141764,39671,70333,98877,119003,121664,93352,44037,55099,98576,87968,66429,59576,50594,130784,56513,86535,151216,77887,63999,62254,65687,148398,101665,120370,186714,163332,121432,111037,122513,106122,114948,124121,94363,115258,88945,45649,68318,104238,86354,98977,114537,142207,115921,109585,86012,98090,70725,90804,109754,100128,105085,103423,104502,105238,111774,104791,94513,54760,59757,43582,37000,40906,124025,104057,-9,102219,108157,114549,113381,107289,97581,63290,102890,116323,106664,97158,84561,98499,101495,100148,63747,44363,28931,84975,106852,105350,-9,89182,72229,95606,35536,111934,101808,111859,126392,106266,91419,84634,101839,83259,60710,100802,86212,87012,110768,100877,101991,107085,138400,100623,158989,81392,78819,104664,83113,55209,101500,38439,75790,45951,85237,79179,98923,66830,97697,87683,123838,84114,55962,85232,73987,51184,62082,32548,34608,51349,92121,71531,97465,60318,60743,69445,121771,76974,108620,51637,74896,87074,99844,62032,78753,79258,77633,38660,48815,73471,84905,65703,70480,87811,71041,63877,35463,21246,39876,81696,49821,46829,66477,59082,61278,-9,70318,103793,58905,50699,87078,59635,31813,89073,71714,20745,109167,-9,92513,63437,58253,30931,79992,76390,52836,41457,73293,73176,56911,54164,52636,41038,137761,43235,79667,82677,152153,81173,76776,90870,65029,64862,83888,88517,71857,-9,-9,139456,130127,77363,133597,80193,67225,31157,151336,48397,58887,77847,160563,151608,56730,74058,55188,73351,100115,53842,136238,75457,97232,155443,145245,64505,162854,173680,69485,37234,65004,142401,123507,103470,216093,148854,52547,68887,64478,59447,104159,124513,79800,68387,99840,67304,72177,64051,51985,81965,74275,147843,163729,157020,111125,167229,71661,77186,93564,131824,119742,105506,145218,98937,76179,60037,107479,155283,175562,74824,153350,68363,154654,165918,167470,47293,102327,66972,91122,151038,134881,99179,107599,-9,37454,96465,150443,144227,89858,162962,124928,132608,89126,117710,50229,39749,78909,52402,153453,65278,155387,93648,-9,140096,152191,36719,106951,136944,-9,80975,47039,105575,80181,90243,59128,153425,67604,158519,72489,172992,161146,128365,71560,73981,69303,95385,41076,102846,116309,132843,90163,192064,130578,87321,60946,68978,120070,83769,132270,166569,47071,54195,149748,152646,129085,91780,64750,56963,55197,195579,90738,153162,123838,152235,142597,154164,143673,78028,154727,59287,50356,146854,158824,47929,46130,70359,107457,157513,78307,86077,167275,113543,117761,125859,49498,150223,69165,127722,67709,131639,215322,67073,60646,89209,121396,56630,53109,186450,86763,65393,60453,135883,127939,117601,76008,146231,109193,170302,84475,88157,135937,154761,187850,64491,63372,-9,161623,57658,70534,125608,135415,108373,142635,51628,46552,52807,97745,37693,110169,73425,71905,66521,38381,63013,95482,99540,116534,49855,93463,139014,112554,106907,101572,75571,82793,74357,59877,164692,89105,96042,125733,60559,194944,59907,57387,145609,68165,94588,157956,49733,59688,54528,172619,103458,73659,139182,45239,80372,38033,40732,49753,36309,174453,164462,57587,87578,47625,156202,181612,136487,135221,68226,74405,97465,53588,105981,89985,45954,130893,80212,129951,118350,72189,139010,74296,33692,64174,78478,76531,56656,50050,136384,63959,173876,47957,48375,129568,116026,162779,181413,164699,77184,36835,53518,65307,28645,43833,36017,50710,151704,50954,181203,81413,174284,87690,169360,181269,187380,153280,55511,78626,125366,111489,152265,108763,142938,49657,60346,53902,174942],["1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1948","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1968","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988","1988"],["1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990"],["1-1-1948 to 1950","1-2-1948 to 1950","1-3-1948 to 1950","1-4-1948 to 1950","1-5-1948 to 1950","1-98-1948 to 1950","2-1-1948 to 1950","2-2-1948 to 1950","2-3-1948 to 1950","3-1-1948 to 1950","3-2-1948 to 1950","3-3-1948 to 1950","3-4-1948 to 1950","3-7-1948 to 1950","3-8-1948 to 1950","3-9-1948 to 1950","3-10-1948 to 1950","3-13-1948 to 1950","3-14-1948 to 1950","4-1-1948 to 1950","4-2-1948 to 1950","5-1-1948 to 1950","5-2-1948 to 1950","6-98-1948 to 1950","11-98-1948 to 1950","12-1-1948 to 1950","12-2-1948 to 1950","12-3-1948 to 1950","12-4-1948 to 1950","12-5-1948 to 1950","12-6-1948 to 1950","12-7-1948 to 1950","12-8-1948 to 1950","12-9-1948 to 1950","12-10-1948 to 1950","12-11-1948 to 1950","12-12-1948 to 1950","12-13-1948 to 1950","12-14-1948 to 1950","13-1-1948 to 1950","13-2-1948 to 1950","13-3-1948 to 1950","13-4-1948 to 1950","13-5-1948 to 1950","13-6-1948 to 1950","13-7-1948 to 1950","13-8-1948 to 1950","13-9-1948 to 1950","13-10-1948 to 1950","13-11-1948 to 1950","13-12-1948 to 1950","13-13-1948 to 1950","13-14-1948 to 1950","13-16-1948 to 1950","13-17-1948 to 1950","13-18-1948 to 1950","13-19-1948 to 1950","13-20-1948 to 1950","13-21-1948 to 1950","13-23-1948 to 1950","13-25-1948 to 1950","13-26-1948 to 1950","13-27-1948 to 1950","13-28-1948 to 1950","13-29-1948 to 1950","13-30-1948 to 1950","13-31-1948 to 1950","13-32-1948 to 1950","13-33-1948 to 1950","13-34-1948 to 1950","13-35-1948 to 1950","13-36-1948 to 1950","13-37-1948 to 1950","13-38-1948 to 1950","13-39-1948 to 1950","13-40-1948 to 1950","13-41-1948 to 1950","13-42-1948 to 1950","13-43-1948 to 1950","13-44-1948 to 1950","13-45-1948 to 1950","13-97-1948 to 1950","13-98-1948 to 1950","14-1-1948 to 1950","14-2-1948 to 1950","14-3-1948 to 1950","14-4-1948 to 1950","14-5-1948 to 1950","14-6-1948 to 1950","14-7-1948 to 1950","14-8-1948 to 1950","14-9-1948 to 1950","14-10-1948 to 1950","14-11-1948 to 1950","14-12-1948 to 1950","14-13-1948 to 1950","14-14-1948 to 1950","14-15-1948 to 1950","14-16-1948 to 1950","14-17-1948 to 1950","14-18-1948 to 1950","14-19-1948 to 1950","14-20-1948 to 1950","14-21-1948 to 1950","14-22-1948 to 1950","14-23-1948 to 1950","14-24-1948 to 1950","14-25-1948 to 1950","14-26-1948 to 1950","14-27-1948 to 1950","14-28-1948 to 1950","14-29-1948 to 1950","14-30-1948 to 1950","14-31-1948 to 1950","14-32-1948 to 1950","14-33-1948 to 1950","14-98-1948 to 1950","21-1-1948 to 1950","21-2-1948 to 1950","21-3-1948 to 1950","21-4-1948 to 1950","21-5-1948 to 1950","21-6-1948 to 1950","21-7-1948 to 1950","21-8-1948 to 1950","21-9-1948 to 1950","21-10-1948 to 1950","21-11-1948 to 1950","21-12-1948 to 1950","21-13-1948 to 1950","21-14-1948 to 1950","21-15-1948 to 1950","21-16-1948 to 1950","21-17-1948 to 1950","21-18-1948 to 1950","21-19-1948 to 1950","21-20-1948 to 1950","21-21-1948 to 1950","21-22-1948 to 1950","21-23-1948 to 1950","21-24-1948 to 1950","21-25-1948 to 1950","21-26-1948 to 1950","21-98-1948 to 1950","22-1-1948 to 1950","22-2-1948 to 1950","22-3-1948 to 1950","22-4-1948 to 1950","22-5-1948 to 1950","22-6-1948 to 1950","22-7-1948 to 1950","22-8-1948 to 1950","22-9-1948 to 1950","22-10-1948 to 1950","22-11-1948 to 1950","23-2-1948 to 1950","23-3-1948 to 1950","23-4-1948 to 1950","23-5-1948 to 1950","23-6-1948 to 1950","23-7-1948 to 1950","23-8-1948 to 1950","23-9-1948 to 1950","23-10-1948 to 1950","23-11-1948 to 1950","23-12-1948 to 1950","23-13-1948 to 1950","23-14-1948 to 1950","23-15-1948 to 1950","23-16-1948 to 1950","23-17-1948 to 1950","24-1-1948 to 1950","24-2-1948 to 1950","24-3-1948 to 1950","24-4-1948 to 1950","24-5-1948 to 1950","24-6-1948 to 1950","24-8-1948 to 1950","24-9-1948 to 1950","24-10-1948 to 1950","24-11-1948 to 1950","24-12-1948 to 1950","24-13-1948 to 1950","24-14-1948 to 1950","24-15-1948 to 1950","24-16-1948 to 1950","24-17-1948 to 1950","24-18-1948 to 1950","24-19-1948 to 1950","24-21-1948 to 1950","24-22-1948 to 1950","24-98-1948 to 1950","25-1-1948 to 1950","25-2-1948 to 1950","25-3-1948 to 1950","25-4-1948 to 1950","25-5-1948 to 1950","25-6-1948 to 1950","25-7-1948 to 1950","25-8-1948 to 1950","25-10-1948 to 1950","31-1-1948 to 1950","31-2-1948 to 1950","31-3-1948 to 1950","31-4-1948 to 1950","31-5-1948 to 1950","31-6-1948 to 1950","31-7-1948 to 1950","31-8-1948 to 1950","32-1-1948 to 1950","32-2-1948 to 1950","32-3-1948 to 1950","32-4-1948 to 1950","32-5-1948 to 1950","32-6-1948 to 1950","33-1-1948 to 1950","33-2-1948 to 1950","33-3-1948 to 1950","33-4-1948 to 1950","33-5-1948 to 1950","33-6-1948 to 1950","33-7-1948 to 1950","33-8-1948 to 1950","33-9-1948 to 1950","34-1-1948 to 1950","34-2-1948 to 1950","34-3-1948 to 1950","34-4-1948 to 1950","34-5-1948 to 1950","34-6-1948 to 1950","34-7-1948 to 1950","34-8-1948 to 1950","34-9-1948 to 1950","34-11-1948 to 1950","34-12-1948 to 1950","34-13-1948 to 1950","35-1-1948 to 1950","35-2-1948 to 1950","35-3-1948 to 1950","35-4-1948 to 1950","36-97-1948 to 1950","36-98-1948 to 1950","37-1-1948 to 1950","37-2-1948 to 1950","40-7-1948 to 1950","40-8-1948 to 1950","40-9-1948 to 1950","43-5-1948 to 1950","43-98-1948 to 1950","47-4-1948 to 1950","47-6-1948 to 1950","47-8-1948 to 1950","47-9-1948 to 1950","47-10-1948 to 1950","47-11-1948 to 1950","47-12-1948 to 1950","51-3-1948 to 1950","51-5-1948 to 1950","51-7-1948 to 1950","51-8-1948 to 1950","52-1-1948 to 1950","52-2-1948 to 1950","52-3-1948 to 1950","52-4-1948 to 1950","52-5-1948 to 1950","52-6-1948 to 1950","53-1-1948 to 1950","53-2-1948 to 1950","53-4-1948 to 1950","53-5-1948 to 1950","53-6-1948 to 1950","53-7-1948 to 1950","53-8-1948 to 1950","56-1-1948 to 1950","56-2-1948 to 1950","56-3-1948 to 1950","56-4-1948 to 1950","56-5-1948 to 1950","56-6-1948 to 1950","61-1-1948 to 1950","61-2-1948 to 1950","61-97-1948 to 1950","61-98-1948 to 1950","62-1-1948 to 1950","62-2-1948 to 1950","62-3-1948 to 1950","62-4-1948 to 1950","63-1-1948 to 1950","63-2-1948 to 1950","64-1-1948 to 1950","64-2-1948 to 1950","65-98-1948 to 1950","66-97-1948 to 1950","66-98-1948 to 1950","67-1-1948 to 1950","67-2-1948 to 1950","68-98-1948 to 1950","71-2-1948 to 1950","71-3-1948 to 1950","71-4-1948 to 1950","71-5-1948 to 1950","71-6-1948 to 1950","71-7-1948 to 1950","71-8-1948 to 1950","71-9-1948 to 1950","71-10-1948 to 1950","71-11-1948 to 1950","71-12-1948 to 1950","71-13-1948 to 1950","71-14-1948 to 1950","71-15-1948 to 1950","71-16-1948 to 1950","71-17-1948 to 1950","71-18-1948 to 1950","71-19-1948 to 1950","71-20-1948 to 1950","71-21-1948 to 1950","71-22-1948 to 1950","71-23-1948 to 1950","72-1-1948 to 1950","72-2-1948 to 1950","72-3-1948 to 1950","72-4-1948 to 1950","73-1-1948 to 1950","73-2-1948 to 1950","73-3-1948 to 1950","73-4-1948 to 1950","73-5-1948 to 1950","73-6-1948 to 1950","1-1-1968 to 1970","1-2-1968 to 1970","1-3-1968 to 1970","1-4-1968 to 1970","1-5-1968 to 1970","1-6-1968 to 1970","1-98-1968 to 1970","2-1-1968 to 1970","2-2-1968 to 1970","3-3-1968 to 1970","3-4-1968 to 1970","3-5-1968 to 1970","3-6-1968 to 1970","3-7-1968 to 1970","3-10-1968 to 1970","4-1-1968 to 1970","4-2-1968 to 1970","5-1-1968 to 1970","5-2-1968 to 1970","11-98-1968 to 1970","12-1-1968 to 1970","12-2-1968 to 1970","12-3-1968 to 1970","12-4-1968 to 1970","12-5-1968 to 1970","12-6-1968 to 1970","12-7-1968 to 1970","12-8-1968 to 1970","12-9-1968 to 1970","12-10-1968 to 1970","12-11-1968 to 1970","12-12-1968 to 1970","12-13-1968 to 1970","12-14-1968 to 1970","12-15-1968 to 1970","13-1-1968 to 1970","13-2-1968 to 1970","13-3-1968 to 1970","13-4-1968 to 1970","13-5-1968 to 1970","13-8-1968 to 1970","13-10-1968 to 1970","13-14-1968 to 1970","13-15-1968 to 1970","13-16-1968 to 1970","13-17-1968 to 1970","13-19-1968 to 1970","13-24-1968 to 1970","13-25-1968 to 1970","13-27-1968 to 1970","13-28-1968 to 1970","13-29-1968 to 1970","13-30-1968 to 1970","13-31-1968 to 1970","13-32-1968 to 1970","13-33-1968 to 1970","13-34-1968 to 1970","13-35-1968 to 1970","13-36-1968 to 1970","13-37-1968 to 1970","13-38-1968 to 1970","13-39-1968 to 1970","13-40-1968 to 1970","13-41-1968 to 1970","14-1-1968 to 1970","14-2-1968 to 1970","14-3-1968 to 1970","14-4-1968 to 1970","14-5-1968 to 1970","14-6-1968 to 1970","14-7-1968 to 1970","14-8-1968 to 1970","14-9-1968 to 1970","14-10-1968 to 1970","14-12-1968 to 1970","14-13-1968 to 1970","14-14-1968 to 1970","14-15-1968 to 1970","14-16-1968 to 1970","14-17-1968 to 1970","14-18-1968 to 1970","14-19-1968 to 1970","14-20-1968 to 1970","14-21-1968 to 1970","14-22-1968 to 1970","14-23-1968 to 1970","14-24-1968 to 1970","14-25-1968 to 1970","14-26-1968 to 1970","14-27-1968 to 1970","21-2-1968 to 1970","21-3-1968 to 1970","21-4-1968 to 1970","21-5-1968 to 1970","21-6-1968 to 1970","21-8-1968 to 1970","21-9-1968 to 1970","21-10-1968 to 1970","21-11-1968 to 1970","21-12-1968 to 1970","21-13-1968 to 1970","21-14-1968 to 1970","21-15-1968 to 1970","21-16-1968 to 1970","21-17-1968 to 1970","21-18-1968 to 1970","21-19-1968 to 1970","21-20-1968 to 1970","21-21-1968 to 1970","21-22-1968 to 1970","21-23-1968 to 1970","21-24-1968 to 1970","22-1-1968 to 1970","22-2-1968 to 1970","22-3-1968 to 1970","22-4-1968 to 1970","22-5-1968 to 1970","22-6-1968 to 1970","22-7-1968 to 1970","22-8-1968 to 1970","22-9-1968 to 1970","22-10-1968 to 1970","22-11-1968 to 1970","23-2-1968 to 1970","23-3-1968 to 1970","23-4-1968 to 1970","23-5-1968 to 1970","23-6-1968 to 1970","23-7-1968 to 1970","23-8-1968 to 1970","23-9-1968 to 1970","23-10-1968 to 1970","23-11-1968 to 1970","23-12-1968 to 1970","23-14-1968 to 1970","23-15-1968 to 1970","23-16-1968 to 1970","23-17-1968 to 1970","23-18-1968 to 1970","23-19-1968 to 1970","23-98-1968 to 1970","24-1-1968 to 1970","24-2-1968 to 1970","24-3-1968 to 1970","24-5-1968 to 1970","24-6-1968 to 1970","24-7-1968 to 1970","24-9-1968 to 1970","24-10-1968 to 1970","24-11-1968 to 1970","24-12-1968 to 1970","24-13-1968 to 1970","24-14-1968 to 1970","24-15-1968 to 1970","24-16-1968 to 1970","24-17-1968 to 1970","24-18-1968 to 1970","24-19-1968 to 1970","24-21-1968 to 1970","24-22-1968 to 1970","24-23-1968 to 1970","24-24-1968 to 1970","24-98-1968 to 1970","25-1-1968 to 1970","25-2-1968 to 1970","25-3-1968 to 1970","25-5-1968 to 1970","25-6-1968 to 1970","25-7-1968 to 1970","25-8-1968 to 1970","25-9-1968 to 1970","25-10-1968 to 1970","31-1-1968 to 1970","31-2-1968 to 1970","31-3-1968 to 1970","31-4-1968 to 1970","31-5-1968 to 1970","31-6-1968 to 1970","31-7-1968 to 1970","32-1-1968 to 1970","32-2-1968 to 1970","32-3-1968 to 1970","32-4-1968 to 1970","32-5-1968 to 1970","33-1-1968 to 1970","33-2-1968 to 1970","33-3-1968 to 1970","33-4-1968 to 1970","33-5-1968 to 1970","33-6-1968 to 1970","33-7-1968 to 1970","33-8-1968 to 1970","34-2-1968 to 1970","34-3-1968 to 1970","34-4-1968 to 1970","34-5-1968 to 1970","34-6-1968 to 1970","34-8-1968 to 1970","34-9-1968 to 1970","34-10-1968 to 1970","35-1-1968 to 1970","35-2-1968 to 1970","35-3-1968 to 1970","36-1-1968 to 1970","36-2-1968 to 1970","37-1-1968 to 1970","37-2-1968 to 1970","40-2-1968 to 1970","40-3-1968 to 1970","40-4-1968 to 1970","40-5-1968 to 1970","40-7-1968 to 1970","40-8-1968 to 1970","40-9-1968 to 1970","40-10-1968 to 1970","41-1-1968 to 1970","41-2-1968 to 1970","41-6-1968 to 1970","42-3-1968 to 1970","43-4-1968 to 1970","43-5-1968 to 1970","43-6-1968 to 1970","43-7-1968 to 1970","43-9-1968 to 1970","43-10-1968 to 1970","43-12-1968 to 1970","44-4-1968 to 1970","44-5-1968 to 1970","45-2-1968 to 1970","47-1-1968 to 1970","47-3-1968 to 1970","47-4-1968 to 1970","47-5-1968 to 1970","47-6-1968 to 1970","47-8-1968 to 1970","47-10-1968 to 1970","47-11-1968 to 1970","48-2-1968 to 1970","48-3-1968 to 1970","48-5-1968 to 1970","48-6-1968 to 1970","49-3-1968 to 1970","49-5-1968 to 1970","49-9-1968 to 1970","49-13-1968 to 1970","49-21-1968 to 1970","49-22-1968 to 1970","49-98-1968 to 1970","51-3-1968 to 1970","51-4-1968 to 1970","51-6-1968 to 1970","51-7-1968 to 1970","52-1-1968 to 1970","52-2-1968 to 1970","52-4-1968 to 1970","52-5-1968 to 1970","52-6-1968 to 1970","52-7-1968 to 1970","52-8-1968 to 1970","52-98-1968 to 1970","53-1-1968 to 1970","53-2-1968 to 1970","53-4-1968 to 1970","53-5-1968 to 1970","53-6-1968 to 1970","54-3-1968 to 1970","54-5-1968 to 1970","54-7-1968 to 1970","54-9-1968 to 1970","56-1-1968 to 1970","56-2-1968 to 1970","56-3-1968 to 1970","56-4-1968 to 1970","56-5-1968 to 1970","61-1-1968 to 1970","61-2-1968 to 1970","61-3-1968 to 1970","62-1-1968 to 1970","62-2-1968 to 1970","62-3-1968 to 1970","62-4-1968 to 1970","63-1-1968 to 1970","63-2-1968 to 1970","64-1-1968 to 1970","64-2-1968 to 1970","66-1-1968 to 1970","66-2-1968 to 1970","66-97-1968 to 1970","66-98-1968 to 1970","67-1-1968 to 1970","67-2-1968 to 1970","68-98-1968 to 1970","71-1-1968 to 1970","71-3-1968 to 1970","71-4-1968 to 1970","71-5-1968 to 1970","71-6-1968 to 1970","71-7-1968 to 1970","71-8-1968 to 1970","71-9-1968 to 1970","71-10-1968 to 1970","71-13-1968 to 1970","71-14-1968 to 1970","71-15-1968 to 1970","71-16-1968 to 1970","71-17-1968 to 1970","71-18-1968 to 1970","71-19-1968 to 1970","71-20-1968 to 1970","71-22-1968 to 1970","71-23-1968 to 1970","71-24-1968 to 1970","71-25-1968 to 1970","71-26-1968 to 1970","71-27-1968 to 1970","71-28-1968 to 1970","71-29-1968 to 1970","71-30-1968 to 1970","71-31-1968 to 1970","71-32-1968 to 1970","71-33-1968 to 1970","71-34-1968 to 1970","71-35-1968 to 1970","71-36-1968 to 1970","71-37-1968 to 1970","71-38-1968 to 1970","72-2-1968 to 1970","72-3-1968 to 1970","72-4-1968 to 1970","73-1-1968 to 1970","73-2-1968 to 1970","73-3-1968 to 1970","73-4-1968 to 1970","73-5-1968 to 1970","73-6-1968 to 1970","73-7-1968 to 1970","1-1-1988 to 1990","1-2-1988 to 1990","1-3-1988 to 1990","1-4-1988 to 1990","1-5-1988 to 1990","1-6-1988 to 1990","2-1-1988 to 1990","2-2-1988 to 1990","3-4-1988 to 1990","3-6-1988 to 1990","3-10-1988 to 1990","4-1-1988 to 1990","4-2-1988 to 1990","5-1-1988 to 1990","5-2-1988 to 1990","6-98-1988 to 1990","11-98-1988 to 1990","12-1-1988 to 1990","12-3-1988 to 1990","12-4-1988 to 1990","12-5-1988 to 1990","12-6-1988 to 1990","12-7-1988 to 1990","12-9-1988 to 1990","12-11-1988 to 1990","12-12-1988 to 1990","12-13-1988 to 1990","12-14-1988 to 1990","13-1-1988 to 1990","13-2-1988 to 1990","13-3-1988 to 1990","13-4-1988 to 1990","13-5-1988 to 1990","13-14-1988 to 1990","13-15-1988 to 1990","13-16-1988 to 1990","13-19-1988 to 1990","13-20-1988 to 1990","13-21-1988 to 1990","13-22-1988 to 1990","13-23-1988 to 1990","13-24-1988 to 1990","13-27-1988 to 1990","13-29-1988 to 1990","13-30-1988 to 1990","13-31-1988 to 1990","13-32-1988 to 1990","14-1-1988 to 1990","14-3-1988 to 1990","14-4-1988 to 1990","14-5-1988 to 1990","14-6-1988 to 1990","14-7-1988 to 1990","14-8-1988 to 1990","14-9-1988 to 1990","14-10-1988 to 1990","14-13-1988 to 1990","14-14-1988 to 1990","14-15-1988 to 1990","14-16-1988 to 1990","14-17-1988 to 1990","14-18-1988 to 1990","14-22-1988 to 1990","14-23-1988 to 1990","21-3-1988 to 1990","21-4-1988 to 1990","21-5-1988 to 1990","21-6-1988 to 1990","21-9-1988 to 1990","21-10-1988 to 1990","21-11-1988 to 1990","21-13-1988 to 1990","21-14-1988 to 1990","21-16-1988 to 1990","21-17-1988 to 1990","21-19-1988 to 1990","21-20-1988 to 1990","21-21-1988 to 1990","22-1-1988 to 1990","22-2-1988 to 1990","22-3-1988 to 1990","22-4-1988 to 1990","22-5-1988 to 1990","22-6-1988 to 1990","22-7-1988 to 1990","22-8-1988 to 1990","22-9-1988 to 1990","22-10-1988 to 1990","23-2-1988 to 1990","23-3-1988 to 1990","23-4-1988 to 1990","23-5-1988 to 1990","23-7-1988 to 1990","23-8-1988 to 1990","23-9-1988 to 1990","23-10-1988 to 1990","23-11-1988 to 1990","23-12-1988 to 1990","23-14-1988 to 1990","23-15-1988 to 1990","23-17-1988 to 1990","23-18-1988 to 1990","24-1-1988 to 1990","24-2-1988 to 1990","24-5-1988 to 1990","24-6-1988 to 1990","24-7-1988 to 1990","24-8-1988 to 1990","24-10-1988 to 1990","24-11-1988 to 1990","24-12-1988 to 1990","24-13-1988 to 1990","24-14-1988 to 1990","24-15-1988 to 1990","24-16-1988 to 1990","24-17-1988 to 1990","24-18-1988 to 1990","24-19-1988 to 1990","25-2-1988 to 1990","25-3-1988 to 1990","25-5-1988 to 1990","25-7-1988 to 1990","25-8-1988 to 1990","31-2-1988 to 1990","31-5-1988 to 1990","31-6-1988 to 1990","32-2-1988 to 1990","32-3-1988 to 1990","32-4-1988 to 1990","32-5-1988 to 1990","33-1-1988 to 1990","33-2-1988 to 1990","33-3-1988 to 1990","33-4-1988 to 1990","33-5-1988 to 1990","33-6-1988 to 1990","33-7-1988 to 1990","33-8-1988 to 1990","34-1-1988 to 1990","34-2-1988 to 1990","34-3-1988 to 1990","34-4-1988 to 1990","34-5-1988 to 1990","34-6-1988 to 1990","34-7-1988 to 1990","34-8-1988 to 1990","34-9-1988 to 1990","35-1-1988 to 1990","35-2-1988 to 1990","35-3-1988 to 1990","36-98-1988 to 1990","37-98-1988 to 1990","40-1-1988 to 1990","40-8-1988 to 1990","40-10-1988 to 1990","41-5-1988 to 1990","41-7-1988 to 1990","42-1-1988 to 1990","42-3-1988 to 1990","42-4-1988 to 1990","43-1-1988 to 1990","43-4-1988 to 1990","43-6-1988 to 1990","43-11-1988 to 1990","43-14-1988 to 1990","43-19-1988 to 1990","44-1-1988 to 1990","44-2-1988 to 1990","44-4-1988 to 1990","44-5-1988 to 1990","44-6-1988 to 1990","44-7-1988 to 1990","44-9-1988 to 1990","44-10-1988 to 1990","46-1-1988 to 1990","47-1-1988 to 1990","47-4-1988 to 1990","47-5-1988 to 1990","47-6-1988 to 1990","47-7-1988 to 1990","47-8-1988 to 1990","47-9-1988 to 1990","47-10-1988 to 1990","47-11-1988 to 1990","48-1-1988 to 1990","48-3-1988 to 1990","48-4-1988 to 1990","49-1-1988 to 1990","49-5-1988 to 1990","49-6-1988 to 1990","49-13-1988 to 1990","49-14-1988 to 1990","49-22-1988 to 1990","49-23-1988 to 1990","49-26-1988 to 1990","51-2-1988 to 1990","51-3-1988 to 1990","51-4-1988 to 1990","51-7-1988 to 1990","52-1-1988 to 1990","52-2-1988 to 1990","52-3-1988 to 1990","52-4-1988 to 1990","52-6-1988 to 1990","52-8-1988 to 1990","53-1-1988 to 1990","53-2-1988 to 1990","53-5-1988 to 1990","53-6-1988 to 1990","54-3-1988 to 1990","54-6-1988 to 1990","56-1-1988 to 1990","56-4-1988 to 1990","61-2-1988 to 1990","61-3-1988 to 1990","61-5-1988 to 1990","62-1-1988 to 1990","62-2-1988 to 1990","62-3-1988 to 1990","62-4-1988 to 1990","62-5-1988 to 1990","62-6-1988 to 1990","63-1-1988 to 1990","63-2-1988 to 1990","64-1-1988 to 1990","64-2-1988 to 1990","65-1-1988 to 1990","65-2-1988 to 1990","66-1-1988 to 1990","66-3-1988 to 1990","67-1-1988 to 1990","67-2-1988 to 1990","67-3-1988 to 1990","68-98-1988 to 1990","71-1-1988 to 1990","71-2-1988 to 1990","71-3-1988 to 1990","71-5-1988 to 1990","71-6-1988 to 1990","71-7-1988 to 1990","71-8-1988 to 1990","71-9-1988 to 1990","71-11-1988 to 1990","71-12-1988 to 1990","71-13-1988 to 1990","71-14-1988 to 1990","71-15-1988 to 1990","71-16-1988 to 1990","71-17-1988 to 1990","71-19-1988 to 1990","71-20-1988 to 1990","71-21-1988 to 1990","71-22-1988 to 1990","71-23-1988 to 1990","71-24-1988 to 1990","71-26-1988 to 1990","71-27-1988 to 1990","71-28-1988 to 1990","71-30-1988 to 1990","71-31-1988 to 1990","71-32-1988 to 1990","71-33-1988 to 1990","71-34-1988 to 1990","71-35-1988 to 1990","71-36-1988 to 1990","71-37-1988 to 1990","71-38-1988 to 1990","71-39-1988 to 1990","71-40-1988 to 1990","71-41-1988 to 1990","71-42-1988 to 1990","71-44-1988 to 1990","72-1-1988 to 1990","72-2-1988 to 1990","72-5-1988 to 1990","73-1-1988 to 1990","73-3-1988 to 1990","73-4-1988 to 1990","73-5-1988 to 1990","73-6-1988 to 1990","73-7-1988 to 1990","73-8-1988 to 1990"],[1,1,1,1,1,1,2,2,2,3,3,3,3,3,3,3,3,3,3,4,4,5,5,6,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,31,31,31,31,31,31,31,31,32,32,32,32,32,32,33,33,33,33,33,33,33,33,33,34,34,34,34,34,34,34,34,34,34,34,34,35,35,35,35,36,36,37,37,40,40,40,43,43,47,47,47,47,47,47,47,51,51,51,51,52,52,52,52,52,52,53,53,53,53,53,53,53,56,56,56,56,56,56,61,61,61,61,62,62,62,62,63,63,64,64,65,66,66,67,67,68,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,72,72,72,72,73,73,73,73,73,73,1,1,1,1,1,1,1,2,2,3,3,3,3,3,3,4,4,5,5,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,31,31,31,31,31,31,31,32,32,32,32,32,33,33,33,33,33,33,33,33,34,34,34,34,34,34,34,34,35,35,35,36,36,37,37,40,40,40,40,40,40,40,40,41,41,41,42,43,43,43,43,43,43,43,44,44,45,47,47,47,47,47,47,47,47,48,48,48,48,49,49,49,49,49,49,49,51,51,51,51,52,52,52,52,52,52,52,52,53,53,53,53,53,54,54,54,54,56,56,56,56,56,61,61,61,62,62,62,62,63,63,64,64,66,66,66,66,67,67,68,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,72,72,72,73,73,73,73,73,73,73,1,1,1,1,1,1,2,2,3,3,3,4,4,5,5,6,11,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,31,31,31,32,32,32,32,33,33,33,33,33,33,33,33,34,34,34,34,34,34,34,34,34,35,35,35,36,37,40,40,40,41,41,42,42,42,43,43,43,43,43,43,44,44,44,44,44,44,44,44,46,47,47,47,47,47,47,47,47,47,48,48,48,49,49,49,49,49,49,49,49,51,51,51,51,52,52,52,52,52,52,53,53,53,53,54,54,56,56,61,61,61,62,62,62,62,62,62,63,63,64,64,65,65,66,66,67,67,67,68,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,72,72,72,73,73,73,73,73,73,73],["1","2","3","4","5","98","1","2","3","1","2","3","4","7","8","9","10","13","14","1","2","1","2","98","98","1","2","3","4","5","6","7","8","9","10","11","12","13","14","1","2","3","4","5","6","7","8","9","10","11","12","13","14","16","17","18","19","20","21","23","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","97","98","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","98","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","98","1","2","3","4","5","6","7","8","9","10","11","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","1","2","3","4","5","6","8","9","10","11","12","13","14","15","16","17","18","19","21","22","98","1","2","3","4","5","6","7","8","10","1","2","3","4","5","6","7","8","1","2","3","4","5","6","1","2","3","4","5","6","7","8","9","1","2","3","4","5","6","7","8","9","11","12","13","1","2","3","4","97","98","1","2","7","8","9","5","98","4","6","8","9","10","11","12","3","5","7","8","1","2","3","4","5","6","1","2","4","5","6","7","8","1","2","3","4","5","6","1","2","97","98","1","2","3","4","1","2","1","2","98","97","98","1","2","98","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","1","2","3","4","1","2","3","4","5","6","1","2","3","4","5","6","98","1","2","3","4","5","6","7","10","1","2","1","2","98","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","1","2","3","4","5","8","10","14","15","16","17","19","24","25","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","1","2","3","4","5","6","7","8","9","10","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","2","3","4","5","6","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","1","2","3","4","5","6","7","8","9","10","11","2","3","4","5","6","7","8","9","10","11","12","14","15","16","17","18","19","98","1","2","3","5","6","7","9","10","11","12","13","14","15","16","17","18","19","21","22","23","24","98","1","2","3","5","6","7","8","9","10","1","2","3","4","5","6","7","1","2","3","4","5","1","2","3","4","5","6","7","8","2","3","4","5","6","8","9","10","1","2","3","1","2","1","2","2","3","4","5","7","8","9","10","1","2","6","3","4","5","6","7","9","10","12","4","5","2","1","3","4","5","6","8","10","11","2","3","5","6","3","5","9","13","21","22","98","3","4","6","7","1","2","4","5","6","7","8","98","1","2","4","5","6","3","5","7","9","1","2","3","4","5","1","2","3","1","2","3","4","1","2","1","2","1","2","97","98","1","2","98","1","3","4","5","6","7","8","9","10","13","14","15","16","17","18","19","20","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","2","3","4","1","2","3","4","5","6","7","1","2","3","4","5","6","1","2","4","6","10","1","2","1","2","98","98","1","3","4","5","6","7","9","11","12","13","14","1","2","3","4","5","14","15","16","19","20","21","22","23","24","27","29","30","31","32","1","3","4","5","6","7","8","9","10","13","14","15","16","17","18","22","23","3","4","5","6","9","10","11","13","14","16","17","19","20","21","1","2","3","4","5","6","7","8","9","10","2","3","4","5","7","8","9","10","11","12","14","15","17","18","1","2","5","6","7","8","10","11","12","13","14","15","16","17","18","19","2","3","5","7","8","2","5","6","2","3","4","5","1","2","3","4","5","6","7","8","1","2","3","4","5","6","7","8","9","1","2","3","98","98","1","8","10","5","7","1","3","4","1","4","6","11","14","19","1","2","4","5","6","7","9","10","1","1","4","5","6","7","8","9","10","11","1","3","4","1","5","6","13","14","22","23","26","2","3","4","7","1","2","3","4","6","8","1","2","5","6","3","6","1","4","2","3","5","1","2","3","4","5","6","1","2","1","2","1","2","1","3","1","2","3","98","1","2","3","5","6","7","8","9","11","12","13","14","15","16","17","19","20","21","22","23","24","26","27","28","30","31","32","33","34","35","36","37","38","39","40","41","42","44","1","2","5","1","3","4","5","6","7","8"],[1,1,0,0,-1,-1,-1,-1,-1,-1,1,1,1,1,-1,-1,-1,-1,-1,-1,-1,1,1,0,-1,-1,-1,-1,1,-1,-1,0,-1,-1,1,1,-1,0,1,-1,-1,-1,1,1,1,1,0,1,1,1,1,1,1,1,-1,0,1,1,-1,0,1,1,-1,-1,-1,0,-1,1,-1,-1,1,-1,-1,-1,-1,-1,0,0,1,1,-1,-9,-9,1,1,-1,1,1,-1,-1,0,-1,1,1,-1,1,-1,0,-1,-1,0,-1,1,1,-1,1,1,-1,0,1,-1,1,-1,-1,1,1,-9,1,1,1,1,0,1,1,1,1,-1,1,-1,0,-1,-1,-1,-1,-1,-1,-1,1,0,-1,-1,1,-1,-9,1,-1,1,1,1,-1,1,1,-1,-1,1,0,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,1,1,1,1,-1,-1,1,1,-1,-1,1,0,-9,-1,-1,-1,-1,1,1,1,-1,1,1,1,-1,1,-1,-1,-1,1,1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,-1,1,-1,1,-1,1,1,1,1,1,1,-1,1,1,1,1,1,-1,1,-1,-1,-9,-9,-1,0,1,1,1,1,-9,1,1,1,1,1,1,1,-1,1,1,1,-1,1,1,1,1,-1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,-9,-9,0,-1,1,1,0,0,1,-1,1,-9,-9,1,1,0,-9,-9,1,-9,-9,-1,-9,1,-1,-1,0,-9,0,-9,-1,-9,1,-9,-9,1,-9,1,-1,-1,-1,-1,1,1,-1,-1,-1,-1,0,-1,1,0,1,0,-9,1,1,0,1,-1,-1,1,-1,-1,-1,1,1,0,-1,-1,1,1,-1,-1,-1,1,1,1,1,-1,1,1,1,1,-1,1,-1,1,1,1,1,1,1,1,0,1,0,-1,-1,3,-1,-1,-1,-1,0,1,-1,-1,-1,0,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,-1,-1,1,1,-1,-1,-1,-1,1,1,-1,-1,1,1,1,-1,1,0,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,1,1,1,-1,1,-1,0,-1,-1,-1,1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,1,1,1,-1,-1,-9,0,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,1,1,-1,0,-9,-1,1,-1,1,-1,1,-1,-1,-1,-1,1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,1,-1,-1,1,1,1,1,1,1,1,1,1,0,0,-1,-1,0,0,0,-1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,1,-1,1,1,1,-1,1,-1,-1,1,1,1,1,-1,1,-1,-1,1,0,1,1,1,-1,1,1,1,1,1,-9,-1,-1,1,1,-1,1,0,-1,0,0,-1,-9,-1,1,1,1,-1,0,1,1,-1,1,1,1,1,1,-1,1,-1,0,-1,1,1,-1,-1,1,1,-1,-1,-9,-9,0,-1,0,-1,1,1,1,-1,0,1,1,-1,-1,1,1,1,1,-1,1,-1,1,-1,-1,-1,1,-1,-1,0,1,1,-1,-1,1,-1,-1,1,0,1,1,-1,-1,1,1,-1,1,1,1,1,1,0,-1,0,-1,0,-1,1,1,1,0,-1,-1,0,-1,1,0,1,-1,-1,1,-1,1,-1,0,-1,1,1,1,1,-1,-1,-1,-1,1,1,1,-1,-1,1,-1,-1,-1,1,-1,1,1,1,1,-1,1,-1,1,-1,-1,-1,1,-1,-1,-1,1,1,-1,1,1,1,-1,1,-1,1,-1,-1,0,1,1,1,1,1,1,-1,1,1,-1,-1,1,1,1,-1,1,-1,-1,1,1,-1,0,-1,1,1,1,1,-1,0,-1,-1,-1,0,0,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,0,-1,-1,1,-1,1,0,1,-1,0,1,1,1,-1,1,1,-1,1,1,1,-1,-1,-1,1,-1,1,0,1,1,-1,-1,-1,0,1,1,-1,1,1,-1,-1,0,1,1,1,1,1,1,-1,1,1,1,1,1,1,1,-1,1,1,-1,-1,1,-1,1,1,1,1,-1,1,1,-1,1,-1,1,1,-1,1,1,-1,1,1,1,-1,-1,1,-1,1,1,1,1,1,1,-1,-1,1,1,1,0,-1,-1,0,1,1,-1,1,-1,-1,1,-1,1,0,-1,1,-1,1,1,1,1,1,1,1,-1,1,0,1,1,-1,-1,-1,-1,-1,1,1,1,1,1,1,1,1,-1,1,-1,1,-1,-1,-1,-1,-1,-1,1,1,-1,-1,-1,1,-1,1,1,1,-1],[134258,66523,89391,88682,56752,426485,41620,36506,22605,39717,76497,93591,76881,91854,61559,55949,63618,54243,46332,42371,30389,90065,93039,22709,56091,64868,46121,47055,60364,50220,45376,34578,34194,38421,60432,46242,45525,55008,61410,76375,60152,55285,55793,63620,60725,47466,42305,-9,66847,67560,42396,54919,75020,42516,44502,-9,58616,57432,33349,64270,64353,69152,59759,35059,43315,41833,41680,90420,42680,32446,54284,50107,33018,31115,31639,52363,35370,53310,58327,66541,27317,-9,-9,69300,83344,67286,65255,84177,73913,54425,40502,34317,56158,77466,51028,36335,29538,28759,41642,23762,44871,25348,49660,48550,29080,36740,46875,50686,57396,53229,51060,48198,44778,39776,66077,63257,-9,69056,71945,72676,58190,91589,106701,109841,77736,74699,59127,62050,75226,49187,35856,47633,39944,37096,45214,48286,42647,67704,43795,50143,50638,78812,50759,-9,62666,55153,73646,53550,76878,62915,67992,78750,51350,56149,88418,39771,35877,26301,35927,61435,38953,35164,36222,24198,25254,26667,56388,76938,73238,80229,90712,53760,62542,92840,32686,26689,40335,28379,-9,21117,29687,65860,24042,100947,47448,75255,39726,58295,119245,66341,130623,1237409,53071,55117,38265,83564,71203,35618,29408,43877,35281,43140,55359,40786,38649,43105,30877,33617,31689,33562,52015,35028,54438,38767,35087,36839,46452,73786,59930,48759,63911,40785,72440,30808,43384,49408,48244,53424,45762,53593,42629,49894,43950,57225,106728,58832,55972,40939,34017,33562,-9,-9,74983,22737,19932,29730,26802,32475,-9,34580,27751,40834,47183,33591,31712,46851,49935,33920,34767,37727,27122,96498,27646,34769,54152,43540,64481,36552,43838,72877,38166,28733,32401,53584,53485,56794,64265,61000,85793,51526,63991,-9,-9,70165,53313,55110,35797,41040,50255,54394,53854,31843,-9,-9,54161,84283,42483,-9,-9,83078,-9,-9,59976,-9,70201,51409,55020,71682,-9,47653,-9,79744,-9,97177,-9,-9,62994,-9,94137,47155,33282,77606,43053,90053,73296,48623,34174,49767,46249,88374,81492,89042,78699,96947,96969,-9,99483,96235,63942,95016,67646,114276,115597,77497,34882,32374,86283,121704,71429,52567,64882,87973,91670,53436,72347,63928,75056,91589,71003,68075,55930,77789,77771,94772,108746,54996,94414,56411,84738,93666,78324,31586,50767,71553,98300,46947,106942,66688,89787,41908,128017,71832,34568,47306,45373,60452,82425,38898,48061,37961,90949,50418,79151,79425,70530,54755,113920,80142,96453,62722,51464,52852,51506,48738,68743,72509,93169,33986,60714,54639,58399,84911,76915,58720,50908,94029,92638,80734,55050,88252,97693,55328,97278,68182,98453,111955,65170,137090,51499,90364,64231,43014,41459,56340,43601,43094,49727,110374,57781,91158,88637,73145,77959,87064,86582,67740,74599,73042,83911,104599,78871,71329,52782,62530,45838,55337,55591,41235,44400,51223,57031,53146,129287,91111,101018,90540,108176,62081,63175,-9,39820,60860,26735,37545,39265,37294,82777,40669,42542,60538,53271,71282,34018,63187,44066,82071,73222,74340,114790,73765,55455,-9,87428,102879,52085,60630,44794,88746,60345,78123,62991,59505,84049,45958,49369,73820,43257,31552,63791,80161,64344,47004,48688,53995,54498,108141,131263,83207,81004,79378,118149,93294,73021,80153,51668,74496,97560,100988,62764,36240,64520,63698,37688,50416,71636,55925,27367,73123,55246,54274,32642,38848,34609,56603,27457,25966,31378,57679,75673,35398,78832,78535,120565,68847,75895,45908,58394,51812,41674,41065,49866,49663,47693,40563,48113,90199,42005,60708,43742,46966,41425,57058,57180,80070,76004,73514,-9,50102,41659,44322,50672,24923,87224,54936,52979,59267,60390,60453,-9,53598,87131,67743,62034,45742,54662,89900,83904,43279,61296,56263,57630,62531,48286,45870,86760,49626,74444,72339,87090,76244,55743,31872,63175,78082,64598,64518,-9,-9,95499,87000,58456,62688,117496,103485,76567,84255,89784,104311,120041,80530,87980,148655,98442,95118,83739,48415,98578,50033,95256,44767,61777,64386,130499,63652,57882,71308,63903,102071,44278,44764,101664,87019,44841,93952,85684,100943,118919,60299,53156,117562,81892,70119,88189,98282,99308,126566,105085,90772,32352,85803,48628,167623,116798,143473,149284,137805,66176,74829,73131,108818,-9,116274,73522,77709,55454,35010,63696,31114,82736,47782,52498,68286,57581,75211,56722,73029,41308,53920,34625,33464,-9,45758,82203,34128,37034,117239,56671,52438,34835,97280,69328,68367,73423,89908,74114,50597,74394,56292,85015,-9,-9,58967,77636,50233,43849,-9,80880,78375,53465,110512,77290,73805,48155,96557,47286,82703,60305,55592,83061,102062,113958,130114,95208,68920,93495,80740,99347,81373,67024,65248,97465,107526,69362,49678,82376,55449,41170,90307,98903,73604,50923,59759,98232,78506,68742,92205,64185,83932,57345,41693,47415,59349,63584,61656,111923,50784,93431,97875,68510,70516,133207,120782,132951,85156,60409,77557,100069,83199,81008,47022,44063,99093,58923,112015,62244,156749,77935,96395,143353,144682,164816,107126,151145,62550,94378,88950,105527,71890,73093,76725,60751,94156,70587,111903,94234,152530,173814,69194,88475,57249,113047,127490,101026,54332,110365,88416,95320,95421,120991,156055,87696,80515,77910,96526,86037,77794,95817,96197,89683,43668,105832,139396,113814,62913,94946,98700,80802,65710,99318,42555,72561,81927,89241,65228,62344,81815,89251,37721,71052,62158,77057,84750,44979,61330,67518,39785,82545,85601,106502,39343,59521,90820,50086,110100,49662,60538,72849,39948,76549,103018,75642,82176,105248,124487,75901,57776,57961,85054,98008,100409,56739,84650,59581,41306,104225,69491,85167,79163,70977,96468,65333,132143,120633,137306,121080,119645,94739,105029,69270,97286,120742,97147,134236,82611,76991,65101,68921,61630,103141,71562,78031,90857,69482,45456,56394,68268,49981,55646,66100,72409,103961,43693,53670,68087,93586,67189,48712,150292,60131,124610,92447,95645,44241,110234,79079,106761,75031],[96251,68747,82304,111939,65915,433912,48869,49743,38289,88018,63493,37258,57483,24307,71983,78655,88549,90387,84508,57371,55116,52553,60036,65248,73313,85100,54897,79374,55364,80678,74739,79421,60420,67712,38613,42581,54123,43851,42272,76240,129291,92466,43055,54061,41615,30379,18551,-9,25485,31558,22796,35418,21350,37363,57247,-9,21034,29305,62604,22103,40552,44598,78221,79490,72721,86053,79007,60087,100425,67739,60657,81508,60278,68474,64377,103710,64801,75377,61781,69260,54490,-9,-9,59593,62970,68217,48280,67525,74316,91387,56300,70368,52859,65015,67135,34640,45986,47697,81366,40029,78577,42719,35487,44465,42701,39431,32470,55866,63445,40037,67604,54076,58096,82525,30088,32858,-9,41944,83023,87241,73542,48052,58534,43211,53505,69552,117498,81358,96489,140750,103312,82155,82190,74643,72499,69379,62138,60530,67668,63669,62692,42696,53207,-9,56063,74872,83816,69741,91929,69789,68885,74573,63229,81392,116068,61574,58489,58625,72829,70100,66951,55001,43910,47489,50523,43010,35178,72137,40865,50873,114274,77507,69543,77634,65640,36096,38996,47761,-9,39584,33648,117396,58484,102868,29573,77306,71382,56508,67661,21588,219788,1447154,70883,75281,54783,53702,75955,66289,63433,71908,46722,70058,79066,73490,51168,57429,56982,55291,56942,66607,56862,42263,77856,60608,51653,75016,69304,68947,39307,71243,49879,65644,42705,56928,36403,43816,46154,33367,38276,55176,60557,41406,27573,31163,110757,27366,67164,71126,68889,64661,-9,-9,116173,34533,8786,21071,19118,9958,-9,12945,9075,27688,29982,30591,14293,26710,62363,19670,27190,24627,36005,99497,14430,25287,40031,70707,72367,18687,20527,51008,18743,14078,38285,49987,44925,47589,60171,31777,53466,33528,28622,-9,-9,67436,73045,58831,26674,41823,66966,34945,65003,28485,-9,-9,51868,73535,50865,-9,-9,40569,-9,-9,74069,-9,76015,59313,59780,107933,-9,35543,-9,115970,-9,95308,-9,-9,46693,-9,90398,93547,41365,90232,63211,84024,45737,55056,61544,60273,71785,87209,92846,69084,104494,78414,92906,-9,68671,53642,60575,79870,116666,70955,44463,102895,72170,74219,52962,61819,86125,83726,69392,68675,65030,111553,88051,90410,48011,68974,30460,31369,109537,27929,31161,60450,99503,107443,66196,91787,93824,55406,29012,15222,17931,62597,50647,38460,38173,76611,82191,119954,65339,95470,90585,90884,90196,88786,76381,123209,107677,94906,96989,87183,20108,34649,32858,42393,77817,38955,48397,91042,73041,76535,102716,93385,101953,21572,44103,74006,88173,87246,71497,22553,33396,81675,70074,44395,37355,35083,86932,29853,44013,117590,44049,53240,34841,35795,107416,53461,84356,124649,122115,95222,83296,92917,84864,92247,103485,66273,83131,77762,30784,38294,79163,64249,80326,86199,115113,97152,93088,62772,81439,50990,88071,80447,74471,88208,84276,97683,85634,94027,82528,85323,38946,38956,25340,23867,27608,113309,91763,-9,89169,77071,86973,92577,82772,84448,33947,80838,91437,82486,85858,55038,81536,81208,79472,38104,52057,21440,45657,111218,63344,-9,56067,46620,64891,18360,98587,41330,76893,84732,66014,60270,54932,66087,59396,37374,57285,53084,83923,68843,74603,85058,94837,121802,94080,110921,45680,61682,88753,67296,38369,66503,24651,53204,31806,63789,53181,58103,49355,79131,69671,93705,72168,49888,56330,51092,44108,35258,25403,20039,52716,68311,53960,67650,63457,62316,50060,115532,55311,110841,30252,68646,50146,81170,29935,85848,78540,19703,16217,27224,45386,68937,20739,51873,63936,44376,48093,19981,21911,25546,63690,38481,31483,43319,47868,58598,-9,49891,83037,23971,16648,79594,40177,23491,84314,55511,42566,104647,-9,67386,35989,37081,22801,81959,61527,37522,29139,72498,38327,33509,30525,30255,20261,99706,37561,81239,84843,125274,45610,62169,77515,66428,64388,43752,91187,61074,-9,-9,89269,97549,57848,108358,69811,48783,31570,96393,64691,46872,49556,135864,127507,50750,55546,43843,47778,86071,41462,116437,63297,77346,124071,116169,47260,139326,154691,42620,28038,37416,119340,116093,82167,192765,132446,31968,87479,40620,42391,84474,107072,44049,56566,63244,43376,42213,47426,50690,70922,83440,105682,93912,141105,110836,121704,75454,80177,120217,81684,67063,89963,74953,-9,58037,57801,73451,101508,118101,58209,100274,59759,95198,108173,100537,25473,46380,36859,59089,79304,71948,58616,52919,-9,17135,35575,99866,95495,65760,121206,95220,89105,67534,90237,39053,19018,59901,58469,75097,56093,105868,65100,-9,-9,89577,30497,77178,85596,-9,85697,45509,78189,45299,53258,34440,96410,39031,104070,68850,116048,112383,69105,51380,55680,66433,48949,35450,63980,77911,64415,71750,116470,88598,80645,48325,35049,95962,60007,75850,126308,41759,45259,89078,99952,94555,51119,40499,41092,40100,126629,80362,103817,113615,117220,97123,99955,106009,58372,130495,60925,66460,99251,101097,38199,41823,72315,96938,94509,31255,60961,95902,82650,99978,112333,58643,88725,46283,90555,43856,126367,195833,77639,53720,90138,92876,56068,40160,94324,67659,65095,43897,78956,83609,81452,69514,129654,80845,98607,81443,83484,72000,76367,103761,55326,53258,56071,129876,42130,80851,120895,138588,111970,80249,53796,32532,28781,87569,27781,78768,63588,76121,64184,23650,57526,100661,78747,125392,49681,80852,131936,106400,101991,80839,52419,51338,56954,41307,125049,63045,75098,93425,40856,147856,39624,55188,101680,59377,88920,115398,35841,59846,56479,130059,75618,57331,114608,27540,36855,26424,35657,36946,39586,134279,138975,46802,68226,49961,89285,127740,105312,75406,56044,63837,96449,47377,103508,97375,35751,82746,58869,49452,87078,99782,133315,76148,35671,64402,79031,75544,67412,45818,125157,59773,128309,49634,39885,68848,94599,112962,118326,108634,57118,26607,44492,58140,21245,28914,27593,42692,101336,36024,121602,64961,115469,60561,113849,142299,105723,109353,50377,72382,127998,101650,100339,82269,106545,49965,49786,35511,96323],["1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1950","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1970","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990","1990"],["1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1948 to 1950","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1968 to 1970","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990","1988 to 1990"],[0.553025582441929,0.516472384641168,0.503394750803236,0.440314721053507,0.481404412736161,0.497703032136684,0.375047582794062,0.328212624584718,0.291095639428362,0.428214788252916,0.548670844459951,0.739459619952494,0.591740193472946,0.792069281293419,0.489647468895304,0.43331621297723,0.304644448738895,0.434377811188767,0.386271992856246,0.441700558351141,0.421123801000058,0.620179571169431,0.596558109138438,0.392037293894602,0.492080607843697,0.463305318758535,0.378165904275332,0.405909818932052,0.615051668237211,0.418388761793122,0.424628670120898,0.434952856522548,0.499374122502833,0.377546863672455,0.525859132710683,0.508323355606195,0.480542525487361,0.680534523310887,0.62788190616195,0.323842377603821,0.301376373706315,0.384432280834065,0.516605472578957,0.536079884039298,0.579082247949831,0.599769892770031,0.703110240755673,0.69101156102811,0.682784501729016,0.644865520414921,0.654373111962132,0.596513547898113,0.5,0.52872696471366,0.411273898422823,0.5,0.789070860043007,0.679633804112803,0.492861008835121,0.5,0.5,0.615794824834867,0.45425564112049,0.34282353115266,0.377580680639789,0.351570680628272,0.428240400176548,0.575203000968684,0.345500640442801,0.382358592740104,0.500549485554104,0.478163933553402,0.350297481031268,0.419624598623354,0.345331739722601,0.486348899380013,0.399470969682493,0.477427445360086,0.520338995234227,0.528198848216059,0.377680114351546,0.5,0.5,0.534264829056575,0.54348154026773,0.47968976753101,0.582636148382005,0.507271986756707,0.430330290892376,0.381038487846834,0.40794618817015,0.329228117734711,0.585105027485529,0.518240513498207,0.39440916448761,0.52030228127092,0.348146832607003,0.384475554489567,0.33133776501593,0.355211905316776,0.363130407670122,0.362997658079625,0.587753548316929,0.536939902630561,0.395995058838827,0.543243661899107,0.654061592097618,0.474274850724919,0.553789731051345,0.621702086923224,0.454569762195224,0.542050007261047,0.496911589272302,0.436087348041423,0.726597432568874,0.692357013427496,0.5,0.696353475769806,0.518467813562486,0.529089970356018,0.521083163143594,0.724458204334365,0.704914419230049,0.736716057986405,0.650507676271121,0.554596164596651,0.418699750485168,0.507800954602909,0.472940224020112,0.319990346537369,0.316879118349495,0.435681208130242,0.414868909009222,0.372212330095376,0.47902653371641,0.459978316425308,0.469308727605973,0.531154870261156,0.468185783176155,0.482473026816493,0.493552292225907,0.695012103235485,0.481300874355081,0.5,0.611176525268801,0.443237425668979,0.522523394448242,0.512629523721674,0.52614968698272,0.498175223846764,0.542043409519785,0.556786120873138,0.480654968728284,0.468714408490955,0.511402154870792,0.435486392135749,0.394688293080359,0.33981705734798,0.387676105741852,0.497317750742408,0.405716602123457,0.376830865112313,0.408844889010688,0.360529188542912,0.359232127328783,0.430607104984093,0.627074029403136,0.571251748694596,0.652585204243471,0.628879631772481,0.47034578763244,0.48354656684731,0.52849398014504,0.581962971177508,0.442700889601867,0.478560558589204,0.530824551087792,0.455069838985784,0.537829889863542,0.421372824298416,0.491506552517942,0.478714990864218,0.408489196344692,0.575295688931114,0.56356576685751,0.526323073881236,0.471098037493963,0.541428925824857,0.680656315339169,0.759494069156467,0.453283960617545,0.520290839596181,0.478339965009522,0.458643877632796,0.305348834892455,0.585970685405632,0.54256675444136,0.440881320321787,0.36633673088631,0.429069505282144,0.431252523268629,0.46169368603919,0.461069082940208,0.41532186294868,0.483103855613006,0.488367539775097,0.441568477889962,0.431192925117754,0.445633769923905,0.395301752338514,0.481431444726955,0.44993319738415,0.444074964080234,0.35036287402967,0.424345478517464,0.386107672794511,0.361334566188935,0.546276625744957,0.59429004165089,0.460403320464412,0.517108583407741,0.475292010974027,0.666388066894064,0.45359957961114,0.576139193163304,0.5673772265833,0.571003125794781,0.642596795268551,0.558649796891887,0.513907692806589,0.460408645162427,0.572374437923939,0.616630939815671,0.657481010422187,0.552036913211591,0.705678683013283,0.427550790913862,0.514272892064554,0.351996665428284,0.363972443236949,0.5,0.5,0.464584718326226,0.340891545932748,0.604347724238094,0.569028364104912,0.524087728067983,0.706487055990367,0.5,0.784206517599695,0.738846350178663,0.627008615507914,0.595722567383421,0.597817430690359,0.649254336854746,0.630800562478786,0.466589952892948,0.662197943086485,0.604726802948552,0.605262853507605,0.476412100698117,0.56534505564678,0.709933950385473,0.646063454759107,0.596912833716953,0.446597633136095,0.532540376574755,0.706046391669488,0.720563836244689,0.674403291015556,0.736748926212725,0.7936955820703,0.580228168089297,0.572572997254804,0.546720702226312,0.571036600714897,0.530712206424743,0.650840069021887,0.625020345306807,0.587678968369023,0.642068261169038,0.5,0.5,0.648361923036966,0.480898827710243,0.507015713329077,0.518602113570799,0.530832861189802,0.488881155962087,0.682241304278603,0.489931989819335,0.506481560344093,0.5,0.5,0.590422610082396,0.574558877265999,0.484753344824756,0.5,0.5,0.516934471415847,0.5,0.5,0.486208881794154,0.5,0.522465904770104,0.5,0.5,0.5,0.473543800961739,0.667558423751043,0.5,0.429565201020399,0.5,0.53267509374622,0.717533809720664,0.5,0.564213099987132,0.5,0.563594294643215,0.341316519320995,0.418425816286255,0.40045810729355,0.334199336289922,0.520325626154126,0.6338921784372,0.479339747312778,0.468389752973468,0.454012892828364,0.425987385375214,0.626141767001869,0.543791378436362,0.559836798813082,0.479342890622139,0.563150749254828,0.37712280563219,0.5,0.566230980294338,0.557058666681178,0.661531127435047,0.609501732296135,0.395904354343464,0.3392149767195,0.625157515516259,0.326311479804454,0.366300528351493,0.288572552608971,0.610861986166809,0.612423844460024,0.413270590578628,0.413731799577977,0.445749457707241,0.579442732670843,0.465378939231179,0.305100617364399,0.340681381866111,0.371116537783204,0.616315808810022,0.506045648273931,0.649965717953581,0.663389452009107,0.284338669902533,0.614522208262508,0.631716612566659,0.549327136195415,0.600203915788836,0.292182035431546,0.564076354114026,0.279754525167369,0.507069829260812,0.763192465618673,0.705297903726194,0.696159881080188,0.652471341616672,0.514493008098104,0.546993465319656,0.615958352792506,0.641524848933284,0.628048475136462,0.484216948192371,0.486652056698633,0.424751733636166,0.334750814297575,0.411583360463494,0.31107467259272,0.31469410878484,0.53966106243675,0.701854955791363,0.249490260726216,0.281962275850233,0.342808682865753,0.565509765460023,0.344400527009223,0.775964308353996,0.747370635254523,0.700217820434279,0.612978687237435,0.599030171924068,0.69077461103524,0.519733975967398,0.430135701230854,0.39024958273493,0.360234752853165,0.329791990461794,0.318419251824818,0.372450763830173,0.707846054143223,0.603109305343942,0.285488206729102,0.324215200799564,0.359993266630896,0.413820602178895,0.712689123328962,0.628041206491508,0.419707663960724,0.38233827876507,0.616677630440051,0.638108659733696,0.654629604346995,0.323841134927774,0.653623854616775,0.540352908681426,0.31688057065156,0.553581970642686,0.59692778596531,0.627794352403786,0.644394999972932,0.332033992906141,0.557626285261752,0.295649375347436,0.272640153330139,0.288701143168209,0.312868160907182,0.326538286580743,0.347310940038891,0.391135718178949,0.365219264094366,0.338137821076824,0.541455284078761,0.356873029601317,0.539846037642141,0.713180778607153,0.568625965284487,0.449414225499414,0.522394168335122,0.485812397398333,0.370354082030928,0.351088538743401,0.402364331893218,0.455416022700731,0.544232430226951,0.461254126137606,0.530814647737827,0.452371044489877,0.348432138489486,0.343719890672417,0.371891885430115,0.358664781535638,0.393421213018267,0.311616528320153,0.325280695400217,0.340700754358481,0.412100967878381,0.706029193083419,0.630486402255779,0.71049939551753,0.740696615039596,0.751001326986523,0.398692905521698,0.419671290022141,0.5,0.327723299725746,0.326057426285486,0.218420998765019,0.288098452265093,0.276311440577931,0.362078095275452,0.574005519283839,0.307492461770407,0.246544375785369,0.324338362915384,0.381245940059355,0.448934506353861,0.266902351890444,0.404410513405825,0.350847512558743,0.60271846838425,0.696509686952715,0.747195036700454,0.547116414664954,0.480486393714416,0.296494156928214,0.5,0.491112645435923,0.598801330867119,0.36314888458131,0.683118875007803,0.349194443959929,0.358778625954198,0.320084610288173,0.368932959861796,0.340597561353976,0.469936451979498,0.550500570942985,0.359515229272404,0.460733323401968,0.621263163148176,0.349551212146632,0.351721233814086,0.485483165202171,0.324251612076696,0.371674691215766,0.352898256477933,0.355259196821001,0.312523594746568,0.405129144965149,0.352183780656255,0.613291903037905,0.579423394003426,0.43802149891002,0.487526205450734,0.676292274496928,0.532206326967038,0.734149900753169,0.578583899558511,0.653545147475722,0.54552870670534,0.577925850902209,0.522358008179347,0.539598776488743,0.445127249802636,0.448315999421154,0.321680926349923,0.320598355491656,0.494092228138532,0.420072123562632,0.406537258362076,0.457871267727961,0.602548015364917,0.71516832792222,0.671304694697452,0.557587924112143,0.350583706962186,0.401098487068496,0.401831360202284,0.402265362547195,0.381914200822174,0.332599732828462,0.328763649793565,0.528417828151325,0.383278921220724,0.619840977692704,0.549998497912098,0.561589624042736,0.451352331549274,0.570397661952713,0.424770099410549,0.443573128523389,0.512263617515864,0.662228279863004,0.539737316022214,0.514536612440697,0.475950054623898,0.536424635400865,0.488389311924275,0.451544601701373,0.56287303560221,0.424168394483007,0.676335027882483,0.774101285472775,0.593848034222856,0.406430050495877,0.614203410305255,0.605703652560497,0.557751669815589,0.608380947330744,0.623544011402172,0.5,0.440517488304001,0.350335494854911,0.571416098544103,0.619642441838656,0.264096409979041,0.590587669916243,0.65594177193286,0.472763002906306,0.47000613401719,0.796204061182989,0.391067404449006,0.5,0.406831063578775,0.548905275583272,0.536220691851439,0.736423209005462,0.446770545884599,0.429733865850472,0.536042008763534,0.661160604822231,0.382676223605414,0.538647769399541,0.615292057891072,0.604858654021521,0.642279958951496,0.66151993533594,0.283818980530789,0.702925736587511,0.366409785349017,0.524505969771561,0.371450406907093,0.521219056157508,0.546926635822868,0.405581139777068,0.4548434421763,0.536156640636174,0.321514073115497,0.468793883601186,0.492947112161733,0.5,0.5,0.318799732318619,0.383503494018714,0.372629000997462,0.220340466755761,0.572620830424379,0.572770430438955,0.754257139927595,0.266299499670325,0.679672504401467,0.640175979957838,0.565527749252132,0.314662182061865,0.341510450146806,0.729311899683649,0.538418388970607,0.638500235811979,0.512944801163339,0.339122570764681,0.647886679179392,0.29520646449597,0.578810172367598,0.349331477441546,0.271639762903264,0.313288386254893,0.676093538943594,0.278378929270908,0.273040814020166,0.522689179535088,0.67396082346039,0.60085718320756,0.245777389369985,0.325673196619275,0.508649796042416,0.257134115527809,0.283890986938638,0.646569408852748,0.638646425648881,0.639203178333613,0.698533923617978,0.410658715160294,0.380436783782573,0.562312831144897,0.567619685895653,0.331910252206556,0.567871589085072,0.564085374691984,0.65835822487732,0.772442744081804,0.636181649511077,0.66492833910019,0.273834199436133,0.263613098798692,0.33419269486164,0.632175271586222,0.337903592992181,0.703131861303285,0.697106687229475,0.666726033154996,0.396540121860222,0.428218069993649,0.443671663669871,0.278767500881563,0.314209070681445,0.675166405846911,0.702823907932187,0.52125806782092,0.33738569398632,0.23797907895308,0.616186797572698,0.253912882713256,0.675042186571598,0.295191567127108,0.301439073065167,0.305193107940472,0.687409943553611,0.507927348269544,0.616465656461533,0.584786154981819,0.282537752295539,0.338205494305999,0.367004505941972,0.374511696042413,0.5,0.673210484067986,0.514519375943634,0.239176279603716,0.273558343700734,0.617459493056561,0.276171609538996,0.421045314252347,0.278720268043144,0.590206446273392,0.466136325497648,0.727232739239516,0.76315209295397,0.632124159086989,0.703008903725282,0.217918465325593,0.636125464751362,0.321845050014839,0.577783688982466,0.5,0.267567638217227,0.334291275725565,0.786393251890634,0.425235653865583,0.260214031429451,0.5,0.628382874634578,0.724058028826694,0.375484321299489,0.622307953196541,0.502861864756921,0.612770555682897,0.263191006055833,0.667281863505047,0.275195925123225,0.645082793940522,0.300805121738287,0.262921492215087,0.360719337038586,0.648681820413373,0.642379272006574,0.688727295592965,0.525968959502239,0.770943583509455,0.532009774254759,0.457116451879408,0.378535540190309,0.563170108961595,0.271134791336984,0.382072346627799,0.618145323514492,0.707186063159715,0.605443188578227,0.450128228613299,0.573421124996181,0.291529636096798,0.274009858915519,0.762151154858693,0.720786814975863,0.302170174890839,0.266280209955586,0.401306055813479,0.540957696886035,0.632857418264706,0.647416733205826,0.710540668100058,0.227638198892671,0.564638710296517,0.276852109783332,0.393337578993778,0.256919021818714,0.261231996684281,0.241498071321735,0.283662235872481,0.614919951832915,0.210193716342105,0.698071409292069,0.747344548861806,0.251870908581472,0.214442575922445,0.772260103109929,0.766354666828745,0.70489967452941,0.585040817429853,0.316492223842255,0.64214783502799,0.62292245284176,0.302971460478451,0.432231061950885,0.361244304621393,0.356131025768265,0.7327206358806,0.264269132440666,0.639656771316335,0.298419656246395,0.704103973744357,0.421760998001362,0.316637680423495,0.729871123640757,0.741999982983213,0.655157618044415,0.454171856101651,0.745238116660518,0.726044568245125,0.329545658857585,0.633861956044698,0.717979238634942,0.711605341118887,0.406652955534887,0.465099944394041,0.418973132676555,0.679128672745694,0.330438007674063,0.506733162576174,0.209680488201035,0.715627924513058,0.717369419972044,0.267387402924263,0.376772899702805,0.31971434158778,0.650707078366273,0.682259859811678,0.5,0.253093950737095,0.691941912526848,0.668828028528099,0.498420684835779,0.467228755444169,0.608426704436648,0.548519119923273,0.723889337533359,0.670038204461204,0.616885283960649,0.602886986621381,0.781978980490147,0.410838908408336,0.647809632532461,0.628791203118144,0.639798134039431,0.781710327255355,0.651938798055678,0.580073709857594,0.526126366302319,0.375293499587224,0.672538703554093,0.514923940065498,0.340590846994536,0.389683275584403,0.503550150225454,0.362237305588869,0.540998044241445,0.521502424477105,0.622405711877231,0.614326293211725,0.323585703841826,0.524646572419312,0.537006416405945,0.317425245922998,0.657823959498706,0.307318945116795,0.606110815235615,0.696955134975286,0.257793703869836,0.587156518947859,0.504037416892133,0.285493282670647,0.728993199354811,0.683036662560007,0.753580289315395,0.372515876218207,0.47365422087007,0.648687448728466,0.278288825512056,0.730922046560318,0.573930744926737,0.764771005349909,0.745405905442908,0.613012872865865,0.733421925934628,0.293340624620245,0.322021461226745,0.699298727474949,0.627351445652405,0.780437879479413,0.269244084321229,0.248692745565263,0.361150506681645,0.342147127935431,0.65223109153745,0.607740282471281,0.444751444164663,0.655054328235234,0.414935079273948,0.483210144552988,0.731093322098167,0.401957335209646,0.582969829625509,0.315935757939453,0.323238619143741,0.688845881967552,0.395866109223027,0.711769589472622,0.79851933358051,0.733517704167861,0.684172824004765,0.680790984016817,0.729594028312063,0.74403428559739,0.471189227124506,0.692414602359346,0.374040140401404,0.712258575482849,0.708280316233183,0.285331332943552,0.49124568642325,0.275945662230446,0.293980976991812,0.272061488415674,0.657024022182526,0.752574341888724,0.703415942543004,0.694999556325629,0.793096225243055,0.622409248315904,0.736979318805866,0.693365421826625,0.275149314348512,0.643780454554988,0.282048742219352,0.559706012784875,0.33970827808297,0.374040788355974,0.235470969023393,0.308268237862096,0.320032514188669,0.339475475958597,0.620585481214159,0.695885758931852,0.373376785660732,0.498409599092999,0.446129838384059,0.501437064812311,0.254708323774167,0.763887766212894,0.675994630872483,0.763287676045514,0.29133686027011],[0.582441466493716,0.491779404154654,0.520638341244649,0.442037473644334,0.462650916709465,0.495683969144476,0.459945407729116,0.423262878410184,0.371218839294512,0.310932790542921,0.546446174726766,0.715259574012793,0.572184513709029,0.790747324833636,0.460971080259394,0.415656295503848,0.418080135640448,0.375046670815184,0.354111892387649,0.424805999478655,0.355406116601368,0.631512151341345,0.607800097991181,0.258182975772252,0.433456461933171,0.432545609730076,0.456562196836207,0.372185179033291,0.521602377989769,0.383657504316338,0.377771302501769,0.303318450161844,0.361405288857886,0.362008046507684,0.610146902922914,0.520608400977224,0.456858140655106,0.556428853215185,0.5922918153585,0.500442289421092,0.317520309539017,0.374176824522338,0.564432259630949,0.540614032851522,0.593365253077975,0.609750144517952,0.695165636913369,0.5,0.723985183901573,0.681611816219052,0.650325193275249,0.607934733276509,0.77845802635675,0.532255035741559,0.437370391846603,0.5,0.735919648462021,0.662139571347868,0.347555574083145,0.744098271450569,0.613440732090939,0.60792967032967,0.433098999855051,0.306061161598966,0.373289324002896,0.327111646309995,0.345356169264295,0.600769399429927,0.298242549177178,0.323860857413785,0.472277081285181,0.3807088857653,0.353905848053507,0.312434104168131,0.3295179970005,0.335503258090765,0.353096205488614,0.414260958760403,0.485621274186565,0.489989028063122,0.333920080188737,0.5,0.5,0.537655264444151,0.569624232814358,0.496564651705128,0.574756682961201,0.554883917153366,0.498640616883336,0.373254601816037,0.418400446271771,0.327812007450924,0.515130667694029,0.543693545104259,0.431844147491177,0.511940824233885,0.391107462528468,0.376150988804018,0.338530827263267,0.372497687761596,0.363480979845765,0.372397784535825,0.583226655078864,0.521958823845616,0.405121132333069,0.482335797088131,0.590774465939883,0.475692619566033,0.474971243203879,0.570722449767332,0.430290568327378,0.471263468721278,0.435270330695803,0.325230374240603,0.687121093953101,0.658138688029964,0.5,0.622126126126126,0.464257136957307,0.454460751514848,0.441730179455258,0.655889029726227,0.645753018428299,0.71767111831273,0.592314901593252,0.517840430915557,0.33476008492569,0.432681579828183,0.438086364033427,0.258964814649068,0.257645435732352,0.367006194717539,0.327050616535936,0.331987936172688,0.384103709870618,0.410368418816131,0.406995276041418,0.527972300637896,0.392910651965226,0.440577443503321,0.446819024088944,0.648615729005498,0.488226920339342,0.5,0.527807022715596,0.424172274562584,0.467706494265283,0.434338272866633,0.455419502745739,0.474100253195081,0.496737947208077,0.513621570149293,0.448162403232704,0.408234635490508,0.432391459562024,0.392431792392323,0.380189898904266,0.309693144620022,0.330344992460186,0.467061998707568,0.367814246865085,0.389996118227694,0.452029151899366,0.337550741417551,0.333267350251396,0.382723136759619,0.615818098420811,0.516102632902901,0.641858671551142,0.611958627633446,0.442527782385139,0.40954695391835,0.473498126206609,0.544599176413999,0.332424791001363,0.425085609620132,0.508439323845659,0.372721302863147,0.5,0.34788553730581,0.468729770269203,0.359387960012223,0.291326369871313,0.495287392978927,0.616039781358331,0.493278098596627,0.357544011232314,0.507782897659469,0.637994499909045,0.754483731192212,0.372770831965892,0.460934982714133,0.428150765606596,0.422682863234099,0.411239360330152,0.608774204828581,0.483854088802512,0.349514753647934,0.316756605379089,0.378952368614242,0.430240357060108,0.381102139613774,0.41182071787242,0.356907837166159,0.430308293530178,0.428760419360614,0.351438099682446,0.378109956359383,0.357538558743555,0.335053759147041,0.477740937020675,0.453196361801503,0.411492584697719,0.390108176100629,0.404507724233341,0.329346028340262,0.401292373613463,0.516951230619408,0.603907816640971,0.406318228029533,0.56165743914228,0.38321322196018,0.629119805462678,0.351144342117261,0.54374772832667,0.529992276666953,0.511070149791309,0.615547695037504,0.544539375044623,0.492723110445072,0.413127749888551,0.546484118291347,0.614487647330229,0.647429515318822,0.49073729222705,0.682521636232859,0.454554313929314,0.365314772676572,0.330563815520961,0.341691864430938,0.5,0.5,0.392260771307205,0.397014143530644,0.694059474893795,0.585224700301175,0.58366724738676,0.76532415808451,0.5,0.727617043661231,0.753570846684408,0.595925396223111,0.611455970971295,0.523371038608956,0.689316378654494,0.636899987765256,0.444665087534952,0.632953909311439,0.561147247284407,0.605045386021747,0.429641833130039,0.492349294624863,0.657049149158665,0.57894298654589,0.574965758151683,0.381104099013541,0.471187010405706,0.661706403084777,0.681084440301406,0.588263308713726,0.670649633625613,0.671159281493074,0.458379311320488,0.517364899440963,0.54349151508993,0.544092428843777,0.516450223408017,0.657490541836878,0.616067902254073,0.605803371975451,0.690950514506603,0.5,0.5,0.50991635235209,0.42192025831368,0.483671373781167,0.573017880296458,0.495275333985011,0.428720109877923,0.608849438655011,0.453099102282575,0.527831189497414,0.5,0.5,0.51081307944053,0.534051882548252,0.45510348373827,0.5,0.5,0.671896608894676,0.5,0.5,0.447431832593532,0.5,0.480118454888658,0.464307003124944,0.479268292682927,0.39908693594633,0.5,0.572779941343334,0.5,0.407451689710496,0.5,0.504854923760293,0.5,0.5,0.574306891427425,0.5,0.510130869482754,0.335140936162954,0.44585850737471,0.462386348741048,0.405151321237672,0.517317049351724,0.615762015575513,0.468976359725692,0.35702793622934,0.452262813522356,0.391827778436722,0.503317519349823,0.467436818134887,0.563107901293905,0.429596109021633,0.552842422203341,0.510699144173799,0.5,0.591618397421411,0.64209318307679,0.513520242215922,0.543302494196219,0.367018967837146,0.616937769595802,0.72221042109209,0.429603308350703,0.325841647050032,0.303716003865169,0.619648820424432,0.6631539371087,0.453362021909948,0.385691121334184,0.483205981798412,0.56159670088351,0.585003190810466,0.323876137197025,0.451046771156748,0.414207777734583,0.609879171508203,0.570424070302623,0.699792042419404,0.684556132094445,0.338013017701415,0.735816038895931,0.713940807109022,0.610557781757741,0.522192183395839,0.338564014799402,0.587846335844592,0.380646162566296,0.474557856654831,0.628327251261136,0.729708578668853,0.674799179627414,0.73898803458616,0.533380544166977,0.659966296736423,0.549685622958305,0.736946559625125,0.465376590206491,0.522084220074661,0.258911912616921,0.66207927346449,0.429355297605528,0.276205923949086,0.342325783341776,0.334685658225701,0.40507109449336,0.51902950770122,0.239952623884225,0.308601625807446,0.28570675939097,0.4839308708191,0.366407220877755,0.797418873855268,0.696258568999071,0.682187487909622,0.563624572816733,0.594147191204619,0.672913675407441,0.66588194684156,0.407910824380219,0.413348861491506,0.408479986397397,0.333973103707642,0.342928308577781,0.402721797816,0.770708219512973,0.678718165394254,0.314708496925698,0.40778577041649,0.385093561687282,0.449582743117571,0.790134370579915,0.697255940024114,0.418248513123687,0.420789869567374,0.679282494365139,0.71263837283546,0.697082466304601,0.3877252046034,0.747233394013801,0.689406235445218,0.319966689413479,0.68831858031374,0.561529212169129,0.738615391540504,0.757732656514382,0.377608844286327,0.719439939963579,0.379073276655257,0.420272262607377,0.34468676547927,0.31116351746289,0.332323353773396,0.377469733412838,0.339399836531351,0.318410533393428,0.324563350129233,0.624828046895787,0.410050244123992,0.5396519062278,0.742222892121151,0.656368057861251,0.496168582375479,0.57539008545201,0.518740863230043,0.440044433184573,0.3932223581007,0.429169065889514,0.474076124723869,0.62495294883821,0.491990518370657,0.583139168894448,0.374731102638921,0.437343069164971,0.381002252533061,0.385502803998746,0.397456154775608,0.296829784477174,0.341449159450605,0.35265404475043,0.408651538059172,0.38381153904484,0.768499640379712,0.700492822929721,0.799458680890802,0.791385142517503,0.796677075354976,0.353959746849877,0.407743742658354,0.5,0.308708494522789,0.441235110308778,0.235119780490379,0.28853691151381,0.321746683382908,0.306336350643163,0.709168637126898,0.334704996419959,0.317527373692892,0.423271618749301,0.382889261045505,0.564297023432552,0.294390501410596,0.437598254787216,0.356699962764494,0.682929061784897,0.584471459701945,0.776153685529338,0.715438743011711,0.398766373126179,0.466796858559415,0.5,0.60927558451514,0.688158449220396,0.445262276022432,0.767565514622104,0.312412383788647,0.682262677204096,0.439710575788047,0.479708943538731,0.488283399868222,0.496806512210395,0.604751728653557,0.410174483466464,0.453905208476992,0.663884741982481,0.430238109446798,0.372796445956803,0.431854800492844,0.537978846205471,0.463083046053531,0.355923732792173,0.339230099285839,0.307144035449979,0.366797237814481,0.493654764404598,0.741837766964503,0.574281001318251,0.477176198919632,0.541186577034785,0.754858866072912,0.583828232069438,0.747614464739127,0.601040815255292,0.618971176653808,0.538713526412843,0.647202818078691,0.634781351553513,0.559798071691685,0.314117065813766,0.480807207636876,0.404680978126211,0.343067288086222,0.502631998723879,0.559804948189363,0.522580524589551,0.382889122070654,0.674684677203569,0.685017793153046,0.730343277757593,0.382412896272171,0.362526712641962,0.390757488511782,0.455546344957466,0.302010691422663,0.294125642826397,0.385299246052211,0.332998481620682,0.577727050632138,0.24205581274489,0.722672435920942,0.533594689531937,0.706252086860249,0.458927988161342,0.717140697344798,0.348431949968123,0.426439014415704,0.724491365447808,0.7198701007065,0.601341358051809,0.523516566581279,0.418743676222597,0.696940028057049,0.438822536674023,0.429392497925015,0.670250789522571,0.466214566361074,0.752370211553,0.666260490762037,0.647699691085613,0.394092184750036,0.597222076848198,0.644913887416397,0.648923323797097,0.613568845259623,0.556452101247426,0.5,0.50105507385517,0.334084493488163,0.648997701082102,0.752703505644682,0.238458815312342,0.684641407838243,0.700473051372614,0.385882747117479,0.516362020596282,0.586561249465791,0.366159903089037,0.5,0.44301725848046,0.707691682910981,0.646254674502022,0.731231213532151,0.358196098699305,0.470457616469717,0.705529657359012,0.742230832515061,0.373813451721845,0.615279604107485,0.626732165931471,0.65373489875787,0.673927101071282,0.704421783593739,0.31509314722207,0.69787083437231,0.379215221793451,0.467357662583889,0.366063973524009,0.656292388847023,0.550844212610087,0.418308844497141,0.324231943031536,0.495245486543904,0.640888421951179,0.414661231825914,0.513711064399006,0.5,0.5,0.516858979909941,0.471419514600458,0.502613839592791,0.366497901149398,0.627291024894959,0.679624083852155,0.708055522161702,0.466404277932775,0.581220262178346,0.689965141583379,0.707801435166896,0.372145253565256,0.408284490479704,0.745492841202578,0.639283580538743,0.684494210605853,0.636716165970939,0.360000297428729,0.7039274493002,0.300552652129513,0.600783334279389,0.3666030643748,0.332406052257759,0.356600481847636,0.734134417947896,0.313590635438323,0.272292341924892,0.625904079769679,0.695043560544262,0.731759948955817,0.270618147147624,0.278284438973747,0.553029684873607,0.311022074171504,0.252928866752779,0.746124523506989,0.494817022112114,0.713060616121444,0.737207860641002,0.416507221650446,0.331752253039419,0.72743810755456,0.591457337243063,0.525775514947924,0.670307452589974,0.699540908929143,0.676789292188586,0.714029426366385,0.597050117324879,0.521043326521709,0.234377037541475,0.477439278858192,0.256297006846463,0.601966537264014,0.48971497094364,0.655346302648828,0.650585502547274,0.534082365069645,0.447558501284999,0.527365883911707,0.448397856450881,0.592139129677697,0.5,0.667049124840085,0.559856232343154,0.514084413866102,0.353295702144468,0.228657640535298,0.522505229481974,0.236810058757269,0.580623881539703,0.334186599524409,0.326742224794767,0.404482801514012,0.69329592795049,0.618557294536602,0.606127312168068,0.552755869752797,0.342486651411137,0.428385292528681,0.37134951362598,0.387391037588414,0.5,0.72755314581909,0.697948683115692,0.254697971550965,0.279440726180685,0.640653774064339,0.318596558295901,0.355131452410299,0.281063417782798,0.590241120293179,0.434481245887256,0.63644572705269,0.794268776841445,0.600150858760155,0.559000776871846,0.402541091858004,0.570125759654218,0.347138628515047,0.566332478433201,0.5,0.5,0.396966555364067,0.717967687939852,0.394259522333237,0.338746185638688,0.5,0.485541221176993,0.632648283878467,0.406102359214304,0.709269563766358,0.592042773539235,0.681832879116818,0.333102756545499,0.71213529220875,0.312415761515896,0.545703483269879,0.341956190141364,0.330954011013544,0.545857813177714,0.66515034996937,0.671771654935804,0.661999419986059,0.660446596419182,0.660343010443614,0.593713287823464,0.508915796307619,0.606654779497075,0.531422451232016,0.365265349275726,0.424112424112424,0.547218011341306,0.689928200653188,0.664316978096178,0.341101345784125,0.578552214800924,0.422310908689327,0.245823332019728,0.683802038374752,0.686054577489214,0.452440958434246,0.337517812758906,0.387255854945112,0.657725760122128,0.659686567791269,0.625871770125826,0.696912437171687,0.336374689488193,0.510864669434063,0.35582209205644,0.268453653385531,0.288000728885109,0.37929469809295,0.388800225022777,0.367733277666776,0.657230100707596,0.280142763364758,0.605295550545492,0.595582194906745,0.408378586202991,0.410901272048155,0.777143157182362,0.742793887026844,0.647701031831867,0.467648577108526,0.389941775649053,0.712761460133074,0.62143078929392,0.464536769755613,0.494983441078346,0.319877551020408,0.28173994219801,0.628220571080793,0.399077535760728,0.707621069122794,0.407358686902401,0.781381321502455,0.381469589137649,0.329862299300546,0.64867959021141,0.729236600437496,0.646453870109902,0.535624643753562,0.729418521038738,0.608996202901373,0.500143082744221,0.567975020592686,0.618484134519581,0.620881446103621,0.480720031042624,0.478532313794953,0.427213209285317,0.575279525875237,0.35251022517866,0.580566335318654,0.488661643530162,0.651912827548478,0.675535760091411,0.490063317138122,0.536726077092003,0.355561766349916,0.671408123630273,0.705346670502578,0.643080389822848,0.294949187874577,0.72372864684088,0.522346352212776,0.440857479823324,0.407766367960207,0.519361609883199,0.660399316135148,0.619794758714274,0.712225888347325,0.730239664076633,0.524327113718461,0.755917341720993,0.496889411223669,0.601091559235909,0.558252765236365,0.582860522399215,0.648682373213702,0.647853181356285,0.580678755462244,0.591054263324349,0.334101590504766,0.656488760743153,0.549701479237213,0.379819308257105,0.381790715240253,0.493360952565459,0.344870901340422,0.580580892942871,0.614767568378794,0.610424433120148,0.612268268644108,0.332691189105249,0.564786690597819,0.543057761227631,0.287626004605554,0.634914393966472,0.295970744807489,0.660407435657905,0.605625348368563,0.306691031576651,0.5080898373748,0.431595903808538,0.256374731768299,0.697253053570524,0.588537405377904,0.653462673563176,0.232246372533972,0.440442803335825,0.613023199303413,0.30411551119045,0.799912816041848,0.574014355560179,0.696143142981992,0.67138222771091,0.51952037870315,0.659138072071296,0.434131067817967,0.352451110583039,0.637131913969824,0.60670763342057,0.713605200403559,0.459488092211204,0.311434054205567,0.354994395889094,0.530063567244173,0.636200763378599,0.611333000499251,0.370388019949343,0.641156733092474,0.365328133718399,0.297849020413755,0.744591930045151,0.456465905134757,0.591289677580605,0.615503634879291,0.449065198823194,0.491556687898089,0.328888284805284,0.634415313191641,0.771784471286723,0.680716679556587,0.605064189374897,0.612969993186091,0.584264050175454,0.696261775176172,0.356277677483066,0.619423274056246,0.484808332429904,0.661849966957576,0.770935154289259,0.545434738113945,0.448691648697477,0.365606554983349,0.368075322969126,0.361967297843349,0.643589439594656,0.728967392965193,0.636868179851946,0.60979080115707,0.765835969446802,0.611214199273901,0.671461059449677,0.615248738284066,0.330306574938705,0.60702519908367,0.352153946148683,0.527109266943292,0.473777514469307,0.419101425364974,0.320381568657884,0.323628948694305,0.469552303207582,0.380583657146741,0.491598461988717,0.674941843232708,0.319626426547741,0.550738088924246,0.479531708734037,0.537591195746259,0.293402570530421,0.688106667332505,0.613657703798549,0.750400641025641,0.437871307352031],[0.0294158840517872,-0.0246929804865143,0.0172435904414133,0.00172275259082699,-0.0187534960266952,-0.00201906299220805,0.0848978249350546,0.0950502538254668,0.0801231998661497,-0.117281997709995,-0.00222466973318469,-0.0242000459397007,-0.0195556797639165,-0.00132195645978317,-0.0286763886359098,-0.0176599174733816,0.113435686901552,-0.0593311403735836,-0.0321601004685969,-0.0168945588724859,-0.06571768439869,0.0113325801719143,0.0112419888527427,-0.13385431812235,-0.0586241459105268,-0.0307597090284594,0.0783962925608752,-0.0337246398987606,-0.0934492902474415,-0.0347312574767837,-0.046857367619129,-0.131634406360705,-0.137968833644948,-0.0155388171647711,0.0842877702122313,0.0122850453710291,-0.023684384832255,-0.124105670095702,-0.0355900908034502,0.176599911817271,0.0161439358327016,-0.0102554563117267,0.0478267870519916,0.00453414881222458,0.0142830051281442,0.0099802517479215,-0.007944603842304,-0.19101156102811,0.0412006821725566,0.0367462958041308,-0.0040479186868837,0.0114211853783958,0.27845802635675,0.00352807102789909,0.0260964934237804,0,-0.0531512115809859,-0.0174942327649353,-0.145305434751976,0.244098271450569,0.113440732090939,-0.00786515450519698,-0.0211566412654381,-0.0367623695536931,-0.00429135663689317,-0.0244590343182774,-0.0828842309122532,0.0255663984612432,-0.0472580912656239,-0.0584977353263196,-0.0282724042689233,-0.0974550477881019,0.00360836702223954,-0.107190494455223,-0.0158137427221006,-0.150845641289247,-0.0463747641938789,-0.0631664865996828,-0.0347177210476619,-0.038209820152937,-0.0437600341628088,0,0,0.00339043538757633,0.026142692546628,0.0168748841741188,-0.00787946542080331,0.0476119303966595,0.0683103259909595,-0.0077838860307971,0.0104542581016208,-0.00141611028378669,-0.0699743597914998,0.0254530316060529,0.037434983003567,-0.00836145703703506,0.0429606299214649,-0.00832456568554862,0.00719306224733701,0.0172857824448205,0.000350572175642605,0.0094001264561997,-0.00452689323806499,-0.014981078784945,0.00912607349424149,-0.0609078648109761,-0.0632871261577349,0.00141776884111494,-0.0788184878474653,-0.050979637155892,-0.0242791938678457,-0.0707865385397694,-0.0616412585764989,-0.11085697380082,-0.0394763386157722,-0.034218325397532,0,-0.0742273496436799,-0.0542106766051789,-0.0746292188411695,-0.0793529836883359,-0.0685691746081388,-0.0591614008017495,-0.0190449396736746,-0.058192774677869,-0.0367557336810939,-0.0839396655594777,-0.0751193747747266,-0.0348538599866843,-0.061025531888301,-0.0592336826171427,-0.0686750134127027,-0.0878182924732858,-0.0402243939226877,-0.0949228238457928,-0.0496098976091773,-0.0623134515645548,-0.0031825696232598,-0.0752751312109288,-0.0418955833131715,-0.0467332681369628,-0.0463963742299871,0.00692604598426111,0,-0.0833695025532045,-0.0190651511063951,-0.0548169001829589,-0.0782912508550413,-0.0707301842369804,-0.0240749706516834,-0.0453054623117076,-0.043164550723845,-0.0324925654955794,-0.0604797730004467,-0.0790106953087683,-0.0430545997434254,-0.0144983941760929,-0.0301239127279582,-0.0573311132816658,-0.03025575203484,-0.0379023552583719,0.0131652531153804,0.0431842628886782,-0.0229784471253608,-0.0259647770773878,-0.0478839682244739,-0.0112559309823247,-0.0551491157916947,-0.0107265326923285,-0.016921004139035,-0.0278180052473012,-0.0739996129289603,-0.0549958539384304,-0.0373637947635095,-0.110276098600504,-0.053474948969072,-0.0223852272421329,-0.0823485361226373,-0.0378298898635416,-0.073487286992606,-0.0227767822487389,-0.119327030851994,-0.117162826473379,-0.0800082959521868,0.0524740145008206,-0.0330449752846095,-0.113554026261649,-0.0336460281653885,-0.0426618154301236,-0.00501033796425543,-0.0805131286516532,-0.0593558568820482,-0.0501891994029258,-0.0359610143986977,0.105890525437697,0.0228035194229489,-0.0587126656388481,-0.0913665666738531,-0.0495801255072206,-0.0501171366679019,-0.00101216620852101,-0.080591546425416,-0.0492483650677881,-0.0584140257825208,-0.0527955620828277,-0.059607120414483,-0.090130378207516,-0.0530829687583718,-0.0880952111803501,-0.0602479931914728,-0.0036905077062806,0.00326316441735319,-0.0325823793825157,0.0397453020709591,-0.0198377542841233,-0.056761644454249,0.0399578074245277,-0.0293253951255485,0.00961777499008076,-0.0540850924348796,0.0445488557345386,-0.092078789013847,-0.0372682614313867,-0.102455237493879,-0.0323914648366342,-0.0373849499163477,-0.0599329760034714,-0.0270491002310471,-0.0141104218472642,-0.0211845823615178,-0.0472808952738764,-0.0258903196325915,-0.00214329248544176,-0.0100514951033653,-0.0612996209845405,-0.023157046780424,0.0270035230154523,-0.148958119387982,-0.0214328499073232,-0.0222805788060116,0,0,-0.0723239470190213,0.0561225975978962,0.0897117506557007,0.0161963361962636,0.0595795193187766,0.0588371020941425,0,-0.0565894739384644,0.0147244965057451,-0.0310832192848034,0.0157334035878738,-0.0744463920814031,0.0400620417997483,0.00609942528647023,-0.0219248653579966,-0.0292440337750465,-0.0435795556641454,-0.000217467485858269,-0.0467702675680777,-0.072995761021917,-0.0528848012268082,-0.0671204682132165,-0.02194707556527,-0.0654935341225538,-0.0613533661690491,-0.0443399885847106,-0.0394793959432828,-0.0861399823018294,-0.0660992925871126,-0.122536300577226,-0.12184885676881,-0.0552080978138408,-0.00322918713638243,-0.0269441718711197,-0.0142619830167259,0.00665047281499054,-0.0089524430527339,0.0181244036064274,0.0488822533375649,0,0,-0.138445570684876,-0.0589785693965627,-0.0233443395479093,0.0544157667256588,-0.0355575272047903,-0.0601610460841637,-0.073391865623592,-0.0368328875367601,0.0213496291533208,0,0,-0.0796095306418653,-0.0405069947177472,-0.0296498610864861,0,0,0.154962137478829,0,0,-0.0387770492006218,0,-0.0423474498814459,-0.0356929968750564,-0.0207317073170732,-0.10091306405367,0.0264561990382605,-0.0947784824077095,0,-0.0221135113099026,0,-0.0278201699859268,-0.217533809720664,0,0.0100937914402937,0,-0.0534634251604609,-0.00617558315804112,0.0274326910884555,0.0619282414474975,0.0709519849477507,-0.00300857680240263,-0.0181301628616872,-0.0103633875870865,-0.111361816744127,-0.00175007930600868,-0.0341596069384927,-0.122824247652046,-0.076354560301475,0.00327110248082263,-0.0497467816005063,-0.0103083270514878,0.133576338541608,0,0.0253874171270736,0.0850345163956119,-0.148010885219125,-0.0661992380999155,-0.0288853865063179,0.277722792876302,0.0970529055758317,0.103291828546249,-0.040458881301461,0.015143451256198,0.00878683425762272,0.0507300926486765,0.0400914313313207,-0.0280406782437929,0.0374565240911713,-0.0178460317873333,0.119624251579287,0.0187755198326258,0.110365389290636,0.0430912399513781,-0.00643663730181965,0.0643784220286915,0.0498263244658235,0.0211666800853385,0.0536743477988822,0.121293830633422,0.0822241945423633,0.0612306455623259,-0.0780117323929975,0.0463819793678559,0.0237699817305667,0.100891637398927,-0.0325119726059804,-0.134865214357538,0.0244106749426585,-0.0213607014527742,0.0865166929694882,0.0188875360688728,0.112972831416767,-0.0662727298342002,0.0954217106918409,-0.16267188492997,0.0378672718822899,-0.227740144081712,0.237327539828324,0.0946044833079525,-0.135377436514408,0.0312511107490554,0.019991549440861,-0.13458996794339,-0.182825448090142,-0.00953763684199116,0.026639349957213,-0.0571019234747834,-0.0815788946409232,0.0220066938685326,0.0214545655012719,-0.0511120662554517,-0.0180303325246575,-0.049354114420702,-0.00488298071944926,-0.0178609356277988,0.146147970874163,-0.0222248768506348,0.0230992787565764,0.0482452335442322,0.00418111324584824,0.0245090567529637,0.030271033985827,0.0628621653697496,0.0756088600503115,0.0292202901965966,0.0835705696169264,0.0251002950563863,0.0357621409386755,0.077445247250953,0.0692147335326061,-0.0014591508370369,0.0384515908023039,0.0626048639250878,0.0745297131017643,0.0424528619576062,0.0638840696756259,0.0936095393970259,0.149053326763791,0.00308611876191911,0.134736609671055,-0.0353985737961809,0.110821039136719,0.113337656541451,0.0455748513801854,0.161813654701828,0.0834239013078218,0.147632109277238,0.0559856223110607,-0.00170464344429289,0.00578506719265287,0.0301587933739474,-0.0517358816475985,-0.0468087307009371,-0.0135744709475911,0.0833727628170259,0.0531772145226754,-0.000194131414340881,0.0290421135139985,0.0877420925767648,0.0467543568760653,0.0529959171168884,0.0329284658317094,0.0696903511536452,0.0421338193572994,0.0268047339962959,0.0186601020231375,0.0807205186112585,0.0307363922330512,0.0523245211566215,-0.0776399418509557,0.0889109306754843,0.0372823618606436,0.0136109185686308,0.0387913732399706,-0.0965914285410931,0.0298326311304524,0.027373349350213,0.0679507837006914,-0.0282894288335404,0.0624704472962927,0.0700064206739422,0.0889592853732724,0.050688527477907,0.0456757483684523,-0.044733158671821,-0.0119275473637871,0,-0.0190148052029576,0.115177684023291,0.0166987817253595,0.000438459248717327,0.0454352428049775,-0.0557417446322882,0.135163117843058,0.0272125346495523,0.070982997907523,0.0989332558339169,0.00164332098614978,0.115362517078691,0.0274881495201523,0.0331877413813909,0.00585245020575098,0.0802105934006468,-0.112038227250769,0.0289586488288837,0.168322328346757,-0.0817200205882371,0.170302701631202,0,0.118162939079217,0.0893571183532773,0.082113391441122,0.0844466396143015,-0.0367820601712815,0.323484051249898,0.119625965499874,0.110775983676935,0.147685838514246,0.0268700602308969,0.0542511577105717,0.0506592541940607,-0.00682811492497604,0.0426215788343052,0.0806868973001664,0.0210752121427175,-0.053628364709327,0.213727234128775,0.0914083548377653,0.00302547631424022,-0.016029097535162,-0.00537955929658834,-0.0383319071506682,0.141470983748343,0.128545863926598,-0.00514239268517513,0.0391547000096119,0.0536603715840509,0.0785665915759841,0.0516219051024003,0.0134645639859575,0.022456915696781,-0.0345739708219139,-0.00681518029249728,0.0692769671764818,0.112423343374167,0.0201992952029416,-0.13101018398887,0.0324912082157215,0.0830000517762883,0.0224689325945656,0.00853977058534738,0.139732824626731,0.116043266227475,-0.0749821456573072,0.0721366618386521,-0.0301505347691741,0.0590385830601411,-0.175175027839972,0.011943005679776,-0.0103409985567146,0.0537149847551815,-0.100254671124532,-0.0877885579957771,0.0526995132237491,0.00423483182711731,0.0493092224808134,-0.141223108475834,0.102831458228238,-0.0164038083801609,0.144662462817513,0.0075756566120676,0.146743035392086,-0.0763381494424259,-0.0171341141076847,0.212227747931945,0.057641820843496,0.0616040420295951,0.00897995414058184,-0.0572063784013006,0.160515392656184,-0.0495667752502515,-0.0221521037763579,0.107377753920361,0.0420461718780662,0.0760351836705169,-0.107840794710739,0.0538516568627575,-0.0123378657458411,-0.0169813334570567,0.0392102348558998,0.0911716539815084,0.00518789792887897,-0.0670919101547459,0,0.0605375855511694,-0.0162510013667478,0.0775816025379995,0.133061063806026,-0.0256375946666998,0.0940537379219997,0.0445312794397537,-0.086880255788827,0.0463558865790915,-0.209642811717198,-0.0249075013599691,0,0.0361861949016857,0.158786407327709,0.110033982650583,-0.00519199547331162,-0.0885744471852932,0.0407237506192453,0.169487648595478,0.0810702276928293,-0.00886277188356949,0.0766318347079441,0.0114401080403985,0.0488762447363486,0.0316471421197861,0.042901848257799,0.0312741666912801,-0.00505490221520066,0.0128054364444346,-0.0571483071876719,-0.00538643338308392,0.135073332689516,0.00391757678721871,0.0127277047200725,-0.130611499144764,-0.04091115409227,0.319374348835683,-0.0541326517752719,0.0207639522372732,0,0,0.198059247591322,0.0879160205817446,0.129984838595329,0.146157434393637,0.0546701944705799,0.106853653413201,-0.0462016177658928,0.20010477826245,-0.0984522422231208,0.0497891616255409,0.142273685914764,0.0574830715033906,0.0667740403328982,0.0161809415189291,0.100865191568137,0.0459939747938742,0.1237713648076,0.0208777266640476,0.056040770120808,0.00534618763354278,0.0219731619117908,0.0172715869332543,0.0607662893544955,0.043312095592743,0.0580408790043013,0.0352117061674153,-0.000748472095274677,0.103214900234591,0.0210827370838721,0.130902765748257,0.0248407577776394,-0.0473887576455285,0.0443798888311911,0.0538879586436943,-0.0309621201858587,0.0995551146542406,-0.143829403536767,0.073857437787831,0.0386739370230235,0.00584850649015206,-0.0486845307431546,0.165125276409663,0.0238376513474103,0.193865262741368,0.102435863504902,0.135455534237159,0.018431067311266,-0.0584133177154188,-0.0391315321861977,-0.143885012578481,-0.0394571618946574,0.2138261800595,-0.0778956880151768,-0.0302087343222087,0.151811377951459,-0.047785558654457,-0.0465211846822016,-0.132643668085351,0.0510183794247769,0.0991478139180584,0.00472619278101022,0.313371628796134,0.185790929318555,-0.00811728100682618,-0.142967675589033,-0.00717365395481784,0.0159100081581485,-0.00932143841778166,-0.0936815680907248,-0.0171028239559878,-0.0944183050318952,0.0389950323973007,0.0253031517296002,0.0992896935735393,0.00588598439687915,0.110629946267058,-0.0103383442934649,-0.0320302852290221,0.0599488991155975,0.0901797982226817,0.00434500768400836,0.0128793415460017,0,0.0543426617511037,0.183429307172059,0.0155216919472489,0.00588238247995115,0.0231942810077784,0.0424249487569052,-0.0659138618420478,0.00234314973965449,3.46740197870732e-05,-0.0316550796103924,-0.0907870121868261,0.0311166838874749,-0.0319733003268341,-0.144008126853436,0.184622626532411,-0.0659997050971431,0.0252935785002082,-0.011451210549265,0,0.232432361782773,0.0626752796385024,-0.0684255639507823,-0.0309761315323467,0.078532154209237,0,-0.142841653457585,-0.0914097449482267,0.0306180379148147,0.0869616105698173,0.0891809087823141,0.069062323433921,0.0699117504896658,0.044853428703703,0.0372198363926715,-0.0993793106706424,0.0411510684030773,0.0680325187984568,0.185138476139127,0.0164685295559962,0.0293923829292303,-0.0267278756069053,0.134477636916943,-0.110600573065841,0.0617035135687054,0.0517993444282107,0.228119239306766,-0.0317476577295784,0.0941305579387416,0.042040077484625,-0.0709273121731862,-0.0172578625065274,0.0588737895179504,-0.109026882829174,0.00513108980474342,0.130781272592529,-0.0281865268957913,-0.0783491164839414,-0.0347322374866493,0.150270783543407,0.07123760280332,-0.014050200868367,0.116768063236094,0.0268291495265638,-0.0215449630799994,-0.0136282309283711,0.108736490595521,-0.0537740408624534,0.0789699822731078,-0.124883925608248,0.0310817070663952,0.118062701408668,0.147302153701042,0.0840710417942951,0.0423101488746802,0.0699490470226536,-0.092775858746577,-0.151762353955061,0.156507677621519,0.19645869612571,0.00488305407243383,-0.0235607798019003,-0.0571986426975429,-0.117392240321327,0.073449551806798,0.0706136251050831,-0.00149166354783992,0.161565309277162,0.062752379127461,-0.0413667536009848,-0.0743910835702545,-0.104500064799806,0.134808403320063,0.0679642978064586,0.108939030656006,0.077277347758098,-0.0402914088637125,0.0132246188770508,-0.0811915334293467,-0.0127633825457173,-0.00870374793451301,0.081452787651911,-0.0158195956217805,-0.117048365343753,0.170597423886636,-0.0658869354520117,-0.0994951041153611,-0.0907238950152658,0.0740670755077374,0.0134323694009116,0.00824007660876291,-0.103849146870457,0.0220722175045968,0.07383317274248,0.278981155329127,-0.0637150969645802,-0.0418336598806323,0.222675914213859,0.159953177389198,0.0358474247621363,0.0207010452640007,0.0230868106908998,0.143080389822848,0.0418552371374815,0.0317867343140322,-0.146481676315322,-0.0575632050124552,-0.0594623874839628,-0.0890650945534486,0.111880196211875,-0.104094578819085,0.0421876838861209,0.113354380115984,-0.0785598729029201,-0.0260616387691536,0.0860505028153324,-0.0467180732965525,-0.0705384378817782,-0.056937611640216,-0.133027954041653,-0.00408561669939334,0.000605045604650356,0.0649278970220298,-0.0411919090824581,-0.01604994281094,0.0347775391717143,0.0392284612625695,-0.00789256034414959,-0.0101891976599952,-0.017366404248447,0.0395828487014258,0.0932651439016894,-0.0119812787570834,-0.00205802456761783,0.00910548526342386,0.0401401181785068,0.00605134482168657,-0.0297992413174443,-0.0229095655322337,-0.0113482003093057,0.0542966204222894,-0.091329786606723,0.0488973277068142,-0.0790666815730592,-0.0724415130835952,-0.029118550902348,-0.031740145784287,-0.0944992571821028,-0.100117615752219,-0.140269503684234,-0.0332114175342449,-0.0356642494250525,0.0258266856783941,0.0689907694815304,8.36106334416442e-05,-0.0686278623679167,-0.0740236777319981,-0.0934924941627157,-0.0742838538633311,0.140790443197721,0.0304296493562941,-0.0621668135051247,-0.020643812231835,-0.0668326790758543,0.190244007889975,0.0627413086403038,-0.00615611079255107,0.187916439308742,-0.0160303281588505,0.00359271802797012,-0.07436342421532,-0.01389759514276,-0.0496069455555486,-0.185361124139233,0.0134986079469833,0.0545085699251111,0.00831984795509599,0.299567876939838,0.125826579679453,-0.197289194069463,-0.066977824417743,-0.0773542762809819,-0.0267348622937864,-0.0528010246112738,-0.0791086346298679,-0.0678209908307259,-0.145329978136609,-0.0477725104212178,-0.114911549641441,-0.0729913283030994,0.1107681920285,-0.0504086085252727,0.0626548380560759,0.260103405170394,-0.0425540377257736,0.0896608927529023,0.0740943459773146,0.0899058094276747,-0.0134345825878698,-0.0236069489235313,-0.0665477626910579,-0.0852087551685586,-0.027260255796253,-0.011195049042003,-0.0655182593561888,-0.0781166835425591,0.0551572605901932,-0.0367552554713181,0.0701052039293306,-0.0325967458415827,0.134069236386337,0.0450606370090003,0.0849105996344909,0.0153607108322092,0.149519789018913,0.0411081811881447,-0.128987019225442,-0.0209439156991443,-0.0537503591129908,0.0523284898312474,0.0334018703499779,0.0361541309339488,0.0386942467562533,-0.075781098880389,-0.0623369270739343,-0.0128870350198728,0.146534447081921],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],["1","1","1","1","1","1","1","0","1","1","1","1","1","1","1","0","1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","1","0","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","0","1",null,"1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1",null,null,"0","1","1","1","1","1","0","0","1","0","0","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1",null,"1","1","1","0","1","1","1","1","1","0","0","0","1","1","1","1","1","0","1","1","0","1","1","1","1","1",null,"1","1","1","1","1","0","1","1","1","0","0","1","1","1","0","1","1","1","1","1","0","1","1","1","1","1","1","1","1","1","0","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","1","1","1","1","0","0","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","0","0","1","1","0","0","0","1","1","1","1","1","1","1",null,null,"0","1","1","1","0","0",null,"1","1","1","1","1","1","1","1","1","1","1","1","0","0","1","1","1","0","1","0","1","1","0","0","1","1","1","1","1","1","1","0",null,null,"1","1","1","1","1","1","1","1","1",null,null,"1","1","1",null,null,"1",null,null,"1",null,"1",null,null,null,"1","1",null,"1",null,"1","1",null,"1",null,"1","1","1","1","1","1","1","0","1","1","1","1","1","1","1","1","1",null,"1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","1","0","1","0","1","1","0","1","1","1","1","1","1","1","1","1","0","1","1","1","1","1","1","1","1","0","1","1","1","1","1","0","1","1","1","1","1","1","0","1","1","1","1","1","1","1","0","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","0","1",null,"1","1","1","1","1","0","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1",null,"1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","0",null,"1","1",null,"1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","1","1","0","1","1","1","1","1","1","1","0","1","1","0","1","1","1","1","1","1","1","1","0","0","1","1","1","1","1","1","1","1","1","1","1","0","0","0",null,"1","1","1","1","1","1","1","1","1","1","1",null,"1","1","1","1","1","1","1","1","0","1","1",null,"1","1",null,"1","0","1","1","1","1","0","1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","1",null,null,"1","1","0","1","1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1",null,"0","1","1","1","0","1","0","1","1","0","1","1","1","1","1","1","1","1",null,"1","1","1","1","1",null,"1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","0","1","1","1","1","1","1","1","1","1","1","1","1","1","0","1","0","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","1","1","1","0","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","0","1","0","1","1","1","1","1","0","1","1","1","0","1"],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>state1<\/th>\n      <th>col21<\/th>\n      <th>incumbent1<\/th>\n      <th>dem1<\/th>\n      <th>rep1<\/th>\n      <th>year1<\/th>\n      <th>election.x<\/th>\n      <th>lookup<\/th>\n      <th>state2<\/th>\n      <th>col22<\/th>\n      <th>incumbent2<\/th>\n      <th>dem2<\/th>\n      <th>rep2<\/th>\n      <th>year2<\/th>\n      <th>election.y<\/th>\n      <th>dvote1<\/th>\n      <th>dvote2<\/th>\n      <th>dvote_diff<\/th>\n      <th>contested<\/th>\n      <th>inc<\/th>\n      <th>region<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,3,4,5,9,11,12,13,16,17,18,19,21]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Finally, I can plot the data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co"># labels for regions</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>region_labeller <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"1"</span> <span class="ot">=</span> <span class="st">"Northeast"</span>,</span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"2"</span> <span class="ot">=</span> <span class="st">"Midwest"</span>,</span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"3"</span> <span class="ot">=</span>  <span class="st">"South"</span>,</span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"4"</span> <span class="ot">=</span> <span class="st">"West"</span></span>
<span id="cb95-7"><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb95-8"><a href="#cb95-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-9"><a href="#cb95-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cong, <span class="fu">aes</span>(<span class="at">x=</span>dvote1, <span class="at">y =</span> dvote_diff)) <span class="sc">+</span> </span>
<span id="cb95-10"><a href="#cb95-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color=</span>inc, <span class="at">size=</span>inc), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb95-11"><a href="#cb95-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="at">rows =</span> <span class="fu">vars</span>(election.x), <span class="at">cols =</span> <span class="fu">vars</span>(region), <span class="at">switch =</span> <span class="st">"y"</span>, <span class="at">labeller =</span> <span class="fu">labeller</span>(<span class="at">region =</span> region_labeller)) <span class="sc">+</span> </span>
<span id="cb95-12"><a href="#cb95-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb95-13"><a href="#cb95-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>),</span>
<span id="cb95-14"><a href="#cb95-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.placement =</span> <span class="st">"outside"</span>,</span>
<span id="cb95-15"><a href="#cb95-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line=</span><span class="fu">element_line</span>()</span>
<span id="cb95-16"><a href="#cb95-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb95-17"><a href="#cb95-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"black"</span>, <span class="st">"grey"</span>), <span class="at">na.translate =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb95-18"><a href="#cb95-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="fl">0.75</span>, <span class="fl">0.5</span>), <span class="at">na.translate =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb95-19"><a href="#cb95-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">slope =</span> <span class="dv">0</span>, <span class="at">intercept =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb95-20"><a href="#cb95-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">"Vote Swing"</span>, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.25</span>, <span class="dv">0</span>, <span class="fl">0.25</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"-25%"</span>, <span class="st">"0%"</span>, <span class="st">"25%"</span>)) <span class="sc">+</span></span>
<span id="cb95-21"><a href="#cb95-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="st">"Dem. Vote in Election 1"</span>, <span class="at">breaks =</span> <span class="fu">c</span>(.<span class="dv">25</span>, .<span class="dv">50</span>, .<span class="dv">75</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"25%"</span>, <span class="st">"50%"</span>, <span class="st">"75%"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 38 rows containing missing values (`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-57-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>While I wasn’t able to get exactly the same output as the textbook, I’m content with the grid of plots I created with ggplot.</p>
</section>
<section id="applying-graphical-principles-to-numerical-displays-and-communication-more-generally" class="level4">
<h4 class="anchored" data-anchor-id="applying-graphical-principles-to-numerical-displays-and-communication-more-generally">Applying graphical principles to numerical displays and communication more generally</h4>
<p>Avoid overwhelming the reader with irrelevant material.</p>
<p>Do not report numbers to too many decimal places. You should display precision in a way that respects the uncertainty and variability in the numbers being presented. It makes sense to save lots of digits for intermediate steps in computations.</p>
<p>You can often make a list or table of numbers more clear by first subtracting out the average (or for a table, row and column averages).</p>
<p>A graph can almost always be made smaller than you think and still be readable. This then leaves room for more plots on a grid, which then allows more patterns to be seen at once and compared.</p>
<p>Never display a graph you can’t talk about. Give a full caption for every graph (this explains to yourself and others what you are trying to show and what you have learned from each plot).</p>
<p>Avoid displaying graphs that have been made simply because they are conventional.</p>
</section>
<section id="graphics-for-understanding-statistical-models" class="level4">
<h4 class="anchored" data-anchor-id="graphics-for-understanding-statistical-models">Graphics for understanding statistical models</h4>
<p>Three uses of graphs in statistical analysis:</p>
<ol type="1">
<li>Displays of raw data. Exploratory analysis.</li>
<li>Graphs of fitted models and inferences (and simulated data).</li>
<li>Graphs presenting your final results.</li>
</ol>
<p>The goal of any graph is communication to self and others. Graphs are comparisons: to zero, to other graphs, to horizontal lines, and so forth. The unexpected is usually not an “outlier” or aberrant point but rather a systematic pattern in some part of the data.</p>
</section>
<section id="graphs-as-comparisons" class="level4">
<h4 class="anchored" data-anchor-id="graphs-as-comparisons">Graphs as comparisons</h4>
<p>When making a graph, line things up so that the most important comparisons are clearest.</p>
</section>
<section id="graphs-of-fitted-models" class="level4">
<h4 class="anchored" data-anchor-id="graphs-of-fitted-models">Graphs of fitted models</h4>
<p>It can be helpful to graph a fitted model and data on the same plot. Another use of graphics with fitted models is to plot predicted datasets and compare them visually to actual data.</p>
</section>
</section>
<section id="data-and-adjustment-trends-in-mortality-rates" class="level3">
<h3 class="anchored" data-anchor-id="data-and-adjustment-trends-in-mortality-rates">2.4 Data and adjustment: trends in mortality rates</h3>
<p><strong>Aggregation bias</strong>: occurs when it is wrongly assumed that the trends seen in aggregated data also apply to individual data points.</p>
<p>I referenced <a href="https://health.mo.gov/data/mica/CDP_MICA/AARate.html#:~:text=The%20age%2Dadjusted%20rates%20are,for%20differences%20in%20age%20distributions.">this Missouri Department of Health &amp; Senior Services page</a> to learn more about how to calculate age-adjusted death rates.</p>
<p>In the following code chunks I’ll recreate Figures 2.11 and 2.12 using <a href="https://avehtari.github.io/ROS-Examples/AgePeriodCohort/births.html">their code provided on the supplemental website</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co"># deaton &lt;- read.table(root("AgePeriodCohort/data","deaton.txt"), header=TRUE)</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>ages_all <span class="ot">&lt;-</span> <span class="dv">35</span><span class="sc">:</span><span class="dv">64</span></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>ages_decade <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">35</span><span class="sc">:</span><span class="dv">44</span>, <span class="dv">45</span><span class="sc">:</span><span class="dv">54</span>, <span class="dv">55</span><span class="sc">:</span><span class="dv">64</span>)</span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a>years_1 <span class="ot">&lt;-</span> <span class="dv">1999</span><span class="sc">:</span><span class="dv">2013</span></span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>mort_data <span class="ot">&lt;-</span> <span class="fu">as.list</span>(<span class="fu">rep</span>(<span class="cn">NA</span>,<span class="dv">3</span>))</span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a>group_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Non-Hispanic white"</span>, <span class="st">"Hispanic white"</span>, <span class="st">"African American"</span>)</span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-8"><a href="#cb97-8" aria-hidden="true" tabindex="-1"></a>fpath_1 <span class="ot">&lt;-</span> <span class="fu">file.path</span>(data_root_path, <span class="st">"AgePeriodCohort/data"</span>, <span class="st">"white_nonhisp_death_rates_from_1999_to_2013_by_sex.txt"</span>)</span>
<span id="cb97-9"><a href="#cb97-9" aria-hidden="true" tabindex="-1"></a>fpath_2 <span class="ot">&lt;-</span> <span class="fu">file.path</span>(data_root_path, <span class="st">"AgePeriodCohort/data"</span>, <span class="st">"white_hisp_death_rates_from_1999_to_2013_by_sex.txt"</span>)</span>
<span id="cb97-10"><a href="#cb97-10" aria-hidden="true" tabindex="-1"></a>fpath_3 <span class="ot">&lt;-</span> <span class="fu">file.path</span>(data_root_path, <span class="st">"AgePeriodCohort/data"</span>, <span class="st">"black_death_rates_from_1999_to_2013_by_sex.txt"</span>)</span>
<span id="cb97-11"><a href="#cb97-11" aria-hidden="true" tabindex="-1"></a>mort_data[[<span class="dv">1</span>]] <span class="ot">&lt;-</span> <span class="fu">read.table</span>(fpath_1, <span class="at">header=</span><span class="cn">TRUE</span>)</span>
<span id="cb97-12"><a href="#cb97-12" aria-hidden="true" tabindex="-1"></a>mort_data[[<span class="dv">2</span>]] <span class="ot">&lt;-</span> <span class="fu">read.table</span>(fpath_2, <span class="at">header=</span><span class="cn">TRUE</span>)</span>
<span id="cb97-13"><a href="#cb97-13" aria-hidden="true" tabindex="-1"></a>mort_data[[<span class="dv">3</span>]] <span class="ot">&lt;-</span> <span class="fu">read.table</span>(fpath_3, <span class="at">header=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(mort_data[[<span class="dv">1</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-91563d0a2d34ba7ab628" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-91563d0a2d34ba7ab628">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490","491","492","493","494","495","496","497","498","499","500","501","502","503","504","505","506","507","508","509","510","511","512","513","514","515","516","517","518","519","520","521","522","523","524","525","526","527","528","529","530","531","532","533","534","535","536","537","538","539","540","541","542","543","544","545","546","547","548","549","550","551","552","553","554","555","556","557","558","559","560","561","562","563","564","565","566","567","568","569","570","571","572","573","574","575","576","577","578","579","580","581","582","583","584","585","586","587","588","589","590","591","592","593","594","595","596","597","598","599","600","601","602","603","604","605","606","607","608","609","610","611","612","613","614","615","616","617","618","619","620","621","622","623","624","625","626","627","628","629","630","631","632","633","634","635","636","637","638","639","640","641","642","643","644","645","646","647","648","649","650","651","652","653","654","655","656","657","658","659","660","661","662","663","664","665","666","667","668","669","670","671","672","673","674","675","676","677","678","679","680","681","682","683","684","685","686","687","688","689","690","691","692","693","694","695","696","697","698","699","700","701","702","703","704","705","706","707","708","709","710","711","712","713","714","715","716","717","718","719","720","721","722","723","724","725","726","727","728","729","730","731","732","733","734","735","736","737","738","739","740","741","742","743","744","745","746","747","748","749","750","751","752","753","754","755","756","757","758","759","760","761","762","763","764","765","766","767","768","769","770","771","772","773","774","775","776","777","778","779","780","781","782","783","784","785","786","787","788","789","790","791","792","793","794","795","796","797","798","799","800","801","802","803","804","805","806","807","808","809","810","811","812","813","814","815","816","817","818","819","820","821","822","823","824","825","826","827","828","829","830","831","832","833","834","835","836","837","838","839","840","841","842","843","844","845","846","847","848","849","850","851","852","853","854","855","856","857","858","859","860","861","862","863","864","865","866","867","868","869","870","871","872","873","874","875","876","877","878","879","880","881","882","883","884","885","886","887","888","889","890","891","892","893","894","895","896","897","898","899","900"],[35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,57,57,57,57,57,57,57,57,57,57,57,57,57,57,57,57,57,57,57,57,57,57,57,57,57,57,57,57,57,57,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,59,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013],[1291,1264,1186,1194,1166,1166,1201,1197,1147,1098,989,1013,1038,1073,1168,2624,2443,2380,2194,2161,2268,2202,2326,2067,1915,1890,1887,1887,1989,2026,1494,1377,1432,1375,1293,1200,1282,1280,1265,1144,1156,1185,1161,1122,1189,2682,2671,2638,2438,2398,2193,2211,2351,2327,2151,2039,1888,1942,2087,2057,1636,1592,1652,1545,1453,1403,1322,1383,1387,1389,1351,1229,1154,1219,1226,3015,2945,3060,2899,2659,2459,2395,2404,2509,2555,2268,2128,2041,2145,2099,1806,1770,1858,1723,1686,1570,1506,1437,1490,1500,1507,1422,1329,1296,1349,3326,3312,3406,3222,3032,2762,2630,2549,2635,2695,2648,2399,2290,2172,2208,1974,1987,2104,2094,1963,1834,1750,1705,1570,1570,1663,1614,1522,1462,1445,3497,3551,3618,3546,3468,3178,3005,2833,2690,2682,2776,2743,2679,2371,2302,2041,2149,2258,2266,2168,2104,1990,1845,1856,1757,1822,1782,1825,1643,1597,3816,3914,3992,4095,3833,3638,3485,3234,3020,2809,2969,2920,3002,2741,2545,2253,2358,2372,2457,2442,2286,2268,2188,2035,1958,1977,1874,1902,1982,1808,4127,4176,4230,4359,4284,4074,3967,3637,3443,3321,3265,3100,3253,3142,2919,2400,2506,2539,2719,2707,2648,2633,2548,2288,2214,2065,1958,2174,2132,2171,4382,4485,4519,4703,4602,4513,4577,4302,3923,3578,3554,3331,3401,3368,3465,2590,2769,2858,2949,2908,2936,2916,2835,2711,2613,2435,2255,2275,2290,2281,4822,4935,5040,5041,5134,4914,4849,4821,4487,4251,3835,3520,3538,3535,3674,2854,2837,3074,3158,3186,3143,3199,3171,3078,3038,2937,2597,2548,2385,2500,5000,5190,5330,5552,5552,5254,5398,5152,5038,4853,4590,4154,3930,3786,3902,3000,3023,3264,3421,3434,3462,3497,3467,3258,3372,3207,2956,2821,2718,2682,5304,5581,5572,5796,5853,5748,5855,5633,5547,5379,5286,4922,4486,4148,4036,3162,3115,3404,3522,3659,3825,3781,3705,3781,3681,3696,3564,3448,3104,2933,5647,5917,6013,6352,6410,6258,6279,6218,6226,6006,5836,5656,5166,4779,4688,3271,3451,3655,3763,3815,3923,4021,4057,4085,4131,4071,3910,3768,3615,3421,5864,6225,6505,6625,6790,6859,6663,6768,6488,6654,6450,6224,6133,5686,5289,3379,3570,3672,4028,4069,4171,4373,4349,4431,4382,4487,4182,4151,4132,3881,6082,6579,6840,6998,7193,7111,7230,7401,7029,7182,7020,6853,6695,6402,6081,3714,3713,4111,4208,4357,4417,4511,4638,4548,4849,4778,4718,4811,4529,4576,6551,6831,7115,7331,7573,7489,7899,7808,7749,7823,7650,7751,7542,7151,7028,4021,4158,4139,4283,4558,4689,4867,4924,5056,5158,5187,5126,5322,5008,5006,6787,7096,7294,7713,7940,8036,8248,8383,8355,8576,8258,8320,8311,8072,7890,4560,4378,4422,4640,4782,4854,5107,5199,5394,5499,5579,5469,5572,5644,5612,7472,7431,7667,7987,8299,8458,8684,8783,8853,9205,9259,8818,8893,8953,8832,5239,4987,4936,4789,4985,5003,5404,5504,5529,5801,6119,6089,6049,6013,6099,8521,8274,8039,8377,8440,9015,9413,9470,9328,9567,9864,9595,9722,9633,9637,4546,5750,5571,5424,5241,5225,5486,5692,5755,6043,6248,6094,6462,6335,6474,7165,9171,8781,8946,8853,9337,9688,9850,10120,10150,10368,10410,10428,10317,10377,4765,5031,6181,6010,5826,5727,5762,6007,6130,6176,6541,6631,6967,6837,6889,7758,7683,9905,9599,9755,9430,9901,10113,10236,10789,10836,10746,11089,11066,11100,5427,5269,5329,6791,6439,6132,6212,6316,6342,6597,6802,6739,7211,7376,7587,8721,8373,8434,10819,10465,10062,10382,10482,10969,11296,11399,11515,11787,12085,12069,6241,5961,5791,5774,7321,6897,6656,6679,6617,6952,7218,7307,7363,7784,8143,9676,9178,9006,9166,11744,10829,10739,10782,11067,11669,11954,12068,12654,12550,13003,6025,6730,6531,6305,6302,7886,7536,7251,7122,7091,7433,7493,8108,8045,8448,9404,10381,9860,9545,9712,12252,11864,11538,11804,11907,12434,12572,12894,13216,13408,6202,6653,7393,6970,6874,6748,8469,8039,7687,7661,7738,7967,8074,8484,8626,9631,10060,11215,10590,10327,10297,13233,12853,12366,12478,12691,13160,13558,13951,14485,6705,6903,7249,7907,7683,7190,7265,9255,8620,8242,8208,8239,8461,8847,8984,10138,10263,10697,12049,11515,10807,11095,13996,13212,13207,13254,13682,14086,14422,14897,7097,7288,7398,7878,8666,7990,7675,7782,9711,9375,9090,8669,8800,9282,9586,10671,10682,11142,11665,12780,11913,11685,11890,14804,14638,14184,13999,14537,15126,15490,7727,7910,7698,7865,8460,9268,8724,8260,8139,10661,9922,9494,9378,9695,9901,11447,11244,11218,11621,12602,13515,12644,12128,12333,16099,15093,14619,14685,15300,16089,8091,8355,8369,8350,8651,8939,9971,9355,8784,9033,11241,10496,10385,10009,10205,11897,12268,12169,12389,12623,12974,14688,13458,12856,13308,17027,16370,15627,16020,16563,8828,8709,9042,8865,8985,9077,9706,10557,9816,9681,9751,12006,11583,11222,11018,12867,12813,12895,13032,12988,13094,14027,15251,14470,13997,14258,17563,17140,16764,17057,9758,9539,9316,9603,9834,9544,9635,10045,11061,10672,10097,10303,13098,12212,12198,14240,13769,13357,13659,13627,13428,13872,14401,16096,15691,14581,15004,19055,18200,17761],[1578829,1528463,1377466,1333639,1302188,1325435,1383427,1349975,1239648,1155005,1118758,1150645,1104963,1144768,1157021,1601492,1545416,1388564,1343310,1315510,1344809,1410021,1364524,1257370,1166742,1134826,1171302,1118977,1160186,1173443,1587027,1559523,1496866,1377044,1332831,1301485,1324585,1382581,1348981,1238750,1153953,1113589,1147365,1105487,1144934,1584927,1558989,1511046,1385715,1338550,1313889,1340849,1406075,1359696,1252908,1161599,1124152,1165814,1119717,1159583,1624798,1576056,1554229,1494439,1373938,1329366,1297474,1320063,1377069,1343001,1232804,1164760,1118320,1147612,1105602,1630794,1576036,1559237,1506700,1379892,1335607,1308647,1335906,1399035,1352601,1245984,1171744,1130288,1166396,1119418,1615867,1613998,1574644,1552765,1492942,1372911,1328466,1296970,1319480,1376554,1342770,1254823,1148573,1118614,1147668,1615478,1616216,1571768,1554527,1501433,1378145,1332255,1306223,1332504,1395155,1348812,1266843,1155103,1130648,1165832,1659066,1644873,1602270,1573223,1551459,1492191,1372474,1328374,1297031,1319796,1377071,1364632,1230771,1148686,1118355,1661896,1639431,1602442,1569226,1552013,1503633,1379789,1335666,1309642,1336709,1400082,1373471,1241089,1154986,1129693,1672820,1673748,1642618,1598969,1569276,1547164,1487614,1367963,1323400,1291709,1313862,1369451,1342446,1230488,1147917,1685587,1688687,1637990,1595322,1560129,1544664,1494331,1371210,1325691,1298659,1324140,1390248,1353318,1240744,1153597,1633997,1622085,1660797,1641848,1598988,1570432,1549158,1490574,1371503,1327505,1296401,1305670,1370166,1341863,1229243,1626261,1615477,1669979,1634918,1592925,1561143,1545916,1498215,1375267,1330385,1303958,1313017,1385719,1352543,1239235,1657792,1660528,1627555,1657389,1637784,1594574,1565676,1544000,1485322,1366134,1321775,1292760,1316035,1369478,1340650,1656577,1656852,1623360,1664628,1628684,1588549,1555542,1541359,1493435,1370553,1325369,1303419,1324854,1384202,1350606,1586599,1620636,1647985,1625600,1655577,1636534,1593885,1565438,1544318,1485949,1367068,1330251,1288968,1315147,1367896,1570920,1610750,1642182,1618569,1659334,1625229,1584707,1552594,1538607,1491103,1368410,1328929,1297047,1323097,1381490,1582310,1589128,1641228,1642323,1618646,1647323,1627177,1583608,1554086,1532025,1472943,1371654,1320900,1287693,1313266,1578461,1579754,1628858,1633476,1607957,1648680,1612655,1571718,1538303,1523318,1474835,1370019,1320162,1294959,1319912,1586160,1604062,1582745,1636204,1636840,1612930,1641270,1620980,1577340,1547617,1525353,1497398,1353538,1319446,1285609,1580233,1603209,1569892,1620113,1623536,1598410,1637839,1601855,1560536,1526554,1510677,1495558,1352095,1317328,1290938,1514128,1539987,1596311,1580056,1634229,1635669,1612814,1642209,1622797,1580005,1551103,1533398,1463686,1351803,1316891,1492955,1517387,1591084,1566269,1617673,1623933,1600286,1642142,1607976,1568096,1535291,1518705,1458028,1348852,1312668,1501724,1521965,1555337,1593967,1578391,1633292,1635467,1613382,1643701,1625026,1582902,1554544,1524948,1461316,1348595,1484528,1503099,1535422,1586288,1561527,1614402,1621343,1598906,1641599,1607985,1568469,1537954,1511800,1453804,1343492,1413387,1481776,1519320,1551501,1589834,1574064,1628612,1630777,1608438,1638570,1619766,1587746,1547889,1521926,1457669,1392588,1464374,1495632,1527960,1577599,1552817,1604717,1611243,1588419,1630200,1595889,1568093,1528628,1506627,1447624,1440339,1425320,1479362,1517296,1549926,1589041,1573946,1629335,1632301,1610704,1641651,1623154,1573096,1544472,1517965,1419067,1401215,1460349,1491055,1524044,1575345,1551330,1604869,1612559,1590724,1633561,1597594,1550149,1522405,1499627,1444564,1444691,1445177,1474338,1511242,1542996,1581150,1565307,1619657,1621797,1599395,1640542,1618244,1569296,1540171,1424187,1427951,1416911,1451025,1479816,1511466,1560886,1535555,1587187,1593345,1570098,1626419,1591445,1542974,1514639,1416582,1402969,1435038,1444244,1474667,1513002,1546370,1586146,1571779,1627989,1631732,1602626,1624601,1613805,1564462,1388375,1374140,1414344,1413580,1449359,1480656,1514396,1566400,1543093,1597374,1605813,1572967,1603848,1583400,1534695,1560321,1463985,1411792,1430487,1438910,1468451,1506027,1538457,1577365,1562272,1617536,1630568,1601473,1619586,1608396,1533310,1435246,1381048,1406095,1404074,1438806,1468770,1501536,1552250,1528091,1580764,1598355,1570257,1595377,1574349,1091656,1461301,1422309,1409335,1428764,1437993,1468406,1506784,1540004,1579895,1565663,1596930,1615684,1596167,1613740,1056726,1427937,1390596,1375783,1401669,1400637,1436129,1467311,1501213,1553170,1530007,1559534,1579456,1561258,1585438,1143606,1100253,1534202,1420170,1408058,1428411,1438646,1469787,1509024,1543278,1584120,1572193,1611897,1610165,1590152,1111369,1068317,1496660,1384786,1370374,1397069,1396196,1432209,1463899,1498389,1550845,1530524,1570191,1569431,1550858,1145179,1127298,1115044,1527537,1412847,1399751,1419096,1428035,1457867,1495588,1528353,1571426,1562230,1605981,1603645,1106803,1091584,1081138,1484264,1371243,1355360,1380025,1377299,1410863,1440066,1472106,1528364,1515826,1559253,1558400,1199591,1144604,1122101,1112941,1526342,1412890,1401304,1422000,1432212,1463447,1502723,1518473,1562312,1555796,1599040,1154872,1099673,1083831,1076798,1480527,1369962,1356246,1383200,1382205,1417840,1449386,1460640,1513299,1504237,1547463,1035978,1170267,1126125,1117513,1108118,1519504,1406304,1394604,1414755,1424651,1455383,1492999,1525998,1555503,1548701,986153,1119224,1079262,1075863,1068211,1468661,1358666,1344601,1370742,1368918,1403683,1435594,1465458,1500991,1492006,983354,1034168,1187333,1122007,1113848,1104580,1515526,1403080,1391872,1412547,1422950,1453608,1486801,1518740,1547995,931469,980590,1132168,1071597,1068645,1061260,1459628,1350531,1336983,1363303,1361864,1395774,1422824,1452578,1488010,939970,964074,1044321,1181055,1115618,1107254,1097742,1505965,1393765,1382158,1402332,1388189,1443583,1478969,1510744,884485,906738,987716,1122075,1061790,1058845,1051240,1446022,1337669,1323774,1349599,1325711,1382039,1409184,1439100,940527,936599,967415,1036004,1170420,1104323,1095233,1084644,1486675,1374374,1361259,1386816,1404837,1435225,1470789,882409,880671,907516,975425,1106521,1045802,1041790,1032870,1419223,1310745,1295180,1327403,1335736,1367786,1395274,896723,911237,938643,963848,1033893,1169812,1105841,1098854,1089873,1497689,1386536,1362488,1371401,1396413,1426570,837789,851829,877955,900803,970190,1103176,1045028,1043652,1036726,1429759,1322690,1296122,1305798,1321379,1353323,857240,891598,905738,932832,958024,1027639,1162959,1099765,1093245,1084594,1491698,1417898,1361070,1362575,1386701,794322,828911,844475,868167,890638,959302,1090857,1033826,1032653,1025838,1416454,1346429,1287794,1291064,1305851,854355,850048,894375,899604,926862,952004,1021464,1156556,1094122,1087897,1079692,1410698,1368556,1351079,1351332,783710,780200,825954,834881,858930,881787,950298,1081449,1025858,1025145,1019083,1335940,1293228,1271673,1273922,868866,849365,847184,885791,890378,916833,941275,1009682,1142604,1079945,1073040,1046312,1469883,1357268,1339839,791764,772256,775156,813973,822303,845933,867895,935255,1064379,1008630,1007262,982320,1385585,1275753,1255101],[81.8,82.7,86.1,89.5,89.5,88,86.8,88.7,92.5,95.1,88.4,88,93.9,93.7,100.9,163.8,158.1,171.4,163.3,164.3,168.6,156.2,170.5,164.4,164.1,166.5,161.1,168.6,171.4,172.7,94.1,88.3,95.7,99.9,97,92.2,96.8,92.6,93.8,92.4,100.2,106.4,101.2,101.5,103.8,169.2,171.3,174.6,175.9,179.1,166.9,164.9,167.2,171.1,171.7,175.5,167.9,166.6,186.4,177.4,100.7,101,106.3,103.4,105.8,105.5,101.9,104.8,100.7,103.4,109.6,105.5,103.2,106.2,110.9,184.9,186.9,196.2,192.4,192.7,184.1,183,180,179.3,188.9,182,181.6,180.6,183.9,187.5,111.8,109.7,118,111,112.9,114.4,113.4,110.8,112.9,109,112.2,113.3,115.7,115.9,117.5,205.9,204.9,216.7,207.3,201.9,200.4,197.4,195.1,197.7,193.2,196.3,189.4,198.3,192.1,189.4,119,120.8,131.3,133.1,126.5,122.9,127.5,128.4,121,119,120.8,118.3,123.7,127.3,129.2,210.4,216.6,225.8,226,223.5,211.4,217.8,212.1,205.4,200.6,198.3,199.7,215.9,205.3,203.8,122,128.4,137.5,141.7,138.2,136,133.8,134.9,140.2,136,138.7,130.1,135.9,133.5,139.1,226.4,231.8,243.7,256.7,245.7,235.5,233.2,235.9,227.8,216.3,224.2,210,221.8,220.9,220.6,137.9,145.4,142.8,149.6,152.7,145.6,146.4,146.8,148.4,147.5,152.5,143.5,138.8,147.7,147.1,253.8,258.5,253.3,266.6,268.9,261,256.6,242.8,250.4,249.6,250.4,236.1,234.8,232.3,235.5,144.8,150.9,156,164.1,165.3,166.1,168.2,165,154,162.1,156.2,151.5,165.2,155.7,161.9,264.5,270.7,278.4,282.5,282.6,284.1,294.2,279.1,262.7,261.1,268.2,255.6,256.7,243.3,256.6,163.2,170.9,173.4,181.4,175.6,179.4,182.9,181.1,175.5,175.8,178.1,169.5,176.5,174.1,166.8,307,306.4,306.9,311.4,309.4,302.4,306,310.5,291.6,285.1,280.3,264.9,272.8,267.2,265.9,180.4,178.5,187.3,192.3,196.8,190.8,196.6,200.2,198.1,198.3,199.4,189.3,192.9,185.2,190.4,316.8,328.5,327.2,339.9,345.3,318.7,334.7,327.8,327.5,318.6,311.2,303.2,297.7,292.4,295.6,189.1,188.5,206.2,209.1,209.8,214.6,213.1,213.9,206.6,217.9,210.2,197.4,208.4,206,208.6,335.6,348.1,354.9,357.8,360.5,359.6,357.5,351.7,355.5,352.4,349.9,329.1,331.8,314.9,312.6,208.8,202.3,213.2,222.9,223.9,233.8,234.4,225.6,233,233,238.3,232.4,235.6,229.6,222.7,378.2,389.9,377.9,405.5,396.2,385.4,392.4,378.7,387.2,383,380.1,372.4,354.3,354.3,357.1,217.8,226.7,235,236.1,241.7,240.2,245.9,251.5,248.5,254.2,257.2,251.5,247.1,247.4,253.7,395,414.1,423.7,417.6,434.8,424.9,411,423.3,395.2,413.8,411.2,404.7,405.7,391.1,393.7,239.1,240.9,241.7,259.6,255.9,265,268.5,266.7,275.5,267.4,277,263.4,268.2,271.5,266.2,436.7,449.3,457.3,458,455.9,457.9,450.5,459.3,442.5,440.6,439.9,437,438,424.9,420.1,257.9,260.5,277.9,277.3,281.1,278,286.6,284.7,278.6,301,291,290.7,305.8,293.2,301.5,461.6,487.5,487.2,491.7,496.9,475.4,509.2,486.5,480.5,491.8,468.3,485.2,486.5,469.7,468.6,278.4,287.8,286.4,290.5,301.6,303.9,307.8,314.6,312.2,318,324.3,312.5,328.9,319.1,325,476.6,496.9,514.8,531.6,536.6,531.7,528.4,545.9,526.4,538.2,526,511.6,522.2,523.1,520.9,321.9,312.1,308.1,321.3,324.3,320.8,330.3,327.8,343.2,337.8,341.9,341.3,343,349.7,358.7,538.2,540.8,542.1,565,572.6,571.2,573.4,560.7,573.7,576.3,576.6,560.6,554.5,565.4,575.5,335.8,340.6,349.6,334.8,346.4,340.7,358.8,357.8,350.5,371.3,378.3,373.4,377.7,371.3,379.2,555.7,576.5,582.1,595.8,601.1,626.6,640.9,630.7,600.9,626.1,624,600.3,619.1,603.8,612.1,416.4,393.5,391.7,384.9,366.8,363.4,373.6,377.8,373.7,382.5,399.1,381.6,400,396.9,401.2,678,642.3,631.5,650.2,631.6,666.6,674.6,671.3,674.1,653.5,677.6,667.5,660.2,660.8,654.5,416.7,457.3,402.9,423.2,413.8,400.9,400.5,408.7,406.2,400.2,412.9,421.8,432.2,424.6,433.2,698.1,719.2,661.8,693.2,711.8,675,709.1,706.1,699.2,720,698.7,702.1,706.2,705.1,715.7,473.9,467.4,477.9,444.6,455.7,438.1,437.7,442.3,435,441.1,445.1,428.8,461.6,459.3,473.1,787.9,767.1,780.1,728.9,763.2,742.4,752.3,761.1,777.5,784.4,774.3,753.4,777.6,775.1,774.4,520.3,520.8,516.1,518.8,479.6,488.1,475,469.7,462,475,480.3,481.2,471.3,500.3,509.2,837.8,834.6,830.9,851.2,793.2,790.5,791.8,779.5,800.7,823,824.8,826.2,836.2,834.3,840.3,581.6,575.1,580,564.2,568.7,519,535.9,519.9,503.4,497.7,510.7,501.9,531.3,517.2,545.5,953.6,927.5,913.6,887.2,909.2,834.2,873.2,858.1,861.1,869.8,885.8,875.7,879.9,880.5,898.7,630.7,643.3,622.7,621.2,617.1,610.9,558.8,573,552.3,542.4,543.8,548.1,543,558.6,557.2,1034,1025.9,990.6,988.2,966.4,970.3,906.6,951.7,924.9,915.3,931.9,942.8,952.9,960.4,973.4,713.3,716,694.1,669.5,688.7,649.4,661.8,614.6,618.5,596.3,585.3,593.5,586.1,598.2,594.7,1146.2,1131.9,1083,1073.8,1084.5,1020.6,1055.4,967.9,987.7,997.7,982.1,1032,1019.2,1023.4,1035.2,754.6,778.1,764.7,760.4,740.4,723.5,700.8,717.5,653.2,682.1,667.8,625.1,626.4,646.7,651.8,1209.3,1212.9,1227.7,1195.9,1155,1139.1,1121.6,1151.2,1043.1,1116.8,1095.1,1054.6,1088.3,1105.9,1110.2,861.7,868.1,820.1,816,818.3,792.3,788.9,751.7,746.8,711.8,715.6,696.8,683.8,694.3,694,1366.3,1320,1277.7,1290.1,1298.9,1225.1,1209.9,1162.1,1189.6,1126,1141.1,1127.9,1124.6,1157.9,1188.9,943.8,937.1,924,895.1,903,869.9,857.4,850.6,803.5,832.8,753.6,740.3,763,734.6,735.9,1497.8,1480,1441,1427,1417.3,1352.4,1346.5,1301.8,1244.9,1297.3,1202.1,1215.8,1213.5,1240.8,1268.4,1033.3,1024.5,1011,985.4,969.4,953.5,950.2,912.8,897.2,889.9,903.1,851.1,846.4,830.6,815.3,1641.8,1642.3,1561.2,1560.9,1512.1,1484.9,1476.1,1410.2,1410.5,1365.4,1399.1,1314.7,1325.4,1318.3,1338.9,1123.1,1123.1,1099.6,1084.1,1104.5,1041,1023.6,994.9,968.1,988.2,941,984.7,891.1,899.7,910.4,1798.5,1783,1723.1,1678.1,1657.2,1587.4,1598.4,1539.8,1512.2,1555.7,1447.6,1527.4,1375.2,1426.6,1415.1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Age<\/th>\n      <th>Male<\/th>\n      <th>Year<\/th>\n      <th>Deaths<\/th>\n      <th>Population<\/th>\n      <th>Rate<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>raw_death_rate <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="cn">NA</span>, <span class="fu">c</span>(<span class="fu">length</span>(years_1), <span class="dv">3</span>, <span class="dv">3</span>))</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>male_raw_death_rate <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="cn">NA</span>, <span class="fu">c</span>(<span class="fu">length</span>(years_1), <span class="dv">3</span>, <span class="dv">3</span>))</span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>female_raw_death_rate <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="cn">NA</span>, <span class="fu">c</span>(<span class="fu">length</span>(years_1), <span class="dv">3</span>, <span class="dv">3</span>))</span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>avg_death_rate <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="cn">NA</span>, <span class="fu">c</span>(<span class="fu">length</span>(years_1), <span class="dv">3</span>, <span class="dv">3</span>))</span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>male_avg_death_rate <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="cn">NA</span>, <span class="fu">c</span>(<span class="fu">length</span>(years_1), <span class="dv">3</span>, <span class="dv">3</span>))</span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>female_avg_death_rate <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="cn">NA</span>, <span class="fu">c</span>(<span class="fu">length</span>(years_1), <span class="dv">3</span>, <span class="dv">3</span>))</span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-8"><a href="#cb99-8" aria-hidden="true" tabindex="-1"></a><span class="co"># k represents the 3 different race/ethnicity groups</span></span>
<span id="cb99-9"><a href="#cb99-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (k <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>){</span>
<span id="cb99-10"><a href="#cb99-10" aria-hidden="true" tabindex="-1"></a>  data <span class="ot">&lt;-</span> mort_data[[k]]</span>
<span id="cb99-11"><a href="#cb99-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb99-12"><a href="#cb99-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># the Male column is 0 for Female, 1 for Male</span></span>
<span id="cb99-13"><a href="#cb99-13" aria-hidden="true" tabindex="-1"></a>  male <span class="ot">&lt;-</span> data[,<span class="st">"Male"</span>]<span class="sc">==</span><span class="dv">1</span></span>
<span id="cb99-14"><a href="#cb99-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb99-15"><a href="#cb99-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># j represents the 3 different age decades</span></span>
<span id="cb99-16"><a href="#cb99-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 35:44, 45:54, 55:64</span></span>
<span id="cb99-17"><a href="#cb99-17" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>){</span>
<span id="cb99-18"><a href="#cb99-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># years1 is from 1999 to 2013</span></span>
<span id="cb99-19"><a href="#cb99-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(years_1)){</span>
<span id="cb99-20"><a href="#cb99-20" aria-hidden="true" tabindex="-1"></a>      ok <span class="ot">&lt;-</span> data[,<span class="st">"Year"</span>]<span class="sc">==</span>years_1[i] <span class="sc">&amp;</span> data[,<span class="st">"Age"</span>] <span class="sc">%in%</span> ages_decade[[j]]</span>
<span id="cb99-21"><a href="#cb99-21" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb99-22"><a href="#cb99-22" aria-hidden="true" tabindex="-1"></a>      <span class="co"># raw death rate calculated as</span></span>
<span id="cb99-23"><a href="#cb99-23" aria-hidden="true" tabindex="-1"></a>      <span class="co"># 100,000 * deaths / population</span></span>
<span id="cb99-24"><a href="#cb99-24" aria-hidden="true" tabindex="-1"></a>      raw_death_rate[i,j,k] <span class="ot">&lt;-</span> <span class="fl">1e5</span><span class="sc">*</span><span class="fu">sum</span>(data[ok,<span class="st">"Deaths"</span>])<span class="sc">/</span><span class="fu">sum</span>(data[ok,<span class="st">"Population"</span>])</span>
<span id="cb99-25"><a href="#cb99-25" aria-hidden="true" tabindex="-1"></a>      male_raw_death_rate[i,j,k] <span class="ot">&lt;-</span> <span class="fl">1e5</span><span class="sc">*</span><span class="fu">sum</span>(data[ok<span class="sc">&amp;</span>male,<span class="st">"Deaths"</span>])<span class="sc">/</span><span class="fu">sum</span>(data[ok<span class="sc">&amp;</span>male,<span class="st">"Population"</span>])</span>
<span id="cb99-26"><a href="#cb99-26" aria-hidden="true" tabindex="-1"></a>      female_raw_death_rate[i,j,k] <span class="ot">&lt;-</span> <span class="fl">1e5</span><span class="sc">*</span><span class="fu">sum</span>(data[ok<span class="sc">&amp;!</span>male,<span class="st">"Deaths"</span>])<span class="sc">/</span><span class="fu">sum</span>(data[ok<span class="sc">&amp;!</span>male,<span class="st">"Population"</span>])</span>
<span id="cb99-27"><a href="#cb99-27" aria-hidden="true" tabindex="-1"></a>      avg_death_rate[i,j,k] <span class="ot">&lt;-</span> <span class="fu">mean</span>(data[ok,<span class="st">"Rate"</span>])</span>
<span id="cb99-28"><a href="#cb99-28" aria-hidden="true" tabindex="-1"></a>      male_avg_death_rate[i,j,k] <span class="ot">&lt;-</span> <span class="fu">mean</span>(data[ok<span class="sc">&amp;</span>male,<span class="st">"Rate"</span>])</span>
<span id="cb99-29"><a href="#cb99-29" aria-hidden="true" tabindex="-1"></a>      female_avg_death_rate[i,j,k] <span class="ot">&lt;-</span> <span class="fu">mean</span>(data[ok<span class="sc">&amp;!</span>male,<span class="st">"Rate"</span>])</span>
<span id="cb99-30"><a href="#cb99-30" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb99-31"><a href="#cb99-31" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb99-32"><a href="#cb99-32" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="fl">2.5</span>, <span class="dv">3</span>, <span class="dv">3</span>, .<span class="dv">2</span>), <span class="at">mgp=</span><span class="fu">c</span>(<span class="dv">2</span>,.<span class="dv">5</span>,<span class="dv">0</span>), <span class="at">tck=</span><span class="sc">-</span>.<span class="dv">01</span>)</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">range</span>(years_1), <span class="fu">c</span>(<span class="dv">1</span>, <span class="fl">1.1</span>), <span class="at">xaxt=</span><span class="st">"n"</span>, <span class="at">yaxt=</span><span class="st">"n"</span>, <span class="at">type=</span><span class="st">"n"</span>, <span class="at">bty=</span><span class="st">"l"</span>, <span class="at">xaxs=</span><span class="st">"i"</span>, <span class="at">xlab=</span><span class="st">""</span>, <span class="at">ylab=</span><span class="st">"Death rate relative to 1999"</span>, <span class="at">main=</span><span class="st">"Age-adjusted death rates for non-Hispanic whites aged 45-54:</span><span class="sc">\n</span><span class="st">Trends for women and men"</span>)</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(years_1, male_avg_death_rate[,<span class="dv">2</span>,<span class="dv">1</span>]<span class="sc">/</span>male_avg_death_rate[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>], <span class="at">col=</span><span class="st">"blue"</span>)</span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(years_1, female_avg_death_rate[,<span class="dv">2</span>,<span class="dv">1</span>]<span class="sc">/</span>female_avg_death_rate[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>], <span class="at">col=</span><span class="st">"red"</span>)</span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">1</span>, <span class="fu">seq</span>(<span class="dv">1990</span>,<span class="dv">2020</span>,<span class="dv">5</span>))</span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">2</span>, <span class="fu">seq</span>(<span class="dv">1</span>, <span class="fl">1.1</span>, .<span class="dv">05</span>))</span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="fl">2011.5</span>, <span class="fl">1.075</span>, <span class="st">"Women"</span>, <span class="at">col=</span><span class="st">"red"</span>)</span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="fl">2010.5</span>, <span class="fl">1.02</span>, <span class="st">"Men"</span>, <span class="at">col=</span><span class="st">"blue"</span>)</span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a><span class="fu">grid</span>(<span class="at">col=</span><span class="st">"gray"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-61-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>mean_age_45_54 <span class="ot">&lt;-</span> <span class="cf">function</span>(yr){</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>  ages <span class="ot">&lt;-</span> <span class="dv">45</span><span class="sc">:</span><span class="dv">54</span></span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>  ok <span class="ot">&lt;-</span> births<span class="sc">$</span>year <span class="sc">%in%</span> (yr <span class="sc">-</span> ages)</span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">sum</span>(births<span class="sc">$</span>births[ok]<span class="sc">*</span><span class="fu">rev</span>(ages))<span class="sc">/</span><span class="fu">sum</span>(births<span class="sc">$</span>births[ok]))</span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>number_of_deaths <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="fu">length</span>(years_1))</span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>number_of_people <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="fu">length</span>(years_1))</span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a>avg_age <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="fu">length</span>(years_1))</span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a>avg_age_census <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="fu">length</span>(years_1))</span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-6"><a href="#cb102-6" aria-hidden="true" tabindex="-1"></a><span class="co"># data for white non-hispanic death rates</span></span>
<span id="cb102-7"><a href="#cb102-7" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> mort_data[[<span class="dv">1</span>]]</span>
<span id="cb102-8"><a href="#cb102-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-9"><a href="#cb102-9" aria-hidden="true" tabindex="-1"></a>death_rate_extrap_1999 <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="fu">length</span>(years_1))</span>
<span id="cb102-10"><a href="#cb102-10" aria-hidden="true" tabindex="-1"></a>death_rate_extrap_2013 <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="fu">length</span>(years_1))</span>
<span id="cb102-11"><a href="#cb102-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-12"><a href="#cb102-12" aria-hidden="true" tabindex="-1"></a><span class="co"># data for Males</span></span>
<span id="cb102-13"><a href="#cb102-13" aria-hidden="true" tabindex="-1"></a>male <span class="ot">&lt;-</span> data[,<span class="st">"Male"</span>]<span class="sc">==</span><span class="dv">1</span></span>
<span id="cb102-14"><a href="#cb102-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-15"><a href="#cb102-15" aria-hidden="true" tabindex="-1"></a>ok_1999 <span class="ot">&lt;-</span> data[,<span class="st">"Year"</span>]<span class="sc">==</span><span class="dv">1999</span> <span class="sc">&amp;</span> data[,<span class="st">"Age"</span>] <span class="sc">%in%</span> ages_decade[[<span class="dv">2</span>]] </span>
<span id="cb102-16"><a href="#cb102-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-17"><a href="#cb102-17" aria-hidden="true" tabindex="-1"></a>death_rate_1999 <span class="ot">&lt;-</span> (data[ok_1999 <span class="sc">&amp;</span> male, <span class="st">"Deaths"</span>] <span class="sc">+</span> data[ok_1999 <span class="sc">&amp;</span> <span class="sc">!</span>male, <span class="st">"Deaths"</span>])<span class="sc">/</span>(data[ok_1999 <span class="sc">&amp;</span> male, <span class="st">"Population"</span>] <span class="sc">+</span> data[ok_1999 <span class="sc">&amp;</span> <span class="sc">!</span>male, <span class="st">"Population"</span>])</span>
<span id="cb102-18"><a href="#cb102-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-19"><a href="#cb102-19" aria-hidden="true" tabindex="-1"></a>ok_2013<span class="ot">&lt;-</span> data[,<span class="st">"Year"</span>]<span class="sc">==</span><span class="dv">2013</span> <span class="sc">&amp;</span> data[,<span class="st">"Age"</span>] <span class="sc">%in%</span> ages_decade[[<span class="dv">2</span>]] </span>
<span id="cb102-20"><a href="#cb102-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-21"><a href="#cb102-21" aria-hidden="true" tabindex="-1"></a>death_rate_2013 <span class="ot">&lt;-</span> (data[ok_2013 <span class="sc">&amp;</span> male, <span class="st">"Deaths"</span>] <span class="sc">+</span> data[ok_2013 <span class="sc">&amp;</span> <span class="sc">!</span>male, <span class="st">"Deaths"</span>])<span class="sc">/</span>(data[ok_2013 <span class="sc">&amp;</span> male, <span class="st">"Population"</span>] <span class="sc">+</span> data[ok_2013 <span class="sc">&amp;</span> <span class="sc">!</span>male, <span class="st">"Population"</span>])</span>
<span id="cb102-22"><a href="#cb102-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-23"><a href="#cb102-23" aria-hidden="true" tabindex="-1"></a>age_adj_rate_flat <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="fu">length</span>(years_1))</span>
<span id="cb102-24"><a href="#cb102-24" aria-hidden="true" tabindex="-1"></a>age_adj_rate_1999 <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="fu">length</span>(years_1))</span>
<span id="cb102-25"><a href="#cb102-25" aria-hidden="true" tabindex="-1"></a>age_adj_rate_2013 <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="fu">length</span>(years_1))</span>
<span id="cb102-26"><a href="#cb102-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-27"><a href="#cb102-27" aria-hidden="true" tabindex="-1"></a>ok <span class="ot">&lt;-</span> data[,<span class="st">"Age"</span>] <span class="sc">%in%</span> ages_decade[[<span class="dv">2</span>]]</span>
<span id="cb102-28"><a href="#cb102-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-29"><a href="#cb102-29" aria-hidden="true" tabindex="-1"></a>pop1999 <span class="ot">&lt;-</span> data[ok <span class="sc">&amp;</span> data[,<span class="st">"Year"</span>]<span class="sc">==</span><span class="dv">1999</span> <span class="sc">&amp;</span> male,<span class="st">"Population"</span>] <span class="sc">+</span> data[ok <span class="sc">&amp;</span> data[,<span class="st">"Year"</span>]<span class="sc">==</span><span class="dv">1999</span> <span class="sc">&amp;</span> <span class="sc">!</span>male,<span class="st">"Population"</span>]</span>
<span id="cb102-30"><a href="#cb102-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-31"><a href="#cb102-31" aria-hidden="true" tabindex="-1"></a>pop2013 <span class="ot">&lt;-</span> data[ok <span class="sc">&amp;</span> data[,<span class="st">"Year"</span>]<span class="sc">==</span><span class="dv">2013</span> <span class="sc">&amp;</span> male,<span class="st">"Population"</span>] <span class="sc">+</span> data[ok <span class="sc">&amp;</span> data[,<span class="st">"Year"</span>]<span class="sc">==</span><span class="dv">2013</span> <span class="sc">&amp;</span> <span class="sc">!</span>male,<span class="st">"Population"</span>]</span>
<span id="cb102-32"><a href="#cb102-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-33"><a href="#cb102-33" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(years_1)){</span>
<span id="cb102-34"><a href="#cb102-34" aria-hidden="true" tabindex="-1"></a>  ok <span class="ot">&lt;-</span> data[,<span class="st">"Year"</span>]<span class="sc">==</span>years_1[i] <span class="sc">&amp;</span> data[,<span class="st">"Age"</span>] <span class="sc">%in%</span> ages_decade[[<span class="dv">2</span>]]</span>
<span id="cb102-35"><a href="#cb102-35" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb102-36"><a href="#cb102-36" aria-hidden="true" tabindex="-1"></a>  number_of_deaths[i] <span class="ot">&lt;-</span> <span class="fu">sum</span>(data[ok,<span class="st">"Deaths"</span>])</span>
<span id="cb102-37"><a href="#cb102-37" aria-hidden="true" tabindex="-1"></a>  number_of_people[i] <span class="ot">&lt;-</span> <span class="fu">sum</span>(data[ok,<span class="st">"Population"</span>])</span>
<span id="cb102-38"><a href="#cb102-38" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb102-39"><a href="#cb102-39" aria-hidden="true" tabindex="-1"></a>  avg_age[i] <span class="ot">&lt;-</span> <span class="fu">weighted.mean</span>(ages_decade[[<span class="dv">2</span>]], data[ok <span class="sc">&amp;</span> male,<span class="st">"Population"</span>] <span class="sc">+</span> data[ok <span class="sc">&amp;</span> <span class="sc">!</span>male,<span class="st">"Population"</span>])</span>
<span id="cb102-40"><a href="#cb102-40" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb102-41"><a href="#cb102-41" aria-hidden="true" tabindex="-1"></a>  avg_age_census[i] <span class="ot">&lt;-</span> <span class="fu">mean_age_45_54</span>(years_1[i])</span>
<span id="cb102-42"><a href="#cb102-42" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb102-43"><a href="#cb102-43" aria-hidden="true" tabindex="-1"></a>  rates <span class="ot">&lt;-</span> (data[ok<span class="sc">&amp;</span>male,<span class="st">"Deaths"</span>] <span class="sc">+</span> data[ok<span class="sc">&amp;!</span>male,<span class="st">"Deaths"</span>])<span class="sc">/</span>(data[ok<span class="sc">&amp;</span>male,<span class="st">"Population"</span>] <span class="sc">+</span> data[ok<span class="sc">&amp;!</span>male,<span class="st">"Population"</span>])</span>
<span id="cb102-44"><a href="#cb102-44" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb102-45"><a href="#cb102-45" aria-hidden="true" tabindex="-1"></a>  age_adj_rate_flat[i] <span class="ot">&lt;-</span> <span class="fu">weighted.mean</span>(rates, <span class="fu">rep</span>(<span class="dv">1</span>,<span class="dv">10</span>))</span>
<span id="cb102-46"><a href="#cb102-46" aria-hidden="true" tabindex="-1"></a>  age_adj_rate_1999[i] <span class="ot">&lt;-</span> <span class="fu">weighted.mean</span>(rates, pop1999)</span>
<span id="cb102-47"><a href="#cb102-47" aria-hidden="true" tabindex="-1"></a>  age_adj_rate_2013[i] <span class="ot">&lt;-</span> <span class="fu">weighted.mean</span>(rates, pop2013)</span>
<span id="cb102-48"><a href="#cb102-48" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb102-49"><a href="#cb102-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-50"><a href="#cb102-50" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(years_1)){</span>
<span id="cb102-51"><a href="#cb102-51" aria-hidden="true" tabindex="-1"></a>  ok <span class="ot">&lt;-</span> data[,<span class="st">"Year"</span>]<span class="sc">==</span>years_1[i] <span class="sc">&amp;</span> data[,<span class="st">"Age"</span>] <span class="sc">%in%</span> ages_decade[[<span class="dv">2</span>]]</span>
<span id="cb102-52"><a href="#cb102-52" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb102-53"><a href="#cb102-53" aria-hidden="true" tabindex="-1"></a>  death_rate_extrap_1999[i] <span class="ot">&lt;-</span> <span class="fu">weighted.mean</span>(death_rate_1999, data[ok <span class="sc">&amp;</span> male,<span class="st">"Population"</span>] <span class="sc">+</span> data[ok <span class="sc">&amp;</span> <span class="sc">!</span>male,<span class="st">"Population"</span>])</span>
<span id="cb102-54"><a href="#cb102-54" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb102-55"><a href="#cb102-55" aria-hidden="true" tabindex="-1"></a>  death_rate_extrap_2013[i] <span class="ot">&lt;-</span> <span class="fu">weighted.mean</span>(death_rate_2013, data[ok <span class="sc">&amp;</span> male,<span class="st">"Population"</span>] <span class="sc">+</span> data[ok <span class="sc">&amp;</span> <span class="sc">!</span>male,<span class="st">"Population"</span>])</span>
<span id="cb102-56"><a href="#cb102-56" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb102-57"><a href="#cb102-57" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(number_of_deaths)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 106808 111964 117086 119812 121832 123037</code></pre>
</div>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(number_of_people)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 27995805 28669184 29733531 29880552 30260532 30629390</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="fl">2.5</span>, <span class="dv">3</span>, <span class="dv">3</span>, .<span class="dv">2</span>), <span class="at">mgp=</span><span class="fu">c</span>(<span class="dv">2</span>,.<span class="dv">5</span>,<span class="dv">0</span>), <span class="at">tck=</span><span class="sc">-</span>.<span class="dv">01</span>)</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(years_1,  number_of_deaths<span class="sc">/</span>number_of_people, <span class="at">xaxt=</span><span class="st">"n"</span>, <span class="at">type=</span><span class="st">"l"</span>, <span class="at">bty=</span><span class="st">"l"</span>, <span class="at">xaxs=</span><span class="st">"i"</span>, <span class="at">xlab=</span><span class="st">""</span>, <span class="at">ylab=</span><span class="st">"Mortality rate among non-Hisp whites 45-54"</span>, <span class="at">main=</span><span class="st">"So take the ratio!"</span>, <span class="at">cex.main=</span>.<span class="dv">9</span>)</span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">1</span>, <span class="fu">seq</span>(<span class="dv">1990</span>,<span class="dv">2020</span>,<span class="dv">5</span>))</span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a><span class="fu">grid</span>(<span class="at">col=</span><span class="st">"gray"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-65-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>As an aside, I want to better understand how the <code>avg_age</code> vector is calculated:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="co"># flag for when data is from 1999 and for ages 45 to 54</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>ok <span class="ot">&lt;-</span> data[,<span class="st">"Year"</span>]<span class="sc">==</span><span class="dv">1999</span> <span class="sc">&amp;</span> data[,<span class="st">"Age"</span>] <span class="sc">%in%</span> ages_decade[[<span class="dv">2</span>]]</span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a><span class="co"># range of ages 45 to 54</span></span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a>ages_decade[[<span class="dv">2</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 45 46 47 48 49 50 51 52 53 54</code></pre>
</div>
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1999 population for ages 45 to 54</span></span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>data[ok <span class="sc">&amp;</span> male,<span class="st">"Population"</span>] <span class="sc">+</span> data[ok <span class="sc">&amp;</span> <span class="sc">!</span>male,<span class="st">"Population"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 3166393 3007083 2986252 2805975 2859406 2868751 2804957 3093631 2148382
[10] 2254975</code></pre>
</div>
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="co"># manually calculated weighted mean</span></span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(ages_decade[[<span class="dv">2</span>]] <span class="sc">*</span> (data[ok <span class="sc">&amp;</span> male,<span class="st">"Population"</span>] <span class="sc">+</span> data[ok <span class="sc">&amp;</span> <span class="sc">!</span>male,<span class="st">"Population"</span>]) <span class="sc">/</span> (<span class="fu">sum</span>(data[ok <span class="sc">&amp;</span> male,<span class="st">"Population"</span>] <span class="sc">+</span> data[ok <span class="sc">&amp;</span> <span class="sc">!</span>male,<span class="st">"Population"</span>])))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 49.25585</code></pre>
</div>
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co"># weighted.mean output</span></span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>avg_age[<span class="dv">1</span>] <span class="co"># this equals the manually calculated weighted mean. Nice!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 49.25585</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(avg_age) <span class="co"># 15 years: 1999-2013</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15</code></pre>
</div>
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(avg_age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 49.25585 49.29742 49.40278 49.34845 49.34162 49.35910</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="fl">2.5</span>, <span class="dv">3</span>, <span class="dv">3</span>, .<span class="dv">2</span>), <span class="at">mgp=</span><span class="fu">c</span>(<span class="dv">2</span>,.<span class="dv">5</span>,<span class="dv">0</span>), <span class="at">tck=</span><span class="sc">-</span>.<span class="dv">01</span>)</span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(years_1, avg_age, <span class="at">xaxt=</span><span class="st">"n"</span>, <span class="at">type=</span><span class="st">"l"</span>, <span class="at">bty=</span><span class="st">"l"</span>, <span class="at">xaxs=</span><span class="st">"i"</span>, <span class="at">xlab=</span><span class="st">""</span>, <span class="at">ylab=</span><span class="st">"Avg age among non-Hisp whites 45-54"</span>, <span class="at">main=</span><span class="st">"But the average age in this group is going up!"</span>, <span class="at">cex.main=</span>.<span class="dv">9</span>)</span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">1</span>, <span class="fu">seq</span>(<span class="dv">1990</span>,<span class="dv">2020</span>,<span class="dv">5</span>))</span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a><span class="fu">grid</span>(<span class="at">col=</span><span class="st">"gray"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-68-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(death_rate_extrap_2013)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.003999152 0.004012133 0.004050824 0.004031180 0.004028291 0.004034446</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="fl">2.5</span>, <span class="dv">3</span>, <span class="dv">3</span>, .<span class="dv">2</span>), <span class="at">mgp=</span><span class="fu">c</span>(<span class="dv">2</span>,.<span class="dv">5</span>,<span class="dv">0</span>), <span class="at">tck=</span><span class="sc">-</span>.<span class="dv">01</span>)</span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(years_1, number_of_deaths<span class="sc">/</span>number_of_people, <span class="at">xaxt=</span><span class="st">"n"</span>, <span class="at">type=</span><span class="st">"l"</span>, <span class="at">bty=</span><span class="st">"l"</span>, <span class="at">xaxs=</span><span class="st">"i"</span>, <span class="at">xlab=</span><span class="st">""</span>, <span class="at">ylab=</span><span class="st">"Death rate for 45-54 non-Hisp whites"</span>, <span class="at">main=</span><span class="st">"Projecting backward from 2013 makes it clear that</span><span class="sc">\n</span><span class="st">all the underlying change happened between 1999 and 2005"</span>, <span class="at">cex.main=</span>.<span class="dv">8</span>)</span>
<span id="cb123-3"><a href="#cb123-3" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(years_1, death_rate_extrap_2013, <span class="at">col=</span><span class="st">"green4"</span>)</span>
<span id="cb123-4"><a href="#cb123-4" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">1</span>, <span class="fu">seq</span>(<span class="dv">1990</span>,<span class="dv">2020</span>,<span class="dv">5</span>))</span>
<span id="cb123-5"><a href="#cb123-5" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="dv">2003</span>, .<span class="dv">00395</span>, <span class="st">"Raw death rate"</span>, <span class="at">cex=</span>.<span class="dv">8</span>)</span>
<span id="cb123-6"><a href="#cb123-6" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="fl">2001.5</span>, .<span class="dv">004075</span>, <span class="st">"Expected just from</span><span class="sc">\n</span><span class="st">age shift"</span>, <span class="at">col=</span><span class="st">"green4"</span>, <span class="at">cex=</span>.<span class="dv">8</span>)</span>
<span id="cb123-7"><a href="#cb123-7" aria-hidden="true" tabindex="-1"></a><span class="fu">grid</span>(<span class="at">col=</span><span class="st">"gray"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-70-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(age_adj_rate_flat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.003908209 0.003978170 0.003964249 0.004053627 0.004072032 0.004058058</code></pre>
</div>
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(age_adj_rate_flat[<span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.003908209</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="fl">2.5</span>, <span class="dv">3</span>, <span class="dv">3</span>, .<span class="dv">2</span>), <span class="at">mgp=</span><span class="fu">c</span>(<span class="dv">2</span>,.<span class="dv">5</span>,<span class="dv">0</span>), <span class="at">tck=</span><span class="sc">-</span>.<span class="dv">01</span>)</span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(years_1, age_adj_rate_flat<span class="sc">/</span>age_adj_rate_flat[<span class="dv">1</span>], <span class="at">xaxt=</span><span class="st">"n"</span>, <span class="at">type=</span><span class="st">"l"</span>, <span class="at">bty=</span><span class="st">"l"</span>, <span class="at">xaxs=</span><span class="st">"i"</span>, <span class="at">xlab=</span><span class="st">""</span>, <span class="at">ylab=</span><span class="st">"Age-adj death rate, relative to 1999"</span>, <span class="at">main=</span><span class="st">"Trend in age-adjusted death rate</span><span class="sc">\n</span><span class="st">for 45-54-year-old non-Hisp whites"</span>, <span class="at">cex.main=</span>.<span class="dv">8</span>)</span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">1</span>, <span class="fu">seq</span>(<span class="dv">1990</span>,<span class="dv">2020</span>,<span class="dv">5</span>))</span>
<span id="cb128-4"><a href="#cb128-4" aria-hidden="true" tabindex="-1"></a><span class="fu">grid</span>(<span class="at">col=</span><span class="st">"gray"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-72-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(age_adj_rate_1999)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.003815143 0.003889664 0.003891300 0.003976232 0.003999796 0.003987676</code></pre>
</div>
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(age_adj_rate_1999[<span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.003815143</code></pre>
</div>
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(age_adj_rate_2013)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.003972000 0.004040848 0.004021437 0.004111934 0.004129688 0.004115952</code></pre>
</div>
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(age_adj_rate_2013[<span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.003972</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="fl">2.5</span>, <span class="dv">3</span>, <span class="dv">3</span>, .<span class="dv">2</span>), <span class="at">mgp=</span><span class="fu">c</span>(<span class="dv">2</span>,.<span class="dv">5</span>,<span class="dv">0</span>), <span class="at">tck=</span><span class="sc">-</span>.<span class="dv">01</span>)</span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a>rng <span class="ot">&lt;-</span> <span class="fu">range</span>(age_adj_rate_flat<span class="sc">/</span>age_adj_rate_flat[<span class="dv">1</span>], age_adj_rate_1999<span class="sc">/</span>age_adj_rate_1999[<span class="dv">1</span>], age_adj_rate_2013<span class="sc">/</span>age_adj_rate_2013[<span class="dv">1</span>])</span>
<span id="cb137-3"><a href="#cb137-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(years_1, age_adj_rate_flat<span class="sc">/</span>age_adj_rate_flat[<span class="dv">1</span>], <span class="at">ylim=</span>rng, <span class="at">xaxt=</span><span class="st">"n"</span>, <span class="at">type=</span><span class="st">"l"</span>, <span class="at">bty=</span><span class="st">"l"</span>, <span class="at">xaxs=</span><span class="st">"i"</span>, <span class="at">xlab=</span><span class="st">""</span>, <span class="at">ylab=</span><span class="st">"Age-adj death rate, relative to 1999"</span>, <span class="at">main=</span><span class="st">"It doesn't matter too much what age adjustment</span><span class="sc">\n</span><span class="st">you use for 45-54-year-old non-Hisp whites"</span>, <span class="at">cex.main=</span>.<span class="dv">8</span>)</span>
<span id="cb137-4"><a href="#cb137-4" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(years_1, age_adj_rate_1999<span class="sc">/</span>age_adj_rate_1999[<span class="dv">1</span>], <span class="at">lty=</span><span class="dv">2</span>)</span>
<span id="cb137-5"><a href="#cb137-5" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(years_1, age_adj_rate_2013<span class="sc">/</span>age_adj_rate_2013[<span class="dv">1</span>], <span class="at">lty=</span><span class="dv">3</span>)</span>
<span id="cb137-6"><a href="#cb137-6" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="dv">2003</span>, <span class="fl">1.053</span>, <span class="st">"Using 1999</span><span class="sc">\n</span><span class="st">age dist"</span>, <span class="at">cex=</span>.<span class="dv">8</span>)</span>
<span id="cb137-7"><a href="#cb137-7" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="dv">2004</span>, <span class="fl">1.032</span>, <span class="st">"Using 2013</span><span class="sc">\n</span><span class="st">age dist"</span>, <span class="at">cex=</span>.<span class="dv">8</span>)</span>
<span id="cb137-8"><a href="#cb137-8" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">1</span>, <span class="fu">seq</span>(<span class="dv">1990</span>,<span class="dv">2020</span>,<span class="dv">5</span>))</span>
<span id="cb137-9"><a href="#cb137-9" aria-hidden="true" tabindex="-1"></a><span class="fu">grid</span>(<span class="at">col=</span><span class="st">"gray"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-74-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Next, I’ll recreate the plots in Figures 2.11 and 2.12 using tidyverse and ggplot. I’ll go in the order of plots displayed in the supplemental website. They start with Figure 2.11a (Observed increase in raw mortality rates among 45-to-54-year-old non-Hispanic whites, unadjusted for age.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load death rate data for white non-hispanic individuals</span></span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a>mort_data_fpath <span class="ot">&lt;-</span> <span class="fu">file.path</span>(data_root_path, <span class="st">"AgePeriodCohort/data"</span>,<span class="st">"white_nonhisp_death_rates_from_1999_to_2013_by_sex.txt"</span>)</span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a>mort_data2 <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_table</span>(mort_data_fpath) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(</span>
<span id="cb138-5"><a href="#cb138-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># get data for the age decade in question</span></span>
<span id="cb138-6"><a href="#cb138-6" aria-hidden="true" tabindex="-1"></a>  Age <span class="sc">%in%</span> <span class="dv">45</span><span class="sc">:</span><span class="dv">54</span></span>
<span id="cb138-7"><a href="#cb138-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
── Column specification ────────────────────────────────────────────────────────
cols(
  Age = col_double(),
  Male = col_double(),
  Year = col_double(),
  Deaths = col_double(),
  Population = col_double(),
  Rate = col_double()
)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(mort_data2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-ed2a9405c6dd040a4a0b" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ed2a9405c6dd040a4a0b">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300"],[45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013],[3000,3023,3264,3421,3434,3462,3497,3467,3258,3372,3207,2956,2821,2718,2682,5304,5581,5572,5796,5853,5748,5855,5633,5547,5379,5286,4922,4486,4148,4036,3162,3115,3404,3522,3659,3825,3781,3705,3781,3681,3696,3564,3448,3104,2933,5647,5917,6013,6352,6410,6258,6279,6218,6226,6006,5836,5656,5166,4779,4688,3271,3451,3655,3763,3815,3923,4021,4057,4085,4131,4071,3910,3768,3615,3421,5864,6225,6505,6625,6790,6859,6663,6768,6488,6654,6450,6224,6133,5686,5289,3379,3570,3672,4028,4069,4171,4373,4349,4431,4382,4487,4182,4151,4132,3881,6082,6579,6840,6998,7193,7111,7230,7401,7029,7182,7020,6853,6695,6402,6081,3714,3713,4111,4208,4357,4417,4511,4638,4548,4849,4778,4718,4811,4529,4576,6551,6831,7115,7331,7573,7489,7899,7808,7749,7823,7650,7751,7542,7151,7028,4021,4158,4139,4283,4558,4689,4867,4924,5056,5158,5187,5126,5322,5008,5006,6787,7096,7294,7713,7940,8036,8248,8383,8355,8576,8258,8320,8311,8072,7890,4560,4378,4422,4640,4782,4854,5107,5199,5394,5499,5579,5469,5572,5644,5612,7472,7431,7667,7987,8299,8458,8684,8783,8853,9205,9259,8818,8893,8953,8832,5239,4987,4936,4789,4985,5003,5404,5504,5529,5801,6119,6089,6049,6013,6099,8521,8274,8039,8377,8440,9015,9413,9470,9328,9567,9864,9595,9722,9633,9637,4546,5750,5571,5424,5241,5225,5486,5692,5755,6043,6248,6094,6462,6335,6474,7165,9171,8781,8946,8853,9337,9688,9850,10120,10150,10368,10410,10428,10317,10377,4765,5031,6181,6010,5826,5727,5762,6007,6130,6176,6541,6631,6967,6837,6889,7758,7683,9905,9599,9755,9430,9901,10113,10236,10789,10836,10746,11089,11066,11100],[1586160,1604062,1582745,1636204,1636840,1612930,1641270,1620980,1577340,1547617,1525353,1497398,1353538,1319446,1285609,1580233,1603209,1569892,1620113,1623536,1598410,1637839,1601855,1560536,1526554,1510677,1495558,1352095,1317328,1290938,1514128,1539987,1596311,1580056,1634229,1635669,1612814,1642209,1622797,1580005,1551103,1533398,1463686,1351803,1316891,1492955,1517387,1591084,1566269,1617673,1623933,1600286,1642142,1607976,1568096,1535291,1518705,1458028,1348852,1312668,1501724,1521965,1555337,1593967,1578391,1633292,1635467,1613382,1643701,1625026,1582902,1554544,1524948,1461316,1348595,1484528,1503099,1535422,1586288,1561527,1614402,1621343,1598906,1641599,1607985,1568469,1537954,1511800,1453804,1343492,1413387,1481776,1519320,1551501,1589834,1574064,1628612,1630777,1608438,1638570,1619766,1587746,1547889,1521926,1457669,1392588,1464374,1495632,1527960,1577599,1552817,1604717,1611243,1588419,1630200,1595889,1568093,1528628,1506627,1447624,1440339,1425320,1479362,1517296,1549926,1589041,1573946,1629335,1632301,1610704,1641651,1623154,1573096,1544472,1517965,1419067,1401215,1460349,1491055,1524044,1575345,1551330,1604869,1612559,1590724,1633561,1597594,1550149,1522405,1499627,1444564,1444691,1445177,1474338,1511242,1542996,1581150,1565307,1619657,1621797,1599395,1640542,1618244,1569296,1540171,1424187,1427951,1416911,1451025,1479816,1511466,1560886,1535555,1587187,1593345,1570098,1626419,1591445,1542974,1514639,1416582,1402969,1435038,1444244,1474667,1513002,1546370,1586146,1571779,1627989,1631732,1602626,1624601,1613805,1564462,1388375,1374140,1414344,1413580,1449359,1480656,1514396,1566400,1543093,1597374,1605813,1572967,1603848,1583400,1534695,1560321,1463985,1411792,1430487,1438910,1468451,1506027,1538457,1577365,1562272,1617536,1630568,1601473,1619586,1608396,1533310,1435246,1381048,1406095,1404074,1438806,1468770,1501536,1552250,1528091,1580764,1598355,1570257,1595377,1574349,1091656,1461301,1422309,1409335,1428764,1437993,1468406,1506784,1540004,1579895,1565663,1596930,1615684,1596167,1613740,1056726,1427937,1390596,1375783,1401669,1400637,1436129,1467311,1501213,1553170,1530007,1559534,1579456,1561258,1585438,1143606,1100253,1534202,1420170,1408058,1428411,1438646,1469787,1509024,1543278,1584120,1572193,1611897,1610165,1590152,1111369,1068317,1496660,1384786,1370374,1397069,1396196,1432209,1463899,1498389,1550845,1530524,1570191,1569431,1550858],[189.1,188.5,206.2,209.1,209.8,214.6,213.1,213.9,206.6,217.9,210.2,197.4,208.4,206,208.6,335.6,348.1,354.9,357.8,360.5,359.6,357.5,351.7,355.5,352.4,349.9,329.1,331.8,314.9,312.6,208.8,202.3,213.2,222.9,223.9,233.8,234.4,225.6,233,233,238.3,232.4,235.6,229.6,222.7,378.2,389.9,377.9,405.5,396.2,385.4,392.4,378.7,387.2,383,380.1,372.4,354.3,354.3,357.1,217.8,226.7,235,236.1,241.7,240.2,245.9,251.5,248.5,254.2,257.2,251.5,247.1,247.4,253.7,395,414.1,423.7,417.6,434.8,424.9,411,423.3,395.2,413.8,411.2,404.7,405.7,391.1,393.7,239.1,240.9,241.7,259.6,255.9,265,268.5,266.7,275.5,267.4,277,263.4,268.2,271.5,266.2,436.7,449.3,457.3,458,455.9,457.9,450.5,459.3,442.5,440.6,439.9,437,438,424.9,420.1,257.9,260.5,277.9,277.3,281.1,278,286.6,284.7,278.6,301,291,290.7,305.8,293.2,301.5,461.6,487.5,487.2,491.7,496.9,475.4,509.2,486.5,480.5,491.8,468.3,485.2,486.5,469.7,468.6,278.4,287.8,286.4,290.5,301.6,303.9,307.8,314.6,312.2,318,324.3,312.5,328.9,319.1,325,476.6,496.9,514.8,531.6,536.6,531.7,528.4,545.9,526.4,538.2,526,511.6,522.2,523.1,520.9,321.9,312.1,308.1,321.3,324.3,320.8,330.3,327.8,343.2,337.8,341.9,341.3,343,349.7,358.7,538.2,540.8,542.1,565,572.6,571.2,573.4,560.7,573.7,576.3,576.6,560.6,554.5,565.4,575.5,335.8,340.6,349.6,334.8,346.4,340.7,358.8,357.8,350.5,371.3,378.3,373.4,377.7,371.3,379.2,555.7,576.5,582.1,595.8,601.1,626.6,640.9,630.7,600.9,626.1,624,600.3,619.1,603.8,612.1,416.4,393.5,391.7,384.9,366.8,363.4,373.6,377.8,373.7,382.5,399.1,381.6,400,396.9,401.2,678,642.3,631.5,650.2,631.6,666.6,674.6,671.3,674.1,653.5,677.6,667.5,660.2,660.8,654.5,416.7,457.3,402.9,423.2,413.8,400.9,400.5,408.7,406.2,400.2,412.9,421.8,432.2,424.6,433.2,698.1,719.2,661.8,693.2,711.8,675,709.1,706.1,699.2,720,698.7,702.1,706.2,705.1,715.7]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Age<\/th>\n      <th>Male<\/th>\n      <th>Year<\/th>\n      <th>Deaths<\/th>\n      <th>Population<\/th>\n      <th>Rate<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>I’ll look at their vector <code>raw_death_rate</code> to compare my recreated data.frame with.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>raw_death_rate[,<span class="dv">2</span>,<span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 381.5143 390.5378 393.7844 400.9698 402.6102 401.6959 408.2857 407.9969
 [9] 405.2389 412.3255 413.7259 407.1706 414.3665 410.9378 415.3878</code></pre>
</div>
</div>
<p>I’ll calculate the raw death rate for each Year. In their code, they multiple it by 100,000 to get per 100,000 deaths, but I’ll follow the textbook plot which shows it as a decimal.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a>raw_death_rate_data <span class="ot">&lt;-</span> mort_data2 <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(</span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a>  Year</span>
<span id="cb143-3"><a href="#cb143-3" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(</span>
<span id="cb143-4"><a href="#cb143-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">death_rate =</span> <span class="fu">sum</span>(Deaths) <span class="sc">/</span> <span class="fu">sum</span>(Population)</span>
<span id="cb143-5"><a href="#cb143-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb143-6"><a href="#cb143-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb143-7"><a href="#cb143-7" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(raw_death_rate_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-ffa3fcb8231d19a1f1db" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ffa3fcb8231d19a1f1db">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15"],[1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013],[0.0038151430187487,0.00390537798355196,0.00393784377644216,0.00400969834827683,0.00402610238313061,0.00401695887511962,0.00408285682974156,0.00407996890820684,0.00405238886038865,0.00412325459253195,0.0041372586342015,0.00407170635070305,0.00414366454093006,0.00410937800299363,0.00415387793698944]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Year<\/th>\n      <th>death_rate<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Next, I’ll plot the data</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(raw_death_rate_data, <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> death_rate)) <span class="sc">+</span> </span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> </span>
<span id="cb144-3"><a href="#cb144-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">"Death rates among non-Hisp whites 45-54"</span>, <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb144-4"><a href="#cb144-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="st">"Year"</span>, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">2000</span>, <span class="dv">2005</span>, <span class="dv">2010</span>), <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span> </span>
<span id="cb144-5"><a href="#cb144-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb144-6"><a href="#cb144-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>),</span>
<span id="cb144-7"><a href="#cb144-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line.x =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"black"</span>),</span>
<span id="cb144-8"><a href="#cb144-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line.y =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"black"</span>),</span>
<span id="cb144-9"><a href="#cb144-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"grey"</span>, <span class="at">linetype =</span> <span class="st">"dotted"</span>, <span class="at">size =</span> <span class="fl">0.5</span>),</span>
<span id="cb144-10"><a href="#cb144-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb144-11"><a href="#cb144-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>)</span>
<span id="cb144-12"><a href="#cb144-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb144-13"><a href="#cb144-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Raw death rates</span><span class="sc">\n</span><span class="st">for 45-54-year-old non-Hispanic whites"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: The `size` argument of `element_line()` is deprecated as of ggplot2 3.4.0.
ℹ Please use the `linewidth` argument instead.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-78-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Next, I’ll recreate the data and plots for Figure 2.12c (trends in age-adjusted death rates broken down by sex). I’ll start by calculating the average death rate for Males and Females:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb146"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a>avg_death_rate <span class="ot">&lt;-</span> mort_data2 <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(</span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a>  Year,</span>
<span id="cb146-3"><a href="#cb146-3" aria-hidden="true" tabindex="-1"></a>  Male</span>
<span id="cb146-4"><a href="#cb146-4" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(</span>
<span id="cb146-5"><a href="#cb146-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">avg_rate =</span> <span class="fu">mean</span>(Rate)</span>
<span id="cb146-6"><a href="#cb146-6" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb146-7"><a href="#cb146-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">age_adj_death_rate =</span> <span class="fu">case_when</span>(</span>
<span id="cb146-8"><a href="#cb146-8" aria-hidden="true" tabindex="-1"></a>    Male <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> avg_rate <span class="sc">/</span> <span class="fl">288.19</span>,</span>
<span id="cb146-9"><a href="#cb146-9" aria-hidden="true" tabindex="-1"></a>    Male <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> avg_rate <span class="sc">/</span> <span class="fl">495.37</span></span>
<span id="cb146-10"><a href="#cb146-10" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb146-11"><a href="#cb146-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># convert Male to discrete value</span></span>
<span id="cb146-12"><a href="#cb146-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">Male =</span> <span class="fu">case_when</span>(</span>
<span id="cb146-13"><a href="#cb146-13" aria-hidden="true" tabindex="-1"></a>    Male <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">"Women"</span>,</span>
<span id="cb146-14"><a href="#cb146-14" aria-hidden="true" tabindex="-1"></a>    Male <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"Men"</span></span>
<span id="cb146-15"><a href="#cb146-15" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb146-16"><a href="#cb146-16" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'Year'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb148"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(avg_death_rate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-f9bb55c0fcab4dc0e759" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-f9bb55c0fcab4dc0e759">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30"],[1999,1999,2000,2000,2001,2001,2002,2002,2003,2003,2004,2004,2005,2005,2006,2006,2007,2007,2008,2008,2009,2009,2010,2010,2011,2011,2012,2012,2013,2013],["Women","Men","Women","Men","Women","Men","Women","Men","Women","Men","Women","Men","Women","Men","Women","Men","Women","Men","Women","Men","Women","Men","Women","Men","Women","Men","Women","Men","Women","Men"],[288.19,495.37,291.02,506.46,291.27,503.33,295.97,516.64,296.53,519.8,296.13,517.43,301.95,524.7,302.91,521.42,302.8,513.52,308.33,519.57,313.02,515.23,306.6,507.05,314.69,507.85,310.93,501.31,315,503.08],[1,1,1.00981991047573,1.0223873064578,1.0106873937333,1.01606879706078,1.02699607897568,1.04293760219634,1.02893924147264,1.0493166723863,1.02755126826052,1.04453236974383,1.04774627849683,1.05920826856693,1.05107741420591,1.0525869552052,1.05069572157257,1.0366392797303,1.06988445123009,1.04885237297374,1.08615843714216,1.04009124492803,1.06388146708769,1.02357833538567,1.09195322530275,1.02519328986414,1.07890627710885,1.01199103700264,1.09302890454214,1.01556412378626]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Year<\/th>\n      <th>Male<\/th>\n      <th>avg_rate<\/th>\n      <th>age_adj_death_rate<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,3,4]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Next, I’ll plot the age-adjusted death rates (relative to 1999) for Non-Hispanic White Males and Females aged 45 - 54 between 1999 and 2013:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(avg_death_rate, <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> age_adj_death_rate, <span class="at">color =</span> Male)) <span class="sc">+</span> </span>
<span id="cb149-2"><a href="#cb149-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> Male), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb149-3"><a href="#cb149-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"red"</span>)) <span class="sc">+</span> </span>
<span id="cb149-4"><a href="#cb149-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="fl">2011.5</span>, <span class="at">y =</span> <span class="fl">1.075</span>, <span class="at">label =</span> <span class="st">"Women"</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span> </span>
<span id="cb149-5"><a href="#cb149-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="fl">2010.5</span>, <span class="at">y =</span> <span class="fl">1.02</span>, <span class="at">label=</span> <span class="st">"Men"</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span> </span>
<span id="cb149-6"><a href="#cb149-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">"Death rate relative to 1999"</span>) <span class="sc">+</span> </span>
<span id="cb149-7"><a href="#cb149-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="st">"Year"</span>) <span class="sc">+</span> </span>
<span id="cb149-8"><a href="#cb149-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb149-9"><a href="#cb149-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>),</span>
<span id="cb149-10"><a href="#cb149-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line.x =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"black"</span>),</span>
<span id="cb149-11"><a href="#cb149-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line.y =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"black"</span>),</span>
<span id="cb149-12"><a href="#cb149-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"grey"</span>, <span class="at">linetype =</span> <span class="st">"dotted"</span>, <span class="at">size =</span> <span class="fl">0.5</span>),</span>
<span id="cb149-13"><a href="#cb149-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb149-14"><a href="#cb149-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>)</span>
<span id="cb149-15"><a href="#cb149-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb149-16"><a href="#cb149-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Age-adjusted death rates for non-Hispanic whites aged 45-54:</span><span class="sc">\n</span><span class="st">Trends for women and men"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-80-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Looks great! My grid lines are at different placements (5 years and 0.025 death rate) than the textbook but I’m happy with how the plot turned out. One hiccup that needed to be addressed was that the group aesthetic needs to be discrete (it was integer 1 for Male and integer 0 for Female) in order to use <code>scale_color_manual</code>.</p>
<p>Next, I’ll recreate Figure 2.11b (increase in average age of this group as the baby boom generation moves through).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a>avg_age_data <span class="ot">&lt;-</span> mort_data2 <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(</span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a>  Year,</span>
<span id="cb150-3"><a href="#cb150-3" aria-hidden="true" tabindex="-1"></a>  Age</span>
<span id="cb150-4"><a href="#cb150-4" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(</span>
<span id="cb150-5"><a href="#cb150-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">total_pop =</span> <span class="fu">sum</span>(Population)</span>
<span id="cb150-6"><a href="#cb150-6" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb150-7"><a href="#cb150-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculated weighted mean</span></span>
<span id="cb150-8"><a href="#cb150-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">weighted_age =</span> Age <span class="sc">*</span> total_pop</span>
<span id="cb150-9"><a href="#cb150-9" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(</span>
<span id="cb150-10"><a href="#cb150-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># in order to calculate weighted mean age by Year, </span></span>
<span id="cb150-11"><a href="#cb150-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># group only by Year</span></span>
<span id="cb150-12"><a href="#cb150-12" aria-hidden="true" tabindex="-1"></a>  Year</span>
<span id="cb150-13"><a href="#cb150-13" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(</span>
<span id="cb150-14"><a href="#cb150-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">weighted_mean_age =</span> <span class="fu">sum</span>(weighted_age) <span class="sc">/</span> <span class="fu">sum</span>(total_pop)</span>
<span id="cb150-15"><a href="#cb150-15" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'Year'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(avg_age_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-19376dfcde8e8357ad1f" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-19376dfcde8e8357ad1f">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15"],[1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013],[49.2558476528894,49.297422870494,49.4027809209744,49.3484472107476,49.3416157719897,49.3591006546327,49.369952360385,49.3992102072393,49.4386291913374,49.4805960630938,49.5181949350068,49.5398472218079,49.6202430764456,49.667718313727,49.7057700361699]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Year<\/th>\n      <th>weighted_mean_age<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Let’s compare it with the actual <code>avg_age</code> values:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a>avg_age</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 49.25585 49.29742 49.40278 49.34845 49.34162 49.35910 49.36995 49.39921
 [9] 49.43863 49.48060 49.51819 49.53985 49.62024 49.66772 49.70577</code></pre>
</div>
</div>
<p>Next, I’ll plot weighted mean age vs years:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(avg_age_data, <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> weighted_mean_age)) <span class="sc">+</span> </span>
<span id="cb155-2"><a href="#cb155-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> </span>
<span id="cb155-3"><a href="#cb155-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">"Avg age among non-Hispanic whites 45-54"</span>, <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb155-4"><a href="#cb155-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="st">"Year"</span>, <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span> </span>
<span id="cb155-5"><a href="#cb155-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb155-6"><a href="#cb155-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>),</span>
<span id="cb155-7"><a href="#cb155-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line.x =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"black"</span>),</span>
<span id="cb155-8"><a href="#cb155-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line.y =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"black"</span>),</span>
<span id="cb155-9"><a href="#cb155-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"grey"</span>, <span class="at">linetype =</span> <span class="st">"dotted"</span>, <span class="at">size =</span> <span class="fl">0.5</span>),</span>
<span id="cb155-10"><a href="#cb155-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb155-11"><a href="#cb155-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>)</span>
<span id="cb155-12"><a href="#cb155-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb155-13"><a href="#cb155-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"But the average age in this group is going up!"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-83-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Next, I’ll recreate Figure 2.11c (raw death rate, along with trend in death rate attributable by change in age distribution alone, had age-specific mortality rates been at the 2013 level throughout).</p>
<p>As an aside, I’m going to manually calculate the first value of <code>death_rate_extrap_2013</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="co"># death rates in 2013 for ages 45:54</span></span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a>death_rate_2013</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.002607366 0.002898205 0.003235408 0.003428914 0.003845450 0.004221539
 [7] 0.004660622 0.004944160 0.005267291 0.005727139</code></pre>
</div>
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="co"># weighted mean of 2013 death rates of ages 45:54 by 1999-2013 population of ages 45-54</span></span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a>death_rate_extrap_2013 </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.003999152 0.004012133 0.004050824 0.004031180 0.004028291 0.004034446
 [7] 0.004037951 0.004048038 0.004061568 0.004075922 0.004089161 0.004096481
[13] 0.004124305 0.004140684 0.004153878</code></pre>
</div>
<div class="sourceCode cell-code" id="cb160"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="co"># flag for when data is from 1999 and for ages 45 to 54</span></span>
<span id="cb160-2"><a href="#cb160-2" aria-hidden="true" tabindex="-1"></a>ok <span class="ot">&lt;-</span> data[,<span class="st">"Year"</span>]<span class="sc">==</span><span class="dv">1999</span> <span class="sc">&amp;</span> data[,<span class="st">"Age"</span>] <span class="sc">%in%</span> ages_decade[[<span class="dv">2</span>]]</span>
<span id="cb160-3"><a href="#cb160-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-4"><a href="#cb160-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 1999 population for ages 45 to 54</span></span>
<span id="cb160-5"><a href="#cb160-5" aria-hidden="true" tabindex="-1"></a>data[ok <span class="sc">&amp;</span> male,<span class="st">"Population"</span>] <span class="sc">+</span> data[ok <span class="sc">&amp;</span> <span class="sc">!</span>male,<span class="st">"Population"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 3166393 3007083 2986252 2805975 2859406 2868751 2804957 3093631 2148382
[10] 2254975</code></pre>
</div>
<div class="sourceCode cell-code" id="cb162"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="co"># numerator of weighted mean</span></span>
<span id="cb162-2"><a href="#cb162-2" aria-hidden="true" tabindex="-1"></a>death_rate_2013 <span class="sc">*</span> (data[ok <span class="sc">&amp;</span> male,<span class="st">"Population"</span>] <span class="sc">+</span> data[ok <span class="sc">&amp;</span> <span class="sc">!</span>male,<span class="st">"Population"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  8255.944  8715.142  9661.744  9621.447 10995.704 12110.545 13072.845
 [8] 15295.406 11316.152 12914.555</code></pre>
</div>
<div class="sourceCode cell-code" id="cb164"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="co"># weighted mean of death_rate_2013 and 1999 population</span></span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(death_rate_2013 <span class="sc">*</span> (data[ok <span class="sc">&amp;</span> male,<span class="st">"Population"</span>] <span class="sc">+</span> data[ok <span class="sc">&amp;</span> <span class="sc">!</span>male,<span class="st">"Population"</span>]) <span class="sc">/</span> (<span class="fu">sum</span>(data[ok <span class="sc">&amp;</span> male,<span class="st">"Population"</span>] <span class="sc">+</span> data[ok <span class="sc">&amp;</span> <span class="sc">!</span>male,<span class="st">"Population"</span>])))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.003999152</code></pre>
</div>
</div>
<p>I’ll first calculate the total deaths, population and death rate for each year and age value.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a>mort_data_totals <span class="ot">&lt;-</span> mort_data2 <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(</span>
<span id="cb166-2"><a href="#cb166-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculate total death rate and total population</span></span>
<span id="cb166-3"><a href="#cb166-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># for each year and age</span></span>
<span id="cb166-4"><a href="#cb166-4" aria-hidden="true" tabindex="-1"></a>  Year,</span>
<span id="cb166-5"><a href="#cb166-5" aria-hidden="true" tabindex="-1"></a>  Age</span>
<span id="cb166-6"><a href="#cb166-6" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(</span>
<span id="cb166-7"><a href="#cb166-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">total_deaths =</span> <span class="fu">sum</span>(Deaths),</span>
<span id="cb166-8"><a href="#cb166-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">total_pop =</span> <span class="fu">sum</span>(Population),</span>
<span id="cb166-9"><a href="#cb166-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">total_death_rate =</span> total_deaths <span class="sc">/</span> total_pop</span>
<span id="cb166-10"><a href="#cb166-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'Year'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(mort_data_totals <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Year <span class="sc">==</span> <span class="dv">2013</span>)) <span class="co"># matches death_rate_2013</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-908fba67fd1226ac0625" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-908fba67fd1226ac0625">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10"],[2013,2013,2013,2013,2013,2013,2013,2013,2013,2013],[45,46,47,48,49,50,51,52,53,54],[6718,7621,8710,9962,11604,12896,14444,15736,16851,17989],[2576547,2629559,2692087,2905293,3017592,3054810,3099157,3182745,3199178,3141010],[0.00260736559434002,0.00289820460388985,0.00323540806816422,0.00342891405445165,0.00384545027956066,0.00422153914646083,0.00466062222727019,0.00494415983687037,0.00526729053525624,0.00572713872289487]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Year<\/th>\n      <th>Age<\/th>\n      <th>total_deaths<\/th>\n      <th>total_pop<\/th>\n      <th>total_death_rate<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Next, I’ll widen the data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a>death_rate_extrap_2013_data <span class="ot">&lt;-</span> mort_data_totals <span class="sc">%&gt;%</span> <span class="fu">pivot_wider</span>(</span>
<span id="cb169-2"><a href="#cb169-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">names_from =</span> Year,</span>
<span id="cb169-3"><a href="#cb169-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">values_from =</span> <span class="fu">c</span>(total_death_rate, total_pop),</span>
<span id="cb169-4"><a href="#cb169-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">names_vary =</span> <span class="st">"slowest"</span>,</span>
<span id="cb169-5"><a href="#cb169-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">id_cols =</span> <span class="fu">c</span>(Age)</span>
<span id="cb169-6"><a href="#cb169-6" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb169-7"><a href="#cb169-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># multiply each year's age population with 2013 death rate</span></span>
<span id="cb169-8"><a href="#cb169-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">"total_pop"</span>), <span class="sc">~</span> .x <span class="sc">*</span> total_death_rate_2013, <span class="at">.names =</span> <span class="st">"extrap_{.col}"</span>)</span>
<span id="cb169-9"><a href="#cb169-9" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">pivot_longer</span>(</span>
<span id="cb169-10"><a href="#cb169-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># return back to a long table </span></span>
<span id="cb169-11"><a href="#cb169-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># in order to group by Age, Year and calculate weighted mean</span></span>
<span id="cb169-12"><a href="#cb169-12" aria-hidden="true" tabindex="-1"></a>  <span class="sc">!</span>Age,</span>
<span id="cb169-13"><a href="#cb169-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">".value"</span>, <span class="st">"Year"</span>),</span>
<span id="cb169-14"><a href="#cb169-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">names_pattern =</span> <span class="st">"^(.*)_([0-9]{4})$"</span></span>
<span id="cb169-15"><a href="#cb169-15" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(</span>
<span id="cb169-16"><a href="#cb169-16" aria-hidden="true" tabindex="-1"></a>  Year</span>
<span id="cb169-17"><a href="#cb169-17" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(</span>
<span id="cb169-18"><a href="#cb169-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">weighted_mean_extrap =</span> <span class="fu">sum</span>(extrap_total_pop) <span class="sc">/</span> <span class="fu">sum</span>(total_pop)</span>
<span id="cb169-19"><a href="#cb169-19" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb169-20"><a href="#cb169-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-21"><a href="#cb169-21" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(death_rate_extrap_2013_data, <span class="at">options =</span> <span class="fu">list</span>(<span class="at">scrollX =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-af761168de4b7a3ecd9f" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-af761168de4b7a3ecd9f">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15"],["1999","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013"],[0.00399915212429093,0.00401213303207554,0.00405082405008388,0.00403117993182763,0.00402829119705835,0.00403444631522477,0.00403795066659397,0.00404803781201492,0.00406156802349302,0.0040759216980711,0.00408916068478527,0.00409648079696972,0.00412430543636481,0.00414068430387145,0.00415387793698944]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Year<\/th>\n      <th>weighted_mean_extrap<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>My calculated values match <code>death_rate_extrap_2013</code>. Yes!</p>
<p>Next, I’ll prepare the data to recreate <code>number_of_deaths/number_of_people</code> in the text:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a>yearly_total_death_rate <span class="ot">&lt;-</span> mort_data2 <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(</span>
<span id="cb170-2"><a href="#cb170-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculate total death rate and total population</span></span>
<span id="cb170-3"><a href="#cb170-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># for each year </span></span>
<span id="cb170-4"><a href="#cb170-4" aria-hidden="true" tabindex="-1"></a>  Year</span>
<span id="cb170-5"><a href="#cb170-5" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(</span>
<span id="cb170-6"><a href="#cb170-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">total_death_rate =</span> <span class="fu">sum</span>(Deaths) <span class="sc">/</span> <span class="fu">sum</span>(Population)</span>
<span id="cb170-7"><a href="#cb170-7" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb170-8"><a href="#cb170-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">Year =</span> <span class="fu">as.character</span>(Year)</span>
<span id="cb170-9"><a href="#cb170-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb170-10"><a href="#cb170-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb170-11"><a href="#cb170-11" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(yearly_total_death_rate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-40b26a28f501b3909c17" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-40b26a28f501b3909c17">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15"],["1999","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013"],[0.0038151430187487,0.00390537798355196,0.00393784377644216,0.00400969834827683,0.00402610238313061,0.00401695887511962,0.00408285682974156,0.00407996890820684,0.00405238886038865,0.00412325459253195,0.0041372586342015,0.00407170635070305,0.00414366454093006,0.00410937800299363,0.00415387793698944]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Year<\/th>\n      <th>total_death_rate<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Next, I’ll plot the extrapolated death rate vs.&nbsp;years:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb171-2"><a href="#cb171-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> death_rate_extrap_2013_data, <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> weighted_mean_extrap, <span class="at">group =</span> <span class="dv">1</span>), <span class="at">color =</span> <span class="st">"green4"</span>) <span class="sc">+</span></span>
<span id="cb171-3"><a href="#cb171-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> yearly_total_death_rate, <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> total_death_rate, <span class="at">group =</span> <span class="dv">1</span>), <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb171-4"><a href="#cb171-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">"Death rate for 45-54 non-Hisp whites"</span>, <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb171-5"><a href="#cb171-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="st">"Year"</span>, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">2000</span>, <span class="dv">2005</span>, <span class="dv">2010</span>), <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span> </span>
<span id="cb171-6"><a href="#cb171-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb171-7"><a href="#cb171-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>),</span>
<span id="cb171-8"><a href="#cb171-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line.x =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"black"</span>),</span>
<span id="cb171-9"><a href="#cb171-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line.y =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"black"</span>),</span>
<span id="cb171-10"><a href="#cb171-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"grey"</span>, <span class="at">linetype =</span> <span class="st">"dotted"</span>, <span class="at">size =</span> <span class="fl">0.5</span>),</span>
<span id="cb171-11"><a href="#cb171-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb171-12"><a href="#cb171-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>)</span>
<span id="cb171-13"><a href="#cb171-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb171-14"><a href="#cb171-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Projecting backward from 2013 makes it clear that</span><span class="sc">\n</span><span class="st">all the underlying change happened between 1999 and 2005"</span>) <span class="sc">+</span> </span>
<span id="cb171-15"><a href="#cb171-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="st">"2003"</span>, <span class="at">y =</span> <span class="fl">0.00395</span>, <span class="at">label =</span> <span class="st">"Raw death rate"</span>) <span class="sc">+</span></span>
<span id="cb171-16"><a href="#cb171-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="st">"2002"</span>, <span class="at">y =</span> <span class="fl">0.004075</span>, <span class="at">label =</span> <span class="st">"Expected just from</span><span class="sc">\n</span><span class="st">age shift"</span>, <span class="at">color=</span><span class="st">"green4"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-88-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The next plot I’ll recreate is Figure 2.12a (Age-adjusted death rates among 45-to-54-year-old non-Hispanic whites, showing an increase from 1999 to 2005 and a steady pattern since 2005).</p>
<p>I’ll start by looking at the vector <code>age_adj_rate_flat</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb172"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a>age_adj_rate_flat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.003908209 0.003978170 0.003964249 0.004053627 0.004072032 0.004058058
 [7] 0.004123289 0.004112009 0.004072423 0.004130493 0.004133025 0.004059948
[13] 0.004105064 0.004053953 0.004083609</code></pre>
</div>
</div>
<p>Then run the calculation for the first value for 1999:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb174"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="co"># flag for data in 1999 for ages 45 to 54</span></span>
<span id="cb174-2"><a href="#cb174-2" aria-hidden="true" tabindex="-1"></a>ok <span class="ot">&lt;-</span> data[,<span class="st">"Year"</span>]<span class="sc">==</span><span class="dv">1999</span> <span class="sc">&amp;</span> data[,<span class="st">"Age"</span>] <span class="sc">%in%</span> ages_decade[[<span class="dv">2</span>]]</span>
<span id="cb174-3"><a href="#cb174-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb174-4"><a href="#cb174-4" aria-hidden="true" tabindex="-1"></a><span class="co"># calculation of death rates</span></span>
<span id="cb174-5"><a href="#cb174-5" aria-hidden="true" tabindex="-1"></a>rates <span class="ot">&lt;-</span> (data[ok<span class="sc">&amp;</span>male,<span class="st">"Deaths"</span>] <span class="sc">+</span> data[ok<span class="sc">&amp;!</span>male,<span class="st">"Deaths"</span>])<span class="sc">/</span>(data[ok<span class="sc">&amp;</span>male,<span class="st">"Population"</span>] <span class="sc">+</span> data[ok<span class="sc">&amp;!</span>male,<span class="st">"Population"</span>])</span>
<span id="cb174-6"><a href="#cb174-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb174-7"><a href="#cb174-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(rates)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.002622542 0.002929417 0.003059018 0.003371734 0.003589906 0.003767493
 [7] 0.004289549 0.004447848 0.005451079 0.005553498</code></pre>
</div>
<div class="sourceCode cell-code" id="cb176"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="co"># non-weighted mean</span></span>
<span id="cb176-2"><a href="#cb176-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(rates)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.003908209</code></pre>
</div>
<div class="sourceCode cell-code" id="cb178"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="co"># calculation of age_adj_rate_flat</span></span>
<span id="cb178-2"><a href="#cb178-2" aria-hidden="true" tabindex="-1"></a><span class="fu">weighted.mean</span>(rates, <span class="fu">rep</span>(<span class="dv">1</span>,<span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.003908209</code></pre>
</div>
</div>
<p>The calculation for this metric is similar to Figure 2.12c which showed the age-adjusted death rate by sex. Instead of separating by sex, I’ll combine Men and Women deaths and populations in this death rate calculation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb180"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb180-1"><a href="#cb180-1" aria-hidden="true" tabindex="-1"></a>age_adj_rate_flat_data <span class="ot">&lt;-</span> mort_data2 <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(</span>
<span id="cb180-2"><a href="#cb180-2" aria-hidden="true" tabindex="-1"></a>  Year,</span>
<span id="cb180-3"><a href="#cb180-3" aria-hidden="true" tabindex="-1"></a>  Age</span>
<span id="cb180-4"><a href="#cb180-4" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(</span>
<span id="cb180-5"><a href="#cb180-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculate death rate for each Year and Age</span></span>
<span id="cb180-6"><a href="#cb180-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">avg_rate =</span> <span class="fu">sum</span>(Deaths) <span class="sc">/</span> <span class="fu">sum</span>(Population)</span>
<span id="cb180-7"><a href="#cb180-7" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(</span>
<span id="cb180-8"><a href="#cb180-8" aria-hidden="true" tabindex="-1"></a>  Year</span>
<span id="cb180-9"><a href="#cb180-9" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(</span>
<span id="cb180-10"><a href="#cb180-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculate average death rate across ages 45-54 for each Year</span></span>
<span id="cb180-11"><a href="#cb180-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">avg_rate =</span> <span class="fu">mean</span>(avg_rate)</span>
<span id="cb180-12"><a href="#cb180-12" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb180-13"><a href="#cb180-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># adjust death rate relative to 1999</span></span>
<span id="cb180-14"><a href="#cb180-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">adj_death_rate =</span> avg_rate <span class="sc">/</span> <span class="fl">0.00390820851324269</span></span>
<span id="cb180-15"><a href="#cb180-15" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'Year'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb182"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb182-1"><a href="#cb182-1" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(age_adj_rate_flat_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-913a9a2b3090720684bc" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-913a9a2b3090720684bc">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15"],[1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013],[0.00390820851324269,0.00397817012917375,0.00396424858291303,0.0040536265556405,0.0040720319840824,0.00405805806686821,0.00412328923080984,0.00411200867985194,0.00407242273262178,0.00413049318796307,0.00413302483738622,0.00405994764851655,0.00410506353900416,0.00405395271982839,0.00408360930691589],[1,1.01790119838642,1.01433906852218,1.03720836334732,1.04191779181807,1.03834226170834,1.05503307124949,1.05214669737264,1.04201777331549,1.05687636009368,1.05752413756373,1.03882575219815,1.05036963229941,1.0372918195362,1.04488010122256]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Year<\/th>\n      <th>avg_rate<\/th>\n      <th>adj_death_rate<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Next, I’ll plot age-adjusted death rate relative to 1999 vs.&nbsp;Years:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(age_adj_rate_flat_data, <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> adj_death_rate)) <span class="sc">+</span> </span>
<span id="cb183-2"><a href="#cb183-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb183-3"><a href="#cb183-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">"Age-adj death rate, relative to 1999"</span>, <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb183-4"><a href="#cb183-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="st">"Year"</span>, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">2000</span>, <span class="dv">2005</span>, <span class="dv">2010</span>), <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span> </span>
<span id="cb183-5"><a href="#cb183-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb183-6"><a href="#cb183-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>),</span>
<span id="cb183-7"><a href="#cb183-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line.x =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"black"</span>),</span>
<span id="cb183-8"><a href="#cb183-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line.y =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"black"</span>),</span>
<span id="cb183-9"><a href="#cb183-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"grey"</span>, <span class="at">linetype =</span> <span class="st">"dotted"</span>, <span class="at">size =</span> <span class="fl">0.5</span>),</span>
<span id="cb183-10"><a href="#cb183-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb183-11"><a href="#cb183-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>)</span>
<span id="cb183-12"><a href="#cb183-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb183-13"><a href="#cb183-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Trend in age-adjusted death rate</span><span class="sc">\n</span><span class="st">for 45-54-year-old non-Hisp whites"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-92-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The final figure I’ll recreate is Figure 2.12b (comparison of two different age adjustments).</p>
<p>I’ll start by looking at the vectors in question, <code>age_adj_rate_1999</code> and <code>age_adj_rate_2013</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb184"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb184-1"><a href="#cb184-1" aria-hidden="true" tabindex="-1"></a>age_adj_rate_1999</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.003815143 0.003889664 0.003891300 0.003976232 0.003999796 0.003987676
 [7] 0.004049536 0.004036497 0.003995087 0.004057049 0.004054927 0.003979230
[13] 0.004023539 0.003970082 0.003999152</code></pre>
</div>
<div class="sourceCode cell-code" id="cb186"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb186-1"><a href="#cb186-1" aria-hidden="true" tabindex="-1"></a>age_adj_rate_2013</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.003972000 0.004040848 0.004021437 0.004111934 0.004129688 0.004115952
 [7] 0.004185252 0.004174235 0.004133826 0.004193094 0.004197334 0.004125137
[13] 0.004172716 0.004122541 0.004153878</code></pre>
</div>
</div>
<p>As an aside, I’ll view the first values (1999 and 2013) from each of the two vectors respectively, following the their code.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb188"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="co"># flag for 1999 and 45-54 age range</span></span>
<span id="cb188-2"><a href="#cb188-2" aria-hidden="true" tabindex="-1"></a>ok <span class="ot">&lt;-</span> data[,<span class="st">"Year"</span>]<span class="sc">==</span><span class="dv">1999</span> <span class="sc">&amp;</span> data[,<span class="st">"Age"</span>] <span class="sc">%in%</span> ages_decade[[<span class="dv">2</span>]]</span>
<span id="cb188-3"><a href="#cb188-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-4"><a href="#cb188-4" aria-hidden="true" tabindex="-1"></a><span class="co"># average death rates</span></span>
<span id="cb188-5"><a href="#cb188-5" aria-hidden="true" tabindex="-1"></a>rates <span class="ot">&lt;-</span> (data[ok<span class="sc">&amp;</span>male,<span class="st">"Deaths"</span>] <span class="sc">+</span> data[ok<span class="sc">&amp;!</span>male,<span class="st">"Deaths"</span>])<span class="sc">/</span>(data[ok<span class="sc">&amp;</span>male,<span class="st">"Population"</span>] <span class="sc">+</span> data[ok<span class="sc">&amp;!</span>male,<span class="st">"Population"</span>])</span>
<span id="cb188-6"><a href="#cb188-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-7"><a href="#cb188-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 1999 average death rates</span></span>
<span id="cb188-8"><a href="#cb188-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(rates)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.002622542 0.002929417 0.003059018 0.003371734 0.003589906 0.003767493
 [7] 0.004289549 0.004447848 0.005451079 0.005553498</code></pre>
</div>
<div class="sourceCode cell-code" id="cb190"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb190-1"><a href="#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1999 population</span></span>
<span id="cb190-2"><a href="#cb190-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(pop1999)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 3166393 3007083 2986252 2805975 2859406 2868751 2804957 3093631 2148382
[10] 2254975</code></pre>
</div>
<div class="sourceCode cell-code" id="cb192"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb192-1"><a href="#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="co"># first value of age_adj_rate_1999</span></span>
<span id="cb192-2"><a href="#cb192-2" aria-hidden="true" tabindex="-1"></a><span class="fu">weighted.mean</span>(rates, pop1999)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.003815143</code></pre>
</div>
<div class="sourceCode cell-code" id="cb194"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb194-1"><a href="#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="co"># flag for 1999 and 45-54 age range</span></span>
<span id="cb194-2"><a href="#cb194-2" aria-hidden="true" tabindex="-1"></a>ok <span class="ot">&lt;-</span> data[,<span class="st">"Year"</span>]<span class="sc">==</span><span class="dv">2013</span> <span class="sc">&amp;</span> data[,<span class="st">"Age"</span>] <span class="sc">%in%</span> ages_decade[[<span class="dv">2</span>]]</span>
<span id="cb194-3"><a href="#cb194-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb194-4"><a href="#cb194-4" aria-hidden="true" tabindex="-1"></a><span class="co"># average death rates</span></span>
<span id="cb194-5"><a href="#cb194-5" aria-hidden="true" tabindex="-1"></a>rates <span class="ot">&lt;-</span> (data[ok<span class="sc">&amp;</span>male,<span class="st">"Deaths"</span>] <span class="sc">+</span> data[ok<span class="sc">&amp;!</span>male,<span class="st">"Deaths"</span>])<span class="sc">/</span>(data[ok<span class="sc">&amp;</span>male,<span class="st">"Population"</span>] <span class="sc">+</span> data[ok<span class="sc">&amp;!</span>male,<span class="st">"Population"</span>])</span>
<span id="cb194-6"><a href="#cb194-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb194-7"><a href="#cb194-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 2013 average death rates</span></span>
<span id="cb194-8"><a href="#cb194-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(rates)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.002607366 0.002898205 0.003235408 0.003428914 0.003845450 0.004221539
 [7] 0.004660622 0.004944160 0.005267291 0.005727139</code></pre>
</div>
<div class="sourceCode cell-code" id="cb196"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2013 population</span></span>
<span id="cb196-2"><a href="#cb196-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(pop2013)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 2576547 2629559 2692087 2905293 3017592 3054810 3099157 3182745 3199178
[10] 3141010</code></pre>
</div>
<div class="sourceCode cell-code" id="cb198"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb198-1"><a href="#cb198-1" aria-hidden="true" tabindex="-1"></a><span class="co"># first value of age_adj_rate_2013</span></span>
<span id="cb198-2"><a href="#cb198-2" aria-hidden="true" tabindex="-1"></a><span class="fu">weighted.mean</span>(rates, pop2013)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.004153878</code></pre>
</div>
</div>
<p>I’ll start by reusing my data.frame <code>mort_data_totals</code> which contains Year, Age, total_deaths, total_pop and total_death_rate.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb200"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb200-1"><a href="#cb200-1" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(mort_data_totals)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-dc8011a9e062aeccdac1" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-dc8011a9e062aeccdac1">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150"],[1999,1999,1999,1999,1999,1999,1999,1999,1999,1999,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2001,2001,2001,2001,2001,2001,2001,2001,2001,2001,2002,2002,2002,2002,2002,2002,2002,2002,2002,2002,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2009,2009,2009,2009,2009,2009,2009,2009,2009,2009,2010,2010,2010,2010,2010,2010,2010,2010,2010,2010,2011,2011,2011,2011,2011,2011,2011,2011,2011,2011,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013],[45,46,47,48,49,50,51,52,53,54,45,46,47,48,49,50,51,52,53,54,45,46,47,48,49,50,51,52,53,54,45,46,47,48,49,50,51,52,53,54,45,46,47,48,49,50,51,52,53,54,45,46,47,48,49,50,51,52,53,54,45,46,47,48,49,50,51,52,53,54,45,46,47,48,49,50,51,52,53,54,45,46,47,48,49,50,51,52,53,54,45,46,47,48,49,50,51,52,53,54,45,46,47,48,49,50,51,52,53,54,45,46,47,48,49,50,51,52,53,54,45,46,47,48,49,50,51,52,53,54,45,46,47,48,49,50,51,52,53,54,45,46,47,48,49,50,51,52,53,54],[8304,8809,9135,9461,10265,10808,12032,13760,11711,12523,8604,9032,9676,10149,10544,11254,11809,13261,14921,12714,8836,9417,10160,10512,11226,11433,12089,12975,14352,16086,9217,9874,10388,11026,11539,11996,12627,13166,14370,15609,9287,10069,10605,11262,11930,12498,13081,13425,14094,15581,9210,10083,10782,11282,11906,12725,13312,14018,14562,15157,9352,10060,10684,11603,12410,13115,13791,14817,15174,15663,9100,9923,10825,11750,12446,13307,13982,14974,15542,16120,8805,10007,10573,11460,12297,13411,14247,14857,15875,16366,8751,9687,10785,11564,12672,13734,14704,15368,16193,16965,8493,9532,10521,11507,12428,13445,14838,15983,16616,17377,7878,9220,10134,11035,12469,13446,14287,15684,16504,17377,7307,8614,9901,10846,12353,13633,14465,15771,16890,18056,6866,7883,9301,10534,11680,13080,14597,15646,16652,17903,6718,7621,8710,9962,11604,12896,14444,15736,16851,17989],[3166393,3007083,2986252,2805975,2859406,2868751,2804957,3093631,2148382,2254975,3207271,3057374,3025064,2946150,2826535,2872642,2777109,2899231,2889238,2168570,3152637,3187395,3090759,3014952,2939711,2862088,2849382,2792840,2812905,3030862,3256317,3146325,3180255,3079461,3008351,2925363,2857824,2836582,2785118,2804956,3260376,3251902,3139918,3167433,3073970,2991058,2924026,2842984,2830433,2778432,3211340,3259602,3247694,3126881,3164386,3054462,2993658,2907257,2838630,2825480,3279109,3213100,3256810,3233329,3125276,3142036,3060766,2974797,2904535,2834842,3222835,3284351,3212288,3242020,3234204,3100862,3152546,3039993,2974095,2901996,3137876,3230773,3285300,3196857,3244860,3206844,3114872,3129615,3041217,2972923,3074171,3148101,3233011,3268770,3201428,3215142,3225363,3090363,3133065,3041667,3036030,3086394,3151371,3215655,3275212,3169493,3237545,3198300,3095670,3134965,2992956,3052103,3092498,3155839,3220748,3266961,3175593,3228923,3156464,3102717,2705633,2921714,3036748,3076517,3123245,3209689,3228449,3171730,3195140,3182088,2636774,2700655,2915120,3028553,3066877,3112270,3197205,3214963,3157425,3179596,2576547,2629559,2692087,2905293,3017592,3054810,3099157,3182745,3199178,3141010],[0.00262254243235126,0.00292941697984392,0.00305901846193824,0.00337173353290746,0.00358990643511275,0.0037674932400895,0.00428954882374311,0.00444784785257195,0.00545107899805528,0.00555349837581348,0.00268265450596473,0.00295416916608828,0.00319861001287907,0.00344483478437961,0.00373036244023159,0.00391764793524567,0.00425226377502648,0.00457397151175605,0.00516433744814377,0.00586284971202221,0.00280273307710339,0.002954450264244,0.00328721844698988,0.00348662267259976,0.00381874272675103,0.00399463608386604,0.00424267437640864,0.00464580856762292,0.00510219861673252,0.00530740099681213,0.00283049838206784,0.00313826448316687,0.00326640473798485,0.00358049671679557,0.00383565614517721,0.00410068767534149,0.00441839665423763,0.00464150163823926,0.005159565950168,0.00556479317322625,0.0028484444738889,0.00309634177167701,0.00337747673665363,0.00355556060696469,0.00388097476553122,0.00417845458028564,0.00447362643150232,0.00472215109195127,0.00497945014066752,0.00560783924170179,0.00286796166086431,0.00309332243629744,0.00331989405405805,0.00360806823157005,0.00376249926526031,0.00416603644111467,0.00444673372843525,0.00482172714692922,0.00512993944261845,0.00536439826153432,0.00285199424599792,0.00313093274407893,0.00328051068376724,0.00358856151044326,0.0039708492945903,0.00417404510960409,0.00450573483892594,0.00498084407104081,0.00522424415612138,0.00552517565352849,0.00282360096002433,0.00302129705381672,0.00336987219078738,0.0036242836256408,0.00384824210222979,0.00429138736261078,0.00443514543483267,0.00492566923673837,0.00522579137519145,0.00555479745664708,0.00280603822458249,0.00309740114827009,0.00321827534776124,0.00358477091718522,0.00378968584160796,0.00418199326191109,0.00457386370932738,0.0047472292917819,0.00521994977668479,0.00550501980710567,0.00284662108906759,0.00307709314281848,0.00333589956854462,0.00353772214013222,0.00395823363823894,0.00427166202923541,0.00455886670740627,0.00497287859063806,0.00516842133821035,0.00557753363533878,0.00279740318771554,0.00308839376955761,0.00333854693719019,0.00357843114388826,0.00379456352749074,0.00424200337404121,0.00458310231981332,0.00499734233811712,0.00536749718154713,0.00554296459450106,0.00263218035948407,0.00302086790648939,0.00327696250733226,0.00349669295550248,0.00387146091529049,0.00411575161135991,0.00449900223359857,0.00485734717117751,0.00522863558716336,0.00560057523776742,0.00270066191534476,0.00294826940624579,0.00326039566009428,0.00352541526667982,0.00395518122977864,0.00424745201170581,0.00448047963588708,0.0049723652391597,0.00528615334539332,0.00567426167975241,0.00260393951093268,0.0029189215208903,0.00319060621861193,0.00347822871186339,0.00380843444324634,0.00420272020101084,0.0045655502227727,0.00486661899374892,0.00527391782861034,0.00563058954659649,0.00260736559434002,0.00289820460388985,0.00323540806816422,0.00342891405445165,0.00384545027956066,0.00422153914646083,0.00466062222727019,0.00494415983687037,0.00526729053525624,0.00572713872289487]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Year<\/th>\n      <th>Age<\/th>\n      <th>total_deaths<\/th>\n      <th>total_pop<\/th>\n      <th>total_death_rate<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>I’ll use a similar approach to how I created <code>death_rate_extrap_2013_data</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb201"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb201-1"><a href="#cb201-1" aria-hidden="true" tabindex="-1"></a>pop_1999_adj_death_rate <span class="ot">&lt;-</span> mort_data_totals <span class="sc">%&gt;%</span> <span class="fu">pivot_wider</span>(</span>
<span id="cb201-2"><a href="#cb201-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">names_from =</span> Year,</span>
<span id="cb201-3"><a href="#cb201-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">values_from =</span> <span class="fu">c</span>(total_death_rate, total_pop),</span>
<span id="cb201-4"><a href="#cb201-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">names_vary =</span> <span class="st">"slowest"</span>,</span>
<span id="cb201-5"><a href="#cb201-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">id_cols =</span> <span class="fu">c</span>(Age)</span>
<span id="cb201-6"><a href="#cb201-6" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb201-7"><a href="#cb201-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculate weighted mean for death rates with 1999 population</span></span>
<span id="cb201-8"><a href="#cb201-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">"total_death_rate"</span>), <span class="sc">~</span> <span class="fu">sum</span>(.x <span class="sc">*</span> total_pop_1999) <span class="sc">/</span> <span class="fu">sum</span>(total_pop_1999), <span class="at">.names =</span> <span class="st">"adj_{.col}"</span>)</span>
<span id="cb201-9"><a href="#cb201-9" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">pivot_longer</span>(</span>
<span id="cb201-10"><a href="#cb201-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># return back to a long table</span></span>
<span id="cb201-11"><a href="#cb201-11" aria-hidden="true" tabindex="-1"></a>  <span class="sc">!</span>Age,</span>
<span id="cb201-12"><a href="#cb201-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">".value"</span>, <span class="st">"Year"</span>),</span>
<span id="cb201-13"><a href="#cb201-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">names_pattern =</span> <span class="st">"^(.*)_([0-9]{4})$"</span></span>
<span id="cb201-14"><a href="#cb201-14" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(</span>
<span id="cb201-15"><a href="#cb201-15" aria-hidden="true" tabindex="-1"></a>  Year</span>
<span id="cb201-16"><a href="#cb201-16" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb201-17"><a href="#cb201-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># pull columns needed for plot</span></span>
<span id="cb201-18"><a href="#cb201-18" aria-hidden="true" tabindex="-1"></a>  Year,</span>
<span id="cb201-19"><a href="#cb201-19" aria-hidden="true" tabindex="-1"></a>  adj_total_death_rate</span>
<span id="cb201-20"><a href="#cb201-20" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(</span>
<span id="cb201-21"><a href="#cb201-21" aria-hidden="true" tabindex="-1"></a>  Year, adj_total_death_rate</span>
<span id="cb201-22"><a href="#cb201-22" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb201-23"><a href="#cb201-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># normalize death rate relative to 1999 value</span></span>
<span id="cb201-24"><a href="#cb201-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">adj_total_death_rate =</span> adj_total_death_rate <span class="sc">/</span> <span class="fl">0.0038151430187487</span>,</span>
<span id="cb201-25"><a href="#cb201-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># make Year continuous</span></span>
<span id="cb201-26"><a href="#cb201-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">Year =</span> <span class="fu">as.numeric</span>(Year)</span>
<span id="cb201-27"><a href="#cb201-27" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb201-28"><a href="#cb201-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb201-29"><a href="#cb201-29" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(pop_1999_adj_death_rate, <span class="at">options =</span> <span class="fu">list</span>(<span class="at">scrollX =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-b8958567094de260f5c7" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-b8958567094de260f5c7">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15"],[1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013],[1,1.0195328962614,1.01996186828999,1.04222369243194,1.04840004112161,1.04522310817269,1.0614374604828,1.05801987945167,1.04716560176583,1.06340669868749,1.06285047220044,1.04300935596002,1.05462324916938,1.04061169994497,1.04823124706936]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Year<\/th>\n      <th>adj_total_death_rate<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,2]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>I’ll create the same data.frame for the 2013 adjusted death rates:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb202"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb202-1"><a href="#cb202-1" aria-hidden="true" tabindex="-1"></a>pop_2013_adj_death_rate <span class="ot">&lt;-</span> mort_data_totals <span class="sc">%&gt;%</span> <span class="fu">pivot_wider</span>(</span>
<span id="cb202-2"><a href="#cb202-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">names_from =</span> Year,</span>
<span id="cb202-3"><a href="#cb202-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">values_from =</span> <span class="fu">c</span>(total_death_rate, total_pop),</span>
<span id="cb202-4"><a href="#cb202-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">names_vary =</span> <span class="st">"slowest"</span>,</span>
<span id="cb202-5"><a href="#cb202-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">id_cols =</span> <span class="fu">c</span>(Age)</span>
<span id="cb202-6"><a href="#cb202-6" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb202-7"><a href="#cb202-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculate weighted mean for death rates with 1999 population</span></span>
<span id="cb202-8"><a href="#cb202-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">"total_death_rate"</span>), <span class="sc">~</span> <span class="fu">sum</span>(.x <span class="sc">*</span> total_pop_2013) <span class="sc">/</span> <span class="fu">sum</span>(total_pop_2013), <span class="at">.names =</span> <span class="st">"adj_{.col}"</span>)</span>
<span id="cb202-9"><a href="#cb202-9" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">pivot_longer</span>(</span>
<span id="cb202-10"><a href="#cb202-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># return back to a long table</span></span>
<span id="cb202-11"><a href="#cb202-11" aria-hidden="true" tabindex="-1"></a>  <span class="sc">!</span>Age,</span>
<span id="cb202-12"><a href="#cb202-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">".value"</span>, <span class="st">"Year"</span>),</span>
<span id="cb202-13"><a href="#cb202-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">names_pattern =</span> <span class="st">"^(.*)_([0-9]{4})$"</span></span>
<span id="cb202-14"><a href="#cb202-14" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(</span>
<span id="cb202-15"><a href="#cb202-15" aria-hidden="true" tabindex="-1"></a>  Year</span>
<span id="cb202-16"><a href="#cb202-16" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb202-17"><a href="#cb202-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># pull columns needed for plot</span></span>
<span id="cb202-18"><a href="#cb202-18" aria-hidden="true" tabindex="-1"></a>  Year,</span>
<span id="cb202-19"><a href="#cb202-19" aria-hidden="true" tabindex="-1"></a>  adj_total_death_rate</span>
<span id="cb202-20"><a href="#cb202-20" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(</span>
<span id="cb202-21"><a href="#cb202-21" aria-hidden="true" tabindex="-1"></a>  Year, adj_total_death_rate</span>
<span id="cb202-22"><a href="#cb202-22" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb202-23"><a href="#cb202-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># normalize death rate relative to 1999 value</span></span>
<span id="cb202-24"><a href="#cb202-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">adj_total_death_rate =</span> adj_total_death_rate <span class="sc">/</span> <span class="fl">0.00397199977461337</span>,</span>
<span id="cb202-25"><a href="#cb202-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># make Year continuous</span></span>
<span id="cb202-26"><a href="#cb202-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">Year =</span> <span class="fu">as.numeric</span>(Year)</span>
<span id="cb202-27"><a href="#cb202-27" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb202-28"><a href="#cb202-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb202-29"><a href="#cb202-29" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(pop_2013_adj_death_rate, <span class="at">options =</span> <span class="fu">list</span>(<span class="at">scrollX =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-951bfab80563f2e1ea14" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-951bfab80563f2e1ea14">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15"],[1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013],[1,1.01733336735979,1.01244638113729,1.03523009945386,1.0397000299108,1.03624173958768,1.05368900069384,1.05091514859967,1.04074175431018,1.05566315588298,1.05673070124183,1.0385542832636,1.05053278632954,1.03790065877759,1.04579007368997]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Year<\/th>\n      <th>adj_total_death_rate<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,2]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Finally, I’ll plot the three lines:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb203"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb203-1"><a href="#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb203-2"><a href="#cb203-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> age_adj_rate_flat_data, <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> adj_death_rate)) <span class="sc">+</span></span>
<span id="cb203-3"><a href="#cb203-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> pop_1999_adj_death_rate, <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> adj_total_death_rate), <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb203-4"><a href="#cb203-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> pop_2013_adj_death_rate, <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> adj_total_death_rate), <span class="at">linetype =</span> <span class="st">"dotted"</span>) <span class="sc">+</span> </span>
<span id="cb203-5"><a href="#cb203-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="st">"Age-adj death rate, relative to 1999"</span>, <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb203-6"><a href="#cb203-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="st">"Year"</span>, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">2000</span>, <span class="dv">2005</span>, <span class="dv">2010</span>), <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span> </span>
<span id="cb203-7"><a href="#cb203-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb203-8"><a href="#cb203-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>),</span>
<span id="cb203-9"><a href="#cb203-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line.x =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"black"</span>),</span>
<span id="cb203-10"><a href="#cb203-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line.y =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"black"</span>),</span>
<span id="cb203-11"><a href="#cb203-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"grey"</span>, <span class="at">linetype =</span> <span class="st">"dotted"</span>, <span class="at">size =</span> <span class="fl">0.5</span>),</span>
<span id="cb203-12"><a href="#cb203-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb203-13"><a href="#cb203-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>)</span>
<span id="cb203-14"><a href="#cb203-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb203-15"><a href="#cb203-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"It doesn't matter too much what age adjustment</span><span class="sc">\n</span><span class="st">you use for 45-54-year-old non-Hisp whites"</span>) <span class="sc">+</span> </span>
<span id="cb203-16"><a href="#cb203-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">2003</span>, <span class="at">y =</span> <span class="fl">1.053</span>, <span class="at">label =</span> <span class="st">"Using 1999</span><span class="sc">\n</span><span class="st">age dist"</span>) <span class="sc">+</span> </span>
<span id="cb203-17"><a href="#cb203-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">2004</span>, <span class="at">y =</span> <span class="fl">1.032</span>, <span class="at">label =</span> <span class="st">"Using 2013</span><span class="sc">\n</span><span class="st">age dist"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-98-1.png" class="img-fluid" width="672"></p>
</div>
</div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>